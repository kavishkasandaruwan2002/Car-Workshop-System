function kf(i,l){for(var a=0;a<l.length;a++){const u=l[a];if(typeof u!="string"&&!Array.isArray(u)){for(const d in u)if(d!=="default"&&!(d in i)){const h=Object.getOwnPropertyDescriptor(u,d);h&&Object.defineProperty(i,d,h.get?h:{enumerable:!0,get:()=>u[d]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))u(d);new MutationObserver(d=>{for(const h of d)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&u(f)}).observe(document,{childList:!0,subtree:!0});function a(d){const h={};return d.integrity&&(h.integrity=d.integrity),d.referrerPolicy&&(h.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?h.credentials="include":d.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function u(d){if(d.ep)return;d.ep=!0;const h=a(d);fetch(d.href,h)}})();function fo(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Ji={exports:{}},Sn={},Gi={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hd;function Sf(){if(hd)return Ee;hd=1;var i=Symbol.for("react.element"),l=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),j=Symbol.iterator;function _(p){return p===null||typeof p!="object"?null:(p=j&&p[j]||p["@@iterator"],typeof p=="function"?p:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,U={};function L(p,b,z){this.props=p,this.context=b,this.refs=U,this.updater=z||B}L.prototype.isReactComponent={},L.prototype.setState=function(p,b){if(typeof p!="object"&&typeof p!="function"&&p!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,p,b,"setState")},L.prototype.forceUpdate=function(p){this.updater.enqueueForceUpdate(this,p,"forceUpdate")};function T(){}T.prototype=L.prototype;function J(p,b,z){this.props=p,this.context=b,this.refs=U,this.updater=z||B}var q=J.prototype=new T;q.constructor=J,O(q,L.prototype),q.isPureReactComponent=!0;var K=Array.isArray,te=Object.prototype.hasOwnProperty,ue={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function D(p,b,z){var ee,ae={},re=null,je=null;if(b!=null)for(ee in b.ref!==void 0&&(je=b.ref),b.key!==void 0&&(re=""+b.key),b)te.call(b,ee)&&!$.hasOwnProperty(ee)&&(ae[ee]=b[ee]);var S=arguments.length-2;if(S===1)ae.children=z;else if(1<S){for(var H=Array(S),se=0;se<S;se++)H[se]=arguments[se+2];ae.children=H}if(p&&p.defaultProps)for(ee in S=p.defaultProps,S)ae[ee]===void 0&&(ae[ee]=S[ee]);return{$$typeof:i,type:p,key:re,ref:je,props:ae,_owner:ue.current}}function V(p,b){return{$$typeof:i,type:p.type,key:b,ref:p.ref,props:p.props,_owner:p._owner}}function le(p){return typeof p=="object"&&p!==null&&p.$$typeof===i}function M(p){var b={"=":"=0",":":"=2"};return"$"+p.replace(/[=:]/g,function(z){return b[z]})}var ie=/\/+/g;function ce(p,b){return typeof p=="object"&&p!==null&&p.key!=null?M(""+p.key):b.toString(36)}function de(p,b,z,ee,ae){var re=typeof p;(re==="undefined"||re==="boolean")&&(p=null);var je=!1;if(p===null)je=!0;else switch(re){case"string":case"number":je=!0;break;case"object":switch(p.$$typeof){case i:case l:je=!0}}if(je)return je=p,ae=ae(je),p=ee===""?"."+ce(je,0):ee,K(ae)?(z="",p!=null&&(z=p.replace(ie,"$&/")+"/"),de(ae,b,z,"",function(se){return se})):ae!=null&&(le(ae)&&(ae=V(ae,z+(!ae.key||je&&je.key===ae.key?"":(""+ae.key).replace(ie,"$&/")+"/")+p)),b.push(ae)),1;if(je=0,ee=ee===""?".":ee+":",K(p))for(var S=0;S<p.length;S++){re=p[S];var H=ee+ce(re,S);je+=de(re,b,z,H,ae)}else if(H=_(p),typeof H=="function")for(p=H.call(p),S=0;!(re=p.next()).done;)re=re.value,H=ee+ce(re,S++),je+=de(re,b,z,H,ae);else if(re==="object")throw b=String(p),Error("Objects are not valid as a React child (found: "+(b==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":b)+"). If you meant to render a collection of children, use an array instead.");return je}function Se(p,b,z){if(p==null)return p;var ee=[],ae=0;return de(p,ee,"","",function(re){return b.call(z,re,ae++)}),ee}function Te(p){if(p._status===-1){var b=p._result;b=b(),b.then(function(z){(p._status===0||p._status===-1)&&(p._status=1,p._result=z)},function(z){(p._status===0||p._status===-1)&&(p._status=2,p._result=z)}),p._status===-1&&(p._status=0,p._result=b)}if(p._status===1)return p._result.default;throw p._result}var I={current:null},G={transition:null},ne={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:G,ReactCurrentOwner:ue};function x(){throw Error("act(...) is not supported in production builds of React.")}return Ee.Children={map:Se,forEach:function(p,b,z){Se(p,function(){b.apply(this,arguments)},z)},count:function(p){var b=0;return Se(p,function(){b++}),b},toArray:function(p){return Se(p,function(b){return b})||[]},only:function(p){if(!le(p))throw Error("React.Children.only expected to receive a single React element child.");return p}},Ee.Component=L,Ee.Fragment=a,Ee.Profiler=d,Ee.PureComponent=J,Ee.StrictMode=u,Ee.Suspense=v,Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,Ee.act=x,Ee.cloneElement=function(p,b,z){if(p==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+p+".");var ee=O({},p.props),ae=p.key,re=p.ref,je=p._owner;if(b!=null){if(b.ref!==void 0&&(re=b.ref,je=ue.current),b.key!==void 0&&(ae=""+b.key),p.type&&p.type.defaultProps)var S=p.type.defaultProps;for(H in b)te.call(b,H)&&!$.hasOwnProperty(H)&&(ee[H]=b[H]===void 0&&S!==void 0?S[H]:b[H])}var H=arguments.length-2;if(H===1)ee.children=z;else if(1<H){S=Array(H);for(var se=0;se<H;se++)S[se]=arguments[se+2];ee.children=S}return{$$typeof:i,type:p.type,key:ae,ref:re,props:ee,_owner:je}},Ee.createContext=function(p){return p={$$typeof:f,_currentValue:p,_currentValue2:p,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},p.Provider={$$typeof:h,_context:p},p.Consumer=p},Ee.createElement=D,Ee.createFactory=function(p){var b=D.bind(null,p);return b.type=p,b},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(p){return{$$typeof:g,render:p}},Ee.isValidElement=le,Ee.lazy=function(p){return{$$typeof:y,_payload:{_status:-1,_result:p},_init:Te}},Ee.memo=function(p,b){return{$$typeof:E,type:p,compare:b===void 0?null:b}},Ee.startTransition=function(p){var b=G.transition;G.transition={};try{p()}finally{G.transition=b}},Ee.unstable_act=x,Ee.useCallback=function(p,b){return I.current.useCallback(p,b)},Ee.useContext=function(p){return I.current.useContext(p)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(p){return I.current.useDeferredValue(p)},Ee.useEffect=function(p,b){return I.current.useEffect(p,b)},Ee.useId=function(){return I.current.useId()},Ee.useImperativeHandle=function(p,b,z){return I.current.useImperativeHandle(p,b,z)},Ee.useInsertionEffect=function(p,b){return I.current.useInsertionEffect(p,b)},Ee.useLayoutEffect=function(p,b){return I.current.useLayoutEffect(p,b)},Ee.useMemo=function(p,b){return I.current.useMemo(p,b)},Ee.useReducer=function(p,b,z){return I.current.useReducer(p,b,z)},Ee.useRef=function(p){return I.current.useRef(p)},Ee.useState=function(p){return I.current.useState(p)},Ee.useSyncExternalStore=function(p,b,z){return I.current.useSyncExternalStore(p,b,z)},Ee.useTransition=function(){return I.current.useTransition()},Ee.version="18.3.1",Ee}var fd;function po(){return fd||(fd=1,Gi.exports=Sf()),Gi.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pd;function Cf(){if(pd)return Sn;pd=1;var i=po(),l=Symbol.for("react.element"),a=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,d=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h={key:!0,ref:!0,__self:!0,__source:!0};function f(g,v,E){var y,j={},_=null,B=null;E!==void 0&&(_=""+E),v.key!==void 0&&(_=""+v.key),v.ref!==void 0&&(B=v.ref);for(y in v)u.call(v,y)&&!h.hasOwnProperty(y)&&(j[y]=v[y]);if(g&&g.defaultProps)for(y in v=g.defaultProps,v)j[y]===void 0&&(j[y]=v[y]);return{$$typeof:l,type:g,key:_,ref:B,props:j,_owner:d.current}}return Sn.Fragment=a,Sn.jsx=f,Sn.jsxs=f,Sn}var xd;function Ef(){return xd||(xd=1,Ji.exports=Cf()),Ji.exports}var r=Ef(),k=po();const Hd=fo(k),Pf=kf({__proto__:null,default:Hd},[k]);var Va={},Qi={exports:{}},gt={},Yi={exports:{}},Ki={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gd;function _f(){return gd||(gd=1,(function(i){function l(G,ne){var x=G.length;G.push(ne);e:for(;0<x;){var p=x-1>>>1,b=G[p];if(0<d(b,ne))G[p]=ne,G[x]=b,x=p;else break e}}function a(G){return G.length===0?null:G[0]}function u(G){if(G.length===0)return null;var ne=G[0],x=G.pop();if(x!==ne){G[0]=x;e:for(var p=0,b=G.length,z=b>>>1;p<z;){var ee=2*(p+1)-1,ae=G[ee],re=ee+1,je=G[re];if(0>d(ae,x))re<b&&0>d(je,ae)?(G[p]=je,G[re]=x,p=re):(G[p]=ae,G[ee]=x,p=ee);else if(re<b&&0>d(je,x))G[p]=je,G[re]=x,p=re;else break e}}return ne}function d(G,ne){var x=G.sortIndex-ne.sortIndex;return x!==0?x:G.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;i.unstable_now=function(){return h.now()}}else{var f=Date,g=f.now();i.unstable_now=function(){return f.now()-g}}var v=[],E=[],y=1,j=null,_=3,B=!1,O=!1,U=!1,L=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function q(G){for(var ne=a(E);ne!==null;){if(ne.callback===null)u(E);else if(ne.startTime<=G)u(E),ne.sortIndex=ne.expirationTime,l(v,ne);else break;ne=a(E)}}function K(G){if(U=!1,q(G),!O)if(a(v)!==null)O=!0,Te(te);else{var ne=a(E);ne!==null&&I(K,ne.startTime-G)}}function te(G,ne){O=!1,U&&(U=!1,T(D),D=-1),B=!0;var x=_;try{for(q(ne),j=a(v);j!==null&&(!(j.expirationTime>ne)||G&&!M());){var p=j.callback;if(typeof p=="function"){j.callback=null,_=j.priorityLevel;var b=p(j.expirationTime<=ne);ne=i.unstable_now(),typeof b=="function"?j.callback=b:j===a(v)&&u(v),q(ne)}else u(v);j=a(v)}if(j!==null)var z=!0;else{var ee=a(E);ee!==null&&I(K,ee.startTime-ne),z=!1}return z}finally{j=null,_=x,B=!1}}var ue=!1,$=null,D=-1,V=5,le=-1;function M(){return!(i.unstable_now()-le<V)}function ie(){if($!==null){var G=i.unstable_now();le=G;var ne=!0;try{ne=$(!0,G)}finally{ne?ce():(ue=!1,$=null)}}else ue=!1}var ce;if(typeof J=="function")ce=function(){J(ie)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,Se=de.port2;de.port1.onmessage=ie,ce=function(){Se.postMessage(null)}}else ce=function(){L(ie,0)};function Te(G){$=G,ue||(ue=!0,ce())}function I(G,ne){D=L(function(){G(i.unstable_now())},ne)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_continueExecution=function(){O||B||(O=!0,Te(te))},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return _},i.unstable_getFirstCallbackNode=function(){return a(v)},i.unstable_next=function(G){switch(_){case 1:case 2:case 3:var ne=3;break;default:ne=_}var x=_;_=ne;try{return G()}finally{_=x}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(G,ne){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var x=_;_=G;try{return ne()}finally{_=x}},i.unstable_scheduleCallback=function(G,ne,x){var p=i.unstable_now();switch(typeof x=="object"&&x!==null?(x=x.delay,x=typeof x=="number"&&0<x?p+x:p):x=p,G){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=x+b,G={id:y++,callback:ne,priorityLevel:G,startTime:x,expirationTime:b,sortIndex:-1},x>p?(G.sortIndex=x,l(E,G),a(v)===null&&G===a(E)&&(U?(T(D),D=-1):U=!0,I(K,x-p))):(G.sortIndex=b,l(v,G),O||B||(O=!0,Te(te))),G},i.unstable_shouldYield=M,i.unstable_wrapCallback=function(G){var ne=_;return function(){var x=_;_=ne;try{return G.apply(this,arguments)}finally{_=x}}}})(Ki)),Ki}var yd;function Tf(){return yd||(yd=1,Yi.exports=_f()),Yi.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vd;function Df(){if(vd)return gt;vd=1;var i=po(),l=Tf();function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=new Set,d={};function h(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(d[e]=t,e=0;e<t.length;e++)u.add(t[e])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v=Object.prototype.hasOwnProperty,E=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},j={};function _(e){return v.call(j,e)?!0:v.call(y,e)?!1:E.test(e)?j[e]=!0:(y[e]=!0,!1)}function B(e,t,s,n){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function O(e,t,s,n){if(t===null||typeof t>"u"||B(e,t,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function U(e,t,s,n,o,c,m){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=c,this.removeEmptyString=m}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){L[e]=new U(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];L[t]=new U(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){L[e]=new U(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){L[e]=new U(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){L[e]=new U(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){L[e]=new U(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){L[e]=new U(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){L[e]=new U(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){L[e]=new U(e,5,!1,e.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function J(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(T,J);L[t]=new U(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(T,J);L[t]=new U(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(T,J);L[t]=new U(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){L[e]=new U(e,1,!1,e.toLowerCase(),null,!1,!1)}),L.xlinkHref=new U("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){L[e]=new U(e,1,!1,e.toLowerCase(),null,!0,!0)});function q(e,t,s,n){var o=L.hasOwnProperty(t)?L[t]:null;(o!==null?o.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(O(t,s,o,n)&&(s=null),n||o===null?_(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):o.mustUseProperty?e[o.propertyName]=s===null?o.type===3?!1:"":s:(t=o.attributeName,n=o.attributeNamespace,s===null?e.removeAttribute(t):(o=o.type,s=o===3||o===4&&s===!0?"":""+s,n?e.setAttributeNS(n,t,s):e.setAttribute(t,s))))}var K=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,te=Symbol.for("react.element"),ue=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),le=Symbol.for("react.provider"),M=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),Se=Symbol.for("react.memo"),Te=Symbol.for("react.lazy"),I=Symbol.for("react.offscreen"),G=Symbol.iterator;function ne(e){return e===null||typeof e!="object"?null:(e=G&&e[G]||e["@@iterator"],typeof e=="function"?e:null)}var x=Object.assign,p;function b(e){if(p===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);p=t&&t[1]||""}return`
`+p+e}var z=!1;function ee(e,t){if(!e||z)return"";z=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(F){var n=F}Reflect.construct(e,[],t)}else{try{t.call()}catch(F){n=F}e.call(t.prototype)}else{try{throw Error()}catch(F){n=F}e()}}catch(F){if(F&&n&&typeof F.stack=="string"){for(var o=F.stack.split(`
`),c=n.stack.split(`
`),m=o.length-1,w=c.length-1;1<=m&&0<=w&&o[m]!==c[w];)w--;for(;1<=m&&0<=w;m--,w--)if(o[m]!==c[w]){if(m!==1||w!==1)do if(m--,w--,0>w||o[m]!==c[w]){var N=`
`+o[m].replace(" at new "," at ");return e.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",e.displayName)),N}while(1<=m&&0<=w);break}}}finally{z=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?b(e):""}function ae(e){switch(e.tag){case 5:return b(e.type);case 16:return b("Lazy");case 13:return b("Suspense");case 19:return b("SuspenseList");case 0:case 2:case 15:return e=ee(e.type,!1),e;case 11:return e=ee(e.type.render,!1),e;case 1:return e=ee(e.type,!0),e;default:return""}}function re(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $:return"Fragment";case ue:return"Portal";case V:return"Profiler";case D:return"StrictMode";case ce:return"Suspense";case de:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case M:return(e.displayName||"Context")+".Consumer";case le:return(e._context.displayName||"Context")+".Provider";case ie:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Se:return t=e.displayName||null,t!==null?t:re(e.type)||"Memo";case Te:t=e._payload,e=e._init;try{return re(e(t))}catch{}}return null}function je(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return re(t);case 8:return t===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function S(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function se(e){var t=H(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var o=s.get,c=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(m){n=""+m,c.call(this,m)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(m){n=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function W(e){e._valueTracker||(e._valueTracker=se(e))}function ke(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),n="";return e&&(n=H(e)?e.checked?"true":"false":e.value),e=n,e!==s?(t.setValue(e),!0):!1}function Le(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Dt(e,t){var s=t.checked;return x({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function dt(e,t){var s=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;s=S(t.value!=null?t.value:s),e._wrapperState={initialChecked:n,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Is(e,t){t=t.checked,t!=null&&q(e,"checked",t,!1)}function Xe(e,t){Is(e,t);var s=S(t.value),n=t.type;if(s!=null)n==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$s(e,t.type,s):t.hasOwnProperty("defaultValue")&&$s(e,t.type,S(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Rn(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function $s(e,t,s){(t!=="number"||Le(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var $r=Array.isArray;function hr(e,t,s,n){if(e=e.options,t){t={};for(var o=0;o<s.length;o++)t["$"+s[o]]=!0;for(s=0;s<e.length;s++)o=t.hasOwnProperty("$"+e[s].value),e[s].selected!==o&&(e[s].selected=o),o&&n&&(e[s].defaultSelected=!0)}else{for(s=""+S(s),t=null,o=0;o<e.length;o++){if(e[o].value===s){e[o].selected=!0,n&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function ns(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(a(91));return x({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function P(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(a(92));if($r(s)){if(1<s.length)throw Error(a(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:S(s)}}function he(e,t){var s=S(t.value),n=S(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),n!=null&&(e.defaultValue=""+n)}function Ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Je(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function at(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Je(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var we,Eo=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,n,o){MSApp.execUnsafeLocalFunction(function(){return e(t,s,n,o)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(we=we||document.createElement("div"),we.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=we.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zs(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Us={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Em=["Webkit","ms","Moz","O"];Object.keys(Us).forEach(function(e){Em.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Us[t]=Us[e]})});function Po(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||Us.hasOwnProperty(e)&&Us[e]?(""+t).trim():t+"px"}function _o(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var n=s.indexOf("--")===0,o=Po(s,t[s],n);s==="float"&&(s="cssFloat"),n?e.setProperty(s,o):e[s]=o}}var Pm=x({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function al(e,t){if(t){if(Pm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(a(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(a(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(t.style!=null&&typeof t.style!="object")throw Error(a(62))}}function ll(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var il=null;function ol(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cl=null,as=null,ls=null;function To(e){if(e=un(e)){if(typeof cl!="function")throw Error(a(280));var t=e.stateNode;t&&(t=sa(t),cl(e.stateNode,e.type,t))}}function Do(e){as?ls?ls.push(e):ls=[e]:as=e}function Ao(){if(as){var e=as,t=ls;if(ls=as=null,To(e),t)for(e=0;e<t.length;e++)To(t[e])}}function Mo(e,t){return e(t)}function Ro(){}var ul=!1;function Fo(e,t,s){if(ul)return e(t,s);ul=!0;try{return Mo(e,t,s)}finally{ul=!1,(as!==null||ls!==null)&&(Ro(),Ao())}}function Vs(e,t){var s=e.stateNode;if(s===null)return null;var n=sa(s);if(n===null)return null;s=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,t,typeof s));return s}var dl=!1;if(g)try{var Bs={};Object.defineProperty(Bs,"passive",{get:function(){dl=!0}}),window.addEventListener("test",Bs,Bs),window.removeEventListener("test",Bs,Bs)}catch{dl=!1}function _m(e,t,s,n,o,c,m,w,N){var F=Array.prototype.slice.call(arguments,3);try{t.apply(s,F)}catch(Y){this.onError(Y)}}var Hs=!1,Fn=null,On=!1,ml=null,Tm={onError:function(e){Hs=!0,Fn=e}};function Dm(e,t,s,n,o,c,m,w,N){Hs=!1,Fn=null,_m.apply(Tm,arguments)}function Am(e,t,s,n,o,c,m,w,N){if(Dm.apply(this,arguments),Hs){if(Hs){var F=Fn;Hs=!1,Fn=null}else throw Error(a(198));On||(On=!0,ml=F)}}function zr(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function Oo(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Lo(e){if(zr(e)!==e)throw Error(a(188))}function Mm(e){var t=e.alternate;if(!t){if(t=zr(e),t===null)throw Error(a(188));return t!==e?null:e}for(var s=e,n=t;;){var o=s.return;if(o===null)break;var c=o.alternate;if(c===null){if(n=o.return,n!==null){s=n;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===s)return Lo(o),e;if(c===n)return Lo(o),t;c=c.sibling}throw Error(a(188))}if(s.return!==n.return)s=o,n=c;else{for(var m=!1,w=o.child;w;){if(w===s){m=!0,s=o,n=c;break}if(w===n){m=!0,n=o,s=c;break}w=w.sibling}if(!m){for(w=c.child;w;){if(w===s){m=!0,s=c,n=o;break}if(w===n){m=!0,n=c,s=o;break}w=w.sibling}if(!m)throw Error(a(189))}}if(s.alternate!==n)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:t}function Io(e){return e=Mm(e),e!==null?$o(e):null}function $o(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=$o(e);if(t!==null)return t;e=e.sibling}return null}var zo=l.unstable_scheduleCallback,Uo=l.unstable_cancelCallback,Rm=l.unstable_shouldYield,Fm=l.unstable_requestPaint,Ue=l.unstable_now,Om=l.unstable_getCurrentPriorityLevel,hl=l.unstable_ImmediatePriority,Vo=l.unstable_UserBlockingPriority,Ln=l.unstable_NormalPriority,Lm=l.unstable_LowPriority,Bo=l.unstable_IdlePriority,In=null,Ut=null;function Im(e){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(In,e,void 0,(e.current.flags&128)===128)}catch{}}var At=Math.clz32?Math.clz32:Um,$m=Math.log,zm=Math.LN2;function Um(e){return e>>>=0,e===0?32:31-($m(e)/zm|0)|0}var $n=64,zn=4194304;function qs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Un(e,t){var s=e.pendingLanes;if(s===0)return 0;var n=0,o=e.suspendedLanes,c=e.pingedLanes,m=s&268435455;if(m!==0){var w=m&~o;w!==0?n=qs(w):(c&=m,c!==0&&(n=qs(c)))}else m=s&~o,m!==0?n=qs(m):c!==0&&(n=qs(c));if(n===0)return 0;if(t!==0&&t!==n&&(t&o)===0&&(o=n&-n,c=t&-t,o>=c||o===16&&(c&4194240)!==0))return t;if((n&4)!==0&&(n|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)s=31-At(t),o=1<<s,n|=e[s],t&=~o;return n}function Vm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bm(e,t){for(var s=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,c=e.pendingLanes;0<c;){var m=31-At(c),w=1<<m,N=o[m];N===-1?((w&s)===0||(w&n)!==0)&&(o[m]=Vm(w,t)):N<=t&&(e.expiredLanes|=w),c&=~w}}function fl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ho(){var e=$n;return $n<<=1,($n&4194240)===0&&($n=64),e}function pl(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Ws(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-At(t),e[t]=s}function Hm(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<s;){var o=31-At(s),c=1<<o;t[o]=0,n[o]=-1,e[o]=-1,s&=~c}}function xl(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var n=31-At(s),o=1<<n;o&t|e[n]&t&&(e[n]|=t),s&=~o}}var De=0;function qo(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Wo,gl,Jo,Go,Qo,yl=!1,Vn=[],fr=null,pr=null,xr=null,Js=new Map,Gs=new Map,gr=[],qm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yo(e,t){switch(e){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":Js.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gs.delete(t.pointerId)}}function Qs(e,t,s,n,o,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:s,eventSystemFlags:n,nativeEvent:c,targetContainers:[o]},t!==null&&(t=un(t),t!==null&&gl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Wm(e,t,s,n,o){switch(t){case"focusin":return fr=Qs(fr,e,t,s,n,o),!0;case"dragenter":return pr=Qs(pr,e,t,s,n,o),!0;case"mouseover":return xr=Qs(xr,e,t,s,n,o),!0;case"pointerover":var c=o.pointerId;return Js.set(c,Qs(Js.get(c)||null,e,t,s,n,o)),!0;case"gotpointercapture":return c=o.pointerId,Gs.set(c,Qs(Gs.get(c)||null,e,t,s,n,o)),!0}return!1}function Ko(e){var t=Ur(e.target);if(t!==null){var s=zr(t);if(s!==null){if(t=s.tag,t===13){if(t=Oo(s),t!==null){e.blockedOn=t,Qo(e.priority,function(){Jo(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bn(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=wl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var n=new s.constructor(s.type,s);il=n,s.target.dispatchEvent(n),il=null}else return t=un(s),t!==null&&gl(t),e.blockedOn=s,!1;t.shift()}return!0}function Zo(e,t,s){Bn(e)&&s.delete(t)}function Jm(){yl=!1,fr!==null&&Bn(fr)&&(fr=null),pr!==null&&Bn(pr)&&(pr=null),xr!==null&&Bn(xr)&&(xr=null),Js.forEach(Zo),Gs.forEach(Zo)}function Ys(e,t){e.blockedOn===t&&(e.blockedOn=null,yl||(yl=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Jm)))}function Ks(e){function t(o){return Ys(o,e)}if(0<Vn.length){Ys(Vn[0],e);for(var s=1;s<Vn.length;s++){var n=Vn[s];n.blockedOn===e&&(n.blockedOn=null)}}for(fr!==null&&Ys(fr,e),pr!==null&&Ys(pr,e),xr!==null&&Ys(xr,e),Js.forEach(t),Gs.forEach(t),s=0;s<gr.length;s++)n=gr[s],n.blockedOn===e&&(n.blockedOn=null);for(;0<gr.length&&(s=gr[0],s.blockedOn===null);)Ko(s),s.blockedOn===null&&gr.shift()}var is=K.ReactCurrentBatchConfig,Hn=!0;function Gm(e,t,s,n){var o=De,c=is.transition;is.transition=null;try{De=1,vl(e,t,s,n)}finally{De=o,is.transition=c}}function Qm(e,t,s,n){var o=De,c=is.transition;is.transition=null;try{De=4,vl(e,t,s,n)}finally{De=o,is.transition=c}}function vl(e,t,s,n){if(Hn){var o=wl(e,t,s,n);if(o===null)Ll(e,t,n,qn,s),Yo(e,n);else if(Wm(o,e,t,s,n))n.stopPropagation();else if(Yo(e,n),t&4&&-1<qm.indexOf(e)){for(;o!==null;){var c=un(o);if(c!==null&&Wo(c),c=wl(e,t,s,n),c===null&&Ll(e,t,n,qn,s),c===o)break;o=c}o!==null&&n.stopPropagation()}else Ll(e,t,n,null,s)}}var qn=null;function wl(e,t,s,n){if(qn=null,e=ol(n),e=Ur(e),e!==null)if(t=zr(e),t===null)e=null;else if(s=t.tag,s===13){if(e=Oo(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qn=e,null}function Xo(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Om()){case hl:return 1;case Vo:return 4;case Ln:case Lm:return 16;case Bo:return 536870912;default:return 16}default:return 16}}var yr=null,jl=null,Wn=null;function ec(){if(Wn)return Wn;var e,t=jl,s=t.length,n,o="value"in yr?yr.value:yr.textContent,c=o.length;for(e=0;e<s&&t[e]===o[e];e++);var m=s-e;for(n=1;n<=m&&t[s-n]===o[c-n];n++);return Wn=o.slice(e,1<n?1-n:void 0)}function Jn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gn(){return!0}function tc(){return!1}function vt(e){function t(s,n,o,c,m){this._reactName=s,this._targetInst=o,this.type=n,this.nativeEvent=c,this.target=m,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(s=e[w],this[w]=s?s(c):c[w]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Gn:tc,this.isPropagationStopped=tc,this}return x(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){},isPersistent:Gn}),t}var os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bl=vt(os),Zs=x({},os,{view:0,detail:0}),Ym=vt(Zs),Nl,kl,Xs,Qn=x({},Zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xs&&(Xs&&e.type==="mousemove"?(Nl=e.screenX-Xs.screenX,kl=e.screenY-Xs.screenY):kl=Nl=0,Xs=e),Nl)},movementY:function(e){return"movementY"in e?e.movementY:kl}}),rc=vt(Qn),Km=x({},Qn,{dataTransfer:0}),Zm=vt(Km),Xm=x({},Zs,{relatedTarget:0}),Sl=vt(Xm),eh=x({},os,{animationName:0,elapsedTime:0,pseudoElement:0}),th=vt(eh),rh=x({},os,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sh=vt(rh),nh=x({},os,{data:0}),sc=vt(nh),ah={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ih={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ih[e])?!!t[e]:!1}function Cl(){return oh}var ch=x({},Zs,{key:function(e){if(e.key){var t=ah[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Jn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cl,charCode:function(e){return e.type==="keypress"?Jn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Jn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),uh=vt(ch),dh=x({},Qn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nc=vt(dh),mh=x({},Zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cl}),hh=vt(mh),fh=x({},os,{propertyName:0,elapsedTime:0,pseudoElement:0}),ph=vt(fh),xh=x({},Qn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gh=vt(xh),yh=[9,13,27,32],El=g&&"CompositionEvent"in window,en=null;g&&"documentMode"in document&&(en=document.documentMode);var vh=g&&"TextEvent"in window&&!en,ac=g&&(!El||en&&8<en&&11>=en),lc=" ",ic=!1;function oc(e,t){switch(e){case"keyup":return yh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cs=!1;function wh(e,t){switch(e){case"compositionend":return cc(t);case"keypress":return t.which!==32?null:(ic=!0,lc);case"textInput":return e=t.data,e===lc&&ic?null:e;default:return null}}function jh(e,t){if(cs)return e==="compositionend"||!El&&oc(e,t)?(e=ec(),Wn=jl=yr=null,cs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ac&&t.locale!=="ko"?null:t.data;default:return null}}var bh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bh[e.type]:t==="textarea"}function dc(e,t,s,n){Do(n),t=ea(t,"onChange"),0<t.length&&(s=new bl("onChange","change",null,s,n),e.push({event:s,listeners:t}))}var tn=null,rn=null;function Nh(e){_c(e,0)}function Yn(e){var t=fs(e);if(ke(t))return e}function kh(e,t){if(e==="change")return t}var mc=!1;if(g){var Pl;if(g){var _l="oninput"in document;if(!_l){var hc=document.createElement("div");hc.setAttribute("oninput","return;"),_l=typeof hc.oninput=="function"}Pl=_l}else Pl=!1;mc=Pl&&(!document.documentMode||9<document.documentMode)}function fc(){tn&&(tn.detachEvent("onpropertychange",pc),rn=tn=null)}function pc(e){if(e.propertyName==="value"&&Yn(rn)){var t=[];dc(t,rn,e,ol(e)),Fo(Nh,t)}}function Sh(e,t,s){e==="focusin"?(fc(),tn=t,rn=s,tn.attachEvent("onpropertychange",pc)):e==="focusout"&&fc()}function Ch(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yn(rn)}function Eh(e,t){if(e==="click")return Yn(t)}function Ph(e,t){if(e==="input"||e==="change")return Yn(t)}function _h(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mt=typeof Object.is=="function"?Object.is:_h;function sn(e,t){if(Mt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var o=s[n];if(!v.call(t,o)||!Mt(e[o],t[o]))return!1}return!0}function xc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gc(e,t){var s=xc(e);e=0;for(var n;s;){if(s.nodeType===3){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=xc(s)}}function yc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vc(){for(var e=window,t=Le();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Le(e.document)}return t}function Tl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Th(e){var t=vc(),s=e.focusedElem,n=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&yc(s.ownerDocument.documentElement,s)){if(n!==null&&Tl(s)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=s.textContent.length,c=Math.min(n.start,o);n=n.end===void 0?c:Math.min(n.end,o),!e.extend&&c>n&&(o=n,n=c,c=o),o=gc(s,c);var m=gc(s,n);o&&m&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==m.node||e.focusOffset!==m.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),c>n?(e.addRange(t),e.extend(m.node,m.offset)):(t.setEnd(m.node,m.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Dh=g&&"documentMode"in document&&11>=document.documentMode,us=null,Dl=null,nn=null,Al=!1;function wc(e,t,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Al||us==null||us!==Le(n)||(n=us,"selectionStart"in n&&Tl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),nn&&sn(nn,n)||(nn=n,n=ea(Dl,"onSelect"),0<n.length&&(t=new bl("onSelect","select",null,t,s),e.push({event:t,listeners:n}),t.target=us)))}function Kn(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var ds={animationend:Kn("Animation","AnimationEnd"),animationiteration:Kn("Animation","AnimationIteration"),animationstart:Kn("Animation","AnimationStart"),transitionend:Kn("Transition","TransitionEnd")},Ml={},jc={};g&&(jc=document.createElement("div").style,"AnimationEvent"in window||(delete ds.animationend.animation,delete ds.animationiteration.animation,delete ds.animationstart.animation),"TransitionEvent"in window||delete ds.transitionend.transition);function Zn(e){if(Ml[e])return Ml[e];if(!ds[e])return e;var t=ds[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in jc)return Ml[e]=t[s];return e}var bc=Zn("animationend"),Nc=Zn("animationiteration"),kc=Zn("animationstart"),Sc=Zn("transitionend"),Cc=new Map,Ec="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vr(e,t){Cc.set(e,t),h(t,[e])}for(var Rl=0;Rl<Ec.length;Rl++){var Fl=Ec[Rl],Ah=Fl.toLowerCase(),Mh=Fl[0].toUpperCase()+Fl.slice(1);vr(Ah,"on"+Mh)}vr(bc,"onAnimationEnd"),vr(Nc,"onAnimationIteration"),vr(kc,"onAnimationStart"),vr("dblclick","onDoubleClick"),vr("focusin","onFocus"),vr("focusout","onBlur"),vr(Sc,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),h("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),h("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),h("onBeforeInput",["compositionend","keypress","textInput","paste"]),h("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),h("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),h("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var an="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rh=new Set("cancel close invalid load scroll toggle".split(" ").concat(an));function Pc(e,t,s){var n=e.type||"unknown-event";e.currentTarget=s,Am(n,t,void 0,e),e.currentTarget=null}function _c(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var n=e[s],o=n.event;n=n.listeners;e:{var c=void 0;if(t)for(var m=n.length-1;0<=m;m--){var w=n[m],N=w.instance,F=w.currentTarget;if(w=w.listener,N!==c&&o.isPropagationStopped())break e;Pc(o,w,F),c=N}else for(m=0;m<n.length;m++){if(w=n[m],N=w.instance,F=w.currentTarget,w=w.listener,N!==c&&o.isPropagationStopped())break e;Pc(o,w,F),c=N}}}if(On)throw e=ml,On=!1,ml=null,e}function Re(e,t){var s=t[Bl];s===void 0&&(s=t[Bl]=new Set);var n=e+"__bubble";s.has(n)||(Tc(t,e,2,!1),s.add(n))}function Ol(e,t,s){var n=0;t&&(n|=4),Tc(s,e,n,t)}var Xn="_reactListening"+Math.random().toString(36).slice(2);function ln(e){if(!e[Xn]){e[Xn]=!0,u.forEach(function(s){s!=="selectionchange"&&(Rh.has(s)||Ol(s,!1,e),Ol(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xn]||(t[Xn]=!0,Ol("selectionchange",!1,t))}}function Tc(e,t,s,n){switch(Xo(t)){case 1:var o=Gm;break;case 4:o=Qm;break;default:o=vl}s=o.bind(null,t,s,e),o=void 0,!dl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),n?o!==void 0?e.addEventListener(t,s,{capture:!0,passive:o}):e.addEventListener(t,s,!0):o!==void 0?e.addEventListener(t,s,{passive:o}):e.addEventListener(t,s,!1)}function Ll(e,t,s,n,o){var c=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var m=n.tag;if(m===3||m===4){var w=n.stateNode.containerInfo;if(w===o||w.nodeType===8&&w.parentNode===o)break;if(m===4)for(m=n.return;m!==null;){var N=m.tag;if((N===3||N===4)&&(N=m.stateNode.containerInfo,N===o||N.nodeType===8&&N.parentNode===o))return;m=m.return}for(;w!==null;){if(m=Ur(w),m===null)return;if(N=m.tag,N===5||N===6){n=c=m;continue e}w=w.parentNode}}n=n.return}Fo(function(){var F=c,Y=ol(s),Z=[];e:{var Q=Cc.get(e);if(Q!==void 0){var oe=bl,fe=e;switch(e){case"keypress":if(Jn(s)===0)break e;case"keydown":case"keyup":oe=uh;break;case"focusin":fe="focus",oe=Sl;break;case"focusout":fe="blur",oe=Sl;break;case"beforeblur":case"afterblur":oe=Sl;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=rc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=Zm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=hh;break;case bc:case Nc:case kc:oe=th;break;case Sc:oe=ph;break;case"scroll":oe=Ym;break;case"wheel":oe=gh;break;case"copy":case"cut":case"paste":oe=sh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=nc}var pe=(t&4)!==0,Ve=!pe&&e==="scroll",A=pe?Q!==null?Q+"Capture":null:Q;pe=[];for(var C=F,R;C!==null;){R=C;var X=R.stateNode;if(R.tag===5&&X!==null&&(R=X,A!==null&&(X=Vs(C,A),X!=null&&pe.push(on(C,X,R)))),Ve)break;C=C.return}0<pe.length&&(Q=new oe(Q,fe,null,s,Y),Z.push({event:Q,listeners:pe}))}}if((t&7)===0){e:{if(Q=e==="mouseover"||e==="pointerover",oe=e==="mouseout"||e==="pointerout",Q&&s!==il&&(fe=s.relatedTarget||s.fromElement)&&(Ur(fe)||fe[Xt]))break e;if((oe||Q)&&(Q=Y.window===Y?Y:(Q=Y.ownerDocument)?Q.defaultView||Q.parentWindow:window,oe?(fe=s.relatedTarget||s.toElement,oe=F,fe=fe?Ur(fe):null,fe!==null&&(Ve=zr(fe),fe!==Ve||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(oe=null,fe=F),oe!==fe)){if(pe=rc,X="onMouseLeave",A="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(pe=nc,X="onPointerLeave",A="onPointerEnter",C="pointer"),Ve=oe==null?Q:fs(oe),R=fe==null?Q:fs(fe),Q=new pe(X,C+"leave",oe,s,Y),Q.target=Ve,Q.relatedTarget=R,X=null,Ur(Y)===F&&(pe=new pe(A,C+"enter",fe,s,Y),pe.target=R,pe.relatedTarget=Ve,X=pe),Ve=X,oe&&fe)t:{for(pe=oe,A=fe,C=0,R=pe;R;R=ms(R))C++;for(R=0,X=A;X;X=ms(X))R++;for(;0<C-R;)pe=ms(pe),C--;for(;0<R-C;)A=ms(A),R--;for(;C--;){if(pe===A||A!==null&&pe===A.alternate)break t;pe=ms(pe),A=ms(A)}pe=null}else pe=null;oe!==null&&Dc(Z,Q,oe,pe,!1),fe!==null&&Ve!==null&&Dc(Z,Ve,fe,pe,!0)}}e:{if(Q=F?fs(F):window,oe=Q.nodeName&&Q.nodeName.toLowerCase(),oe==="select"||oe==="input"&&Q.type==="file")var xe=kh;else if(uc(Q))if(mc)xe=Ph;else{xe=Ch;var ye=Sh}else(oe=Q.nodeName)&&oe.toLowerCase()==="input"&&(Q.type==="checkbox"||Q.type==="radio")&&(xe=Eh);if(xe&&(xe=xe(e,F))){dc(Z,xe,s,Y);break e}ye&&ye(e,Q,F),e==="focusout"&&(ye=Q._wrapperState)&&ye.controlled&&Q.type==="number"&&$s(Q,"number",Q.value)}switch(ye=F?fs(F):window,e){case"focusin":(uc(ye)||ye.contentEditable==="true")&&(us=ye,Dl=F,nn=null);break;case"focusout":nn=Dl=us=null;break;case"mousedown":Al=!0;break;case"contextmenu":case"mouseup":case"dragend":Al=!1,wc(Z,s,Y);break;case"selectionchange":if(Dh)break;case"keydown":case"keyup":wc(Z,s,Y)}var ve;if(El)e:{switch(e){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else cs?oc(e,s)&&(be="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(be="onCompositionStart");be&&(ac&&s.locale!=="ko"&&(cs||be!=="onCompositionStart"?be==="onCompositionEnd"&&cs&&(ve=ec()):(yr=Y,jl="value"in yr?yr.value:yr.textContent,cs=!0)),ye=ea(F,be),0<ye.length&&(be=new sc(be,e,null,s,Y),Z.push({event:be,listeners:ye}),ve?be.data=ve:(ve=cc(s),ve!==null&&(be.data=ve)))),(ve=vh?wh(e,s):jh(e,s))&&(F=ea(F,"onBeforeInput"),0<F.length&&(Y=new sc("onBeforeInput","beforeinput",null,s,Y),Z.push({event:Y,listeners:F}),Y.data=ve))}_c(Z,t)})}function on(e,t,s){return{instance:e,listener:t,currentTarget:s}}function ea(e,t){for(var s=t+"Capture",n=[];e!==null;){var o=e,c=o.stateNode;o.tag===5&&c!==null&&(o=c,c=Vs(e,s),c!=null&&n.unshift(on(e,c,o)),c=Vs(e,t),c!=null&&n.push(on(e,c,o))),e=e.return}return n}function ms(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Dc(e,t,s,n,o){for(var c=t._reactName,m=[];s!==null&&s!==n;){var w=s,N=w.alternate,F=w.stateNode;if(N!==null&&N===n)break;w.tag===5&&F!==null&&(w=F,o?(N=Vs(s,c),N!=null&&m.unshift(on(s,N,w))):o||(N=Vs(s,c),N!=null&&m.push(on(s,N,w)))),s=s.return}m.length!==0&&e.push({event:t,listeners:m})}var Fh=/\r\n?/g,Oh=/\u0000|\uFFFD/g;function Ac(e){return(typeof e=="string"?e:""+e).replace(Fh,`
`).replace(Oh,"")}function ta(e,t,s){if(t=Ac(t),Ac(e)!==t&&s)throw Error(a(425))}function ra(){}var Il=null,$l=null;function zl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ul=typeof setTimeout=="function"?setTimeout:void 0,Lh=typeof clearTimeout=="function"?clearTimeout:void 0,Mc=typeof Promise=="function"?Promise:void 0,Ih=typeof queueMicrotask=="function"?queueMicrotask:typeof Mc<"u"?function(e){return Mc.resolve(null).then(e).catch($h)}:Ul;function $h(e){setTimeout(function(){throw e})}function Vl(e,t){var s=t,n=0;do{var o=s.nextSibling;if(e.removeChild(s),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(n===0){e.removeChild(o),Ks(t);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=o}while(s);Ks(t)}function wr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Rc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var hs=Math.random().toString(36).slice(2),Vt="__reactFiber$"+hs,cn="__reactProps$"+hs,Xt="__reactContainer$"+hs,Bl="__reactEvents$"+hs,zh="__reactListeners$"+hs,Uh="__reactHandles$"+hs;function Ur(e){var t=e[Vt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Xt]||s[Vt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Rc(e);e!==null;){if(s=e[Vt])return s;e=Rc(e)}return t}e=s,s=e.parentNode}return null}function un(e){return e=e[Vt]||e[Xt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function fs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(a(33))}function sa(e){return e[cn]||null}var Hl=[],ps=-1;function jr(e){return{current:e}}function Fe(e){0>ps||(e.current=Hl[ps],Hl[ps]=null,ps--)}function Ae(e,t){ps++,Hl[ps]=e.current,e.current=t}var br={},et=jr(br),mt=jr(!1),Vr=br;function xs(e,t){var s=e.type.contextTypes;if(!s)return br;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o={},c;for(c in s)o[c]=t[c];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function ht(e){return e=e.childContextTypes,e!=null}function na(){Fe(mt),Fe(et)}function Fc(e,t,s){if(et.current!==br)throw Error(a(168));Ae(et,t),Ae(mt,s)}function Oc(e,t,s){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var o in n)if(!(o in t))throw Error(a(108,je(e)||"Unknown",o));return x({},s,n)}function aa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||br,Vr=et.current,Ae(et,e),Ae(mt,mt.current),!0}function Lc(e,t,s){var n=e.stateNode;if(!n)throw Error(a(169));s?(e=Oc(e,t,Vr),n.__reactInternalMemoizedMergedChildContext=e,Fe(mt),Fe(et),Ae(et,e)):Fe(mt),Ae(mt,s)}var er=null,la=!1,ql=!1;function Ic(e){er===null?er=[e]:er.push(e)}function Vh(e){la=!0,Ic(e)}function Nr(){if(!ql&&er!==null){ql=!0;var e=0,t=De;try{var s=er;for(De=1;e<s.length;e++){var n=s[e];do n=n(!0);while(n!==null)}er=null,la=!1}catch(o){throw er!==null&&(er=er.slice(e+1)),zo(hl,Nr),o}finally{De=t,ql=!1}}return null}var gs=[],ys=0,ia=null,oa=0,Nt=[],kt=0,Br=null,tr=1,rr="";function Hr(e,t){gs[ys++]=oa,gs[ys++]=ia,ia=e,oa=t}function $c(e,t,s){Nt[kt++]=tr,Nt[kt++]=rr,Nt[kt++]=Br,Br=e;var n=tr;e=rr;var o=32-At(n)-1;n&=~(1<<o),s+=1;var c=32-At(t)+o;if(30<c){var m=o-o%5;c=(n&(1<<m)-1).toString(32),n>>=m,o-=m,tr=1<<32-At(t)+o|s<<o|n,rr=c+e}else tr=1<<c|s<<o|n,rr=e}function Wl(e){e.return!==null&&(Hr(e,1),$c(e,1,0))}function Jl(e){for(;e===ia;)ia=gs[--ys],gs[ys]=null,oa=gs[--ys],gs[ys]=null;for(;e===Br;)Br=Nt[--kt],Nt[kt]=null,rr=Nt[--kt],Nt[kt]=null,tr=Nt[--kt],Nt[kt]=null}var wt=null,jt=null,Oe=!1,Rt=null;function zc(e,t){var s=Pt(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function Uc(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,wt=e,jt=wr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,wt=e,jt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=Br!==null?{id:tr,overflow:rr}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=Pt(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,wt=e,jt=null,!0):!1;default:return!1}}function Gl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ql(e){if(Oe){var t=jt;if(t){var s=t;if(!Uc(e,t)){if(Gl(e))throw Error(a(418));t=wr(s.nextSibling);var n=wt;t&&Uc(e,t)?zc(n,s):(e.flags=e.flags&-4097|2,Oe=!1,wt=e)}}else{if(Gl(e))throw Error(a(418));e.flags=e.flags&-4097|2,Oe=!1,wt=e}}}function Vc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wt=e}function ca(e){if(e!==wt)return!1;if(!Oe)return Vc(e),Oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!zl(e.type,e.memoizedProps)),t&&(t=jt)){if(Gl(e))throw Bc(),Error(a(418));for(;t;)zc(e,t),t=wr(t.nextSibling)}if(Vc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){jt=wr(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}jt=null}}else jt=wt?wr(e.stateNode.nextSibling):null;return!0}function Bc(){for(var e=jt;e;)e=wr(e.nextSibling)}function vs(){jt=wt=null,Oe=!1}function Yl(e){Rt===null?Rt=[e]:Rt.push(e)}var Bh=K.ReactCurrentBatchConfig;function dn(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(a(309));var n=s.stateNode}if(!n)throw Error(a(147,e));var o=n,c=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===c?t.ref:(t=function(m){var w=o.refs;m===null?delete w[c]:w[c]=m},t._stringRef=c,t)}if(typeof e!="string")throw Error(a(284));if(!s._owner)throw Error(a(290,e))}return e}function ua(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Hc(e){var t=e._init;return t(e._payload)}function qc(e){function t(A,C){if(e){var R=A.deletions;R===null?(A.deletions=[C],A.flags|=16):R.push(C)}}function s(A,C){if(!e)return null;for(;C!==null;)t(A,C),C=C.sibling;return null}function n(A,C){for(A=new Map;C!==null;)C.key!==null?A.set(C.key,C):A.set(C.index,C),C=C.sibling;return A}function o(A,C){return A=Dr(A,C),A.index=0,A.sibling=null,A}function c(A,C,R){return A.index=R,e?(R=A.alternate,R!==null?(R=R.index,R<C?(A.flags|=2,C):R):(A.flags|=2,C)):(A.flags|=1048576,C)}function m(A){return e&&A.alternate===null&&(A.flags|=2),A}function w(A,C,R,X){return C===null||C.tag!==6?(C=Ui(R,A.mode,X),C.return=A,C):(C=o(C,R),C.return=A,C)}function N(A,C,R,X){var xe=R.type;return xe===$?Y(A,C,R.props.children,X,R.key):C!==null&&(C.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===Te&&Hc(xe)===C.type)?(X=o(C,R.props),X.ref=dn(A,C,R),X.return=A,X):(X=Ra(R.type,R.key,R.props,null,A.mode,X),X.ref=dn(A,C,R),X.return=A,X)}function F(A,C,R,X){return C===null||C.tag!==4||C.stateNode.containerInfo!==R.containerInfo||C.stateNode.implementation!==R.implementation?(C=Vi(R,A.mode,X),C.return=A,C):(C=o(C,R.children||[]),C.return=A,C)}function Y(A,C,R,X,xe){return C===null||C.tag!==7?(C=Zr(R,A.mode,X,xe),C.return=A,C):(C=o(C,R),C.return=A,C)}function Z(A,C,R){if(typeof C=="string"&&C!==""||typeof C=="number")return C=Ui(""+C,A.mode,R),C.return=A,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case te:return R=Ra(C.type,C.key,C.props,null,A.mode,R),R.ref=dn(A,null,C),R.return=A,R;case ue:return C=Vi(C,A.mode,R),C.return=A,C;case Te:var X=C._init;return Z(A,X(C._payload),R)}if($r(C)||ne(C))return C=Zr(C,A.mode,R,null),C.return=A,C;ua(A,C)}return null}function Q(A,C,R,X){var xe=C!==null?C.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return xe!==null?null:w(A,C,""+R,X);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case te:return R.key===xe?N(A,C,R,X):null;case ue:return R.key===xe?F(A,C,R,X):null;case Te:return xe=R._init,Q(A,C,xe(R._payload),X)}if($r(R)||ne(R))return xe!==null?null:Y(A,C,R,X,null);ua(A,R)}return null}function oe(A,C,R,X,xe){if(typeof X=="string"&&X!==""||typeof X=="number")return A=A.get(R)||null,w(C,A,""+X,xe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case te:return A=A.get(X.key===null?R:X.key)||null,N(C,A,X,xe);case ue:return A=A.get(X.key===null?R:X.key)||null,F(C,A,X,xe);case Te:var ye=X._init;return oe(A,C,R,ye(X._payload),xe)}if($r(X)||ne(X))return A=A.get(R)||null,Y(C,A,X,xe,null);ua(C,X)}return null}function fe(A,C,R,X){for(var xe=null,ye=null,ve=C,be=C=0,Ye=null;ve!==null&&be<R.length;be++){ve.index>be?(Ye=ve,ve=null):Ye=ve.sibling;var _e=Q(A,ve,R[be],X);if(_e===null){ve===null&&(ve=Ye);break}e&&ve&&_e.alternate===null&&t(A,ve),C=c(_e,C,be),ye===null?xe=_e:ye.sibling=_e,ye=_e,ve=Ye}if(be===R.length)return s(A,ve),Oe&&Hr(A,be),xe;if(ve===null){for(;be<R.length;be++)ve=Z(A,R[be],X),ve!==null&&(C=c(ve,C,be),ye===null?xe=ve:ye.sibling=ve,ye=ve);return Oe&&Hr(A,be),xe}for(ve=n(A,ve);be<R.length;be++)Ye=oe(ve,A,be,R[be],X),Ye!==null&&(e&&Ye.alternate!==null&&ve.delete(Ye.key===null?be:Ye.key),C=c(Ye,C,be),ye===null?xe=Ye:ye.sibling=Ye,ye=Ye);return e&&ve.forEach(function(Ar){return t(A,Ar)}),Oe&&Hr(A,be),xe}function pe(A,C,R,X){var xe=ne(R);if(typeof xe!="function")throw Error(a(150));if(R=xe.call(R),R==null)throw Error(a(151));for(var ye=xe=null,ve=C,be=C=0,Ye=null,_e=R.next();ve!==null&&!_e.done;be++,_e=R.next()){ve.index>be?(Ye=ve,ve=null):Ye=ve.sibling;var Ar=Q(A,ve,_e.value,X);if(Ar===null){ve===null&&(ve=Ye);break}e&&ve&&Ar.alternate===null&&t(A,ve),C=c(Ar,C,be),ye===null?xe=Ar:ye.sibling=Ar,ye=Ar,ve=Ye}if(_e.done)return s(A,ve),Oe&&Hr(A,be),xe;if(ve===null){for(;!_e.done;be++,_e=R.next())_e=Z(A,_e.value,X),_e!==null&&(C=c(_e,C,be),ye===null?xe=_e:ye.sibling=_e,ye=_e);return Oe&&Hr(A,be),xe}for(ve=n(A,ve);!_e.done;be++,_e=R.next())_e=oe(ve,A,be,_e.value,X),_e!==null&&(e&&_e.alternate!==null&&ve.delete(_e.key===null?be:_e.key),C=c(_e,C,be),ye===null?xe=_e:ye.sibling=_e,ye=_e);return e&&ve.forEach(function(Nf){return t(A,Nf)}),Oe&&Hr(A,be),xe}function Ve(A,C,R,X){if(typeof R=="object"&&R!==null&&R.type===$&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case te:e:{for(var xe=R.key,ye=C;ye!==null;){if(ye.key===xe){if(xe=R.type,xe===$){if(ye.tag===7){s(A,ye.sibling),C=o(ye,R.props.children),C.return=A,A=C;break e}}else if(ye.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===Te&&Hc(xe)===ye.type){s(A,ye.sibling),C=o(ye,R.props),C.ref=dn(A,ye,R),C.return=A,A=C;break e}s(A,ye);break}else t(A,ye);ye=ye.sibling}R.type===$?(C=Zr(R.props.children,A.mode,X,R.key),C.return=A,A=C):(X=Ra(R.type,R.key,R.props,null,A.mode,X),X.ref=dn(A,C,R),X.return=A,A=X)}return m(A);case ue:e:{for(ye=R.key;C!==null;){if(C.key===ye)if(C.tag===4&&C.stateNode.containerInfo===R.containerInfo&&C.stateNode.implementation===R.implementation){s(A,C.sibling),C=o(C,R.children||[]),C.return=A,A=C;break e}else{s(A,C);break}else t(A,C);C=C.sibling}C=Vi(R,A.mode,X),C.return=A,A=C}return m(A);case Te:return ye=R._init,Ve(A,C,ye(R._payload),X)}if($r(R))return fe(A,C,R,X);if(ne(R))return pe(A,C,R,X);ua(A,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,C!==null&&C.tag===6?(s(A,C.sibling),C=o(C,R),C.return=A,A=C):(s(A,C),C=Ui(R,A.mode,X),C.return=A,A=C),m(A)):s(A,C)}return Ve}var ws=qc(!0),Wc=qc(!1),da=jr(null),ma=null,js=null,Kl=null;function Zl(){Kl=js=ma=null}function Xl(e){var t=da.current;Fe(da),e._currentValue=t}function ei(e,t,s){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===s)break;e=e.return}}function bs(e,t){ma=e,Kl=js=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(ft=!0),e.firstContext=null)}function St(e){var t=e._currentValue;if(Kl!==e)if(e={context:e,memoizedValue:t,next:null},js===null){if(ma===null)throw Error(a(308));js=e,ma.dependencies={lanes:0,firstContext:e}}else js=js.next=e;return t}var qr=null;function ti(e){qr===null?qr=[e]:qr.push(e)}function Jc(e,t,s,n){var o=t.interleaved;return o===null?(s.next=s,ti(t)):(s.next=o.next,o.next=s),t.interleaved=s,sr(e,n)}function sr(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var kr=!1;function ri(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function nr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Sr(e,t,s){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(Pe&2)!==0){var o=n.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),n.pending=t,sr(e,s)}return o=n.interleaved,o===null?(t.next=t,ti(n)):(t.next=o.next,o.next=t),n.interleaved=t,sr(e,s)}function ha(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,xl(e,s)}}function Qc(e,t){var s=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var o=null,c=null;if(s=s.firstBaseUpdate,s!==null){do{var m={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};c===null?o=c=m:c=c.next=m,s=s.next}while(s!==null);c===null?o=c=t:c=c.next=t}else o=c=t;s={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:n.shared,effects:n.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function fa(e,t,s,n){var o=e.updateQueue;kr=!1;var c=o.firstBaseUpdate,m=o.lastBaseUpdate,w=o.shared.pending;if(w!==null){o.shared.pending=null;var N=w,F=N.next;N.next=null,m===null?c=F:m.next=F,m=N;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,w=Y.lastBaseUpdate,w!==m&&(w===null?Y.firstBaseUpdate=F:w.next=F,Y.lastBaseUpdate=N))}if(c!==null){var Z=o.baseState;m=0,Y=F=N=null,w=c;do{var Q=w.lane,oe=w.eventTime;if((n&Q)===Q){Y!==null&&(Y=Y.next={eventTime:oe,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var fe=e,pe=w;switch(Q=t,oe=s,pe.tag){case 1:if(fe=pe.payload,typeof fe=="function"){Z=fe.call(oe,Z,Q);break e}Z=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=pe.payload,Q=typeof fe=="function"?fe.call(oe,Z,Q):fe,Q==null)break e;Z=x({},Z,Q);break e;case 2:kr=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,Q=o.effects,Q===null?o.effects=[w]:Q.push(w))}else oe={eventTime:oe,lane:Q,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Y===null?(F=Y=oe,N=Z):Y=Y.next=oe,m|=Q;if(w=w.next,w===null){if(w=o.shared.pending,w===null)break;Q=w,w=Q.next,Q.next=null,o.lastBaseUpdate=Q,o.shared.pending=null}}while(!0);if(Y===null&&(N=Z),o.baseState=N,o.firstBaseUpdate=F,o.lastBaseUpdate=Y,t=o.shared.interleaved,t!==null){o=t;do m|=o.lane,o=o.next;while(o!==t)}else c===null&&(o.shared.lanes=0);Gr|=m,e.lanes=m,e.memoizedState=Z}}function Yc(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],o=n.callback;if(o!==null){if(n.callback=null,n=s,typeof o!="function")throw Error(a(191,o));o.call(n)}}}var mn={},Bt=jr(mn),hn=jr(mn),fn=jr(mn);function Wr(e){if(e===mn)throw Error(a(174));return e}function si(e,t){switch(Ae(fn,t),Ae(hn,e),Ae(Bt,mn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:at(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=at(t,e)}Fe(Bt),Ae(Bt,t)}function Ns(){Fe(Bt),Fe(hn),Fe(fn)}function Kc(e){Wr(fn.current);var t=Wr(Bt.current),s=at(t,e.type);t!==s&&(Ae(hn,e),Ae(Bt,s))}function ni(e){hn.current===e&&(Fe(Bt),Fe(hn))}var Ie=jr(0);function pa(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ai=[];function li(){for(var e=0;e<ai.length;e++)ai[e]._workInProgressVersionPrimary=null;ai.length=0}var xa=K.ReactCurrentDispatcher,ii=K.ReactCurrentBatchConfig,Jr=0,$e=null,qe=null,Ge=null,ga=!1,pn=!1,xn=0,Hh=0;function tt(){throw Error(a(321))}function oi(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Mt(e[s],t[s]))return!1;return!0}function ci(e,t,s,n,o,c){if(Jr=c,$e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xa.current=e===null||e.memoizedState===null?Gh:Qh,e=s(n,o),pn){c=0;do{if(pn=!1,xn=0,25<=c)throw Error(a(301));c+=1,Ge=qe=null,t.updateQueue=null,xa.current=Yh,e=s(n,o)}while(pn)}if(xa.current=wa,t=qe!==null&&qe.next!==null,Jr=0,Ge=qe=$e=null,ga=!1,t)throw Error(a(300));return e}function ui(){var e=xn!==0;return xn=0,e}function Ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?$e.memoizedState=Ge=e:Ge=Ge.next=e,Ge}function Ct(){if(qe===null){var e=$e.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var t=Ge===null?$e.memoizedState:Ge.next;if(t!==null)Ge=t,qe=e;else{if(e===null)throw Error(a(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},Ge===null?$e.memoizedState=Ge=e:Ge=Ge.next=e}return Ge}function gn(e,t){return typeof t=="function"?t(e):t}function di(e){var t=Ct(),s=t.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var n=qe,o=n.baseQueue,c=s.pending;if(c!==null){if(o!==null){var m=o.next;o.next=c.next,c.next=m}n.baseQueue=o=c,s.pending=null}if(o!==null){c=o.next,n=n.baseState;var w=m=null,N=null,F=c;do{var Y=F.lane;if((Jr&Y)===Y)N!==null&&(N=N.next={lane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),n=F.hasEagerState?F.eagerState:e(n,F.action);else{var Z={lane:Y,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null};N===null?(w=N=Z,m=n):N=N.next=Z,$e.lanes|=Y,Gr|=Y}F=F.next}while(F!==null&&F!==c);N===null?m=n:N.next=w,Mt(n,t.memoizedState)||(ft=!0),t.memoizedState=n,t.baseState=m,t.baseQueue=N,s.lastRenderedState=n}if(e=s.interleaved,e!==null){o=e;do c=o.lane,$e.lanes|=c,Gr|=c,o=o.next;while(o!==e)}else o===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function mi(e){var t=Ct(),s=t.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var n=s.dispatch,o=s.pending,c=t.memoizedState;if(o!==null){s.pending=null;var m=o=o.next;do c=e(c,m.action),m=m.next;while(m!==o);Mt(c,t.memoizedState)||(ft=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),s.lastRenderedState=c}return[c,n]}function Zc(){}function Xc(e,t){var s=$e,n=Ct(),o=t(),c=!Mt(n.memoizedState,o);if(c&&(n.memoizedState=o,ft=!0),n=n.queue,hi(ru.bind(null,s,n,e),[e]),n.getSnapshot!==t||c||Ge!==null&&Ge.memoizedState.tag&1){if(s.flags|=2048,yn(9,tu.bind(null,s,n,o,t),void 0,null),Qe===null)throw Error(a(349));(Jr&30)!==0||eu(s,t,o)}return o}function eu(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function tu(e,t,s,n){t.value=s,t.getSnapshot=n,su(t)&&nu(e)}function ru(e,t,s){return s(function(){su(t)&&nu(e)})}function su(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Mt(e,s)}catch{return!0}}function nu(e){var t=sr(e,1);t!==null&&It(t,e,1,-1)}function au(e){var t=Ht();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gn,lastRenderedState:e},t.queue=e,e=e.dispatch=Jh.bind(null,$e,e),[t.memoizedState,e]}function yn(e,t,s,n){return e={tag:e,create:t,destroy:s,deps:n,next:null},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,t.lastEffect=e)),e}function lu(){return Ct().memoizedState}function ya(e,t,s,n){var o=Ht();$e.flags|=e,o.memoizedState=yn(1|t,s,void 0,n===void 0?null:n)}function va(e,t,s,n){var o=Ct();n=n===void 0?null:n;var c=void 0;if(qe!==null){var m=qe.memoizedState;if(c=m.destroy,n!==null&&oi(n,m.deps)){o.memoizedState=yn(t,s,c,n);return}}$e.flags|=e,o.memoizedState=yn(1|t,s,c,n)}function iu(e,t){return ya(8390656,8,e,t)}function hi(e,t){return va(2048,8,e,t)}function ou(e,t){return va(4,2,e,t)}function cu(e,t){return va(4,4,e,t)}function uu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function du(e,t,s){return s=s!=null?s.concat([e]):null,va(4,4,uu.bind(null,t,e),s)}function fi(){}function mu(e,t){var s=Ct();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&oi(t,n[1])?n[0]:(s.memoizedState=[e,t],e)}function hu(e,t){var s=Ct();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&oi(t,n[1])?n[0]:(e=e(),s.memoizedState=[e,t],e)}function fu(e,t,s){return(Jr&21)===0?(e.baseState&&(e.baseState=!1,ft=!0),e.memoizedState=s):(Mt(s,t)||(s=Ho(),$e.lanes|=s,Gr|=s,e.baseState=!0),t)}function qh(e,t){var s=De;De=s!==0&&4>s?s:4,e(!0);var n=ii.transition;ii.transition={};try{e(!1),t()}finally{De=s,ii.transition=n}}function pu(){return Ct().memoizedState}function Wh(e,t,s){var n=_r(e);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},xu(e))gu(t,s);else if(s=Jc(e,t,s,n),s!==null){var o=it();It(s,e,n,o),yu(s,t,n)}}function Jh(e,t,s){var n=_r(e),o={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(xu(e))gu(t,o);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var m=t.lastRenderedState,w=c(m,s);if(o.hasEagerState=!0,o.eagerState=w,Mt(w,m)){var N=t.interleaved;N===null?(o.next=o,ti(t)):(o.next=N.next,N.next=o),t.interleaved=o;return}}catch{}finally{}s=Jc(e,t,o,n),s!==null&&(o=it(),It(s,e,n,o),yu(s,t,n))}}function xu(e){var t=e.alternate;return e===$e||t!==null&&t===$e}function gu(e,t){pn=ga=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function yu(e,t,s){if((s&4194240)!==0){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,xl(e,s)}}var wa={readContext:St,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useInsertionEffect:tt,useLayoutEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useMutableSource:tt,useSyncExternalStore:tt,useId:tt,unstable_isNewReconciler:!1},Gh={readContext:St,useCallback:function(e,t){return Ht().memoizedState=[e,t===void 0?null:t],e},useContext:St,useEffect:iu,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,ya(4194308,4,uu.bind(null,t,e),s)},useLayoutEffect:function(e,t){return ya(4194308,4,e,t)},useInsertionEffect:function(e,t){return ya(4,2,e,t)},useMemo:function(e,t){var s=Ht();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var n=Ht();return t=s!==void 0?s(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Wh.bind(null,$e,e),[n.memoizedState,e]},useRef:function(e){var t=Ht();return e={current:e},t.memoizedState=e},useState:au,useDebugValue:fi,useDeferredValue:function(e){return Ht().memoizedState=e},useTransition:function(){var e=au(!1),t=e[0];return e=qh.bind(null,e[1]),Ht().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var n=$e,o=Ht();if(Oe){if(s===void 0)throw Error(a(407));s=s()}else{if(s=t(),Qe===null)throw Error(a(349));(Jr&30)!==0||eu(n,t,s)}o.memoizedState=s;var c={value:s,getSnapshot:t};return o.queue=c,iu(ru.bind(null,n,c,e),[e]),n.flags|=2048,yn(9,tu.bind(null,n,c,s,t),void 0,null),s},useId:function(){var e=Ht(),t=Qe.identifierPrefix;if(Oe){var s=rr,n=tr;s=(n&~(1<<32-At(n)-1)).toString(32)+s,t=":"+t+"R"+s,s=xn++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=Hh++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Qh={readContext:St,useCallback:mu,useContext:St,useEffect:hi,useImperativeHandle:du,useInsertionEffect:ou,useLayoutEffect:cu,useMemo:hu,useReducer:di,useRef:lu,useState:function(){return di(gn)},useDebugValue:fi,useDeferredValue:function(e){var t=Ct();return fu(t,qe.memoizedState,e)},useTransition:function(){var e=di(gn)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:Zc,useSyncExternalStore:Xc,useId:pu,unstable_isNewReconciler:!1},Yh={readContext:St,useCallback:mu,useContext:St,useEffect:hi,useImperativeHandle:du,useInsertionEffect:ou,useLayoutEffect:cu,useMemo:hu,useReducer:mi,useRef:lu,useState:function(){return mi(gn)},useDebugValue:fi,useDeferredValue:function(e){var t=Ct();return qe===null?t.memoizedState=e:fu(t,qe.memoizedState,e)},useTransition:function(){var e=mi(gn)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:Zc,useSyncExternalStore:Xc,useId:pu,unstable_isNewReconciler:!1};function Ft(e,t){if(e&&e.defaultProps){t=x({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function pi(e,t,s,n){t=e.memoizedState,s=s(n,t),s=s==null?t:x({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var ja={isMounted:function(e){return(e=e._reactInternals)?zr(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var n=it(),o=_r(e),c=nr(n,o);c.payload=t,s!=null&&(c.callback=s),t=Sr(e,c,o),t!==null&&(It(t,e,o,n),ha(t,e,o))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var n=it(),o=_r(e),c=nr(n,o);c.tag=1,c.payload=t,s!=null&&(c.callback=s),t=Sr(e,c,o),t!==null&&(It(t,e,o,n),ha(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=it(),n=_r(e),o=nr(s,n);o.tag=2,t!=null&&(o.callback=t),t=Sr(e,o,n),t!==null&&(It(t,e,n,s),ha(t,e,n))}};function vu(e,t,s,n,o,c,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,c,m):t.prototype&&t.prototype.isPureReactComponent?!sn(s,n)||!sn(o,c):!0}function wu(e,t,s){var n=!1,o=br,c=t.contextType;return typeof c=="object"&&c!==null?c=St(c):(o=ht(t)?Vr:et.current,n=t.contextTypes,c=(n=n!=null)?xs(e,o):br),t=new t(s,c),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ja,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=c),t}function ju(e,t,s,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,n),t.state!==e&&ja.enqueueReplaceState(t,t.state,null)}function xi(e,t,s,n){var o=e.stateNode;o.props=s,o.state=e.memoizedState,o.refs={},ri(e);var c=t.contextType;typeof c=="object"&&c!==null?o.context=St(c):(c=ht(t)?Vr:et.current,o.context=xs(e,c)),o.state=e.memoizedState,c=t.getDerivedStateFromProps,typeof c=="function"&&(pi(e,t,c,s),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&ja.enqueueReplaceState(o,o.state,null),fa(e,s,o,n),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function ks(e,t){try{var s="",n=t;do s+=ae(n),n=n.return;while(n);var o=s}catch(c){o=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:t,stack:o,digest:null}}function gi(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function yi(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var Kh=typeof WeakMap=="function"?WeakMap:Map;function bu(e,t,s){s=nr(-1,s),s.tag=3,s.payload={element:null};var n=t.value;return s.callback=function(){Pa||(Pa=!0,Mi=n),yi(e,t)},s}function Nu(e,t,s){s=nr(-1,s),s.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var o=t.value;s.payload=function(){return n(o)},s.callback=function(){yi(e,t)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(s.callback=function(){yi(e,t),typeof n!="function"&&(Er===null?Er=new Set([this]):Er.add(this));var m=t.stack;this.componentDidCatch(t.value,{componentStack:m!==null?m:""})}),s}function ku(e,t,s){var n=e.pingCache;if(n===null){n=e.pingCache=new Kh;var o=new Set;n.set(t,o)}else o=n.get(t),o===void 0&&(o=new Set,n.set(t,o));o.has(s)||(o.add(s),e=mf.bind(null,e,t,s),t.then(e,e))}function Su(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Cu(e,t,s,n,o){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=nr(-1,1),t.tag=2,Sr(s,t,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var Zh=K.ReactCurrentOwner,ft=!1;function lt(e,t,s,n){t.child=e===null?Wc(t,null,s,n):ws(t,e.child,s,n)}function Eu(e,t,s,n,o){s=s.render;var c=t.ref;return bs(t,o),n=ci(e,t,s,n,c,o),s=ui(),e!==null&&!ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,ar(e,t,o)):(Oe&&s&&Wl(t),t.flags|=1,lt(e,t,n,o),t.child)}function Pu(e,t,s,n,o){if(e===null){var c=s.type;return typeof c=="function"&&!zi(c)&&c.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=c,_u(e,t,c,n,o)):(e=Ra(s.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,(e.lanes&o)===0){var m=c.memoizedProps;if(s=s.compare,s=s!==null?s:sn,s(m,n)&&e.ref===t.ref)return ar(e,t,o)}return t.flags|=1,e=Dr(c,n),e.ref=t.ref,e.return=t,t.child=e}function _u(e,t,s,n,o){if(e!==null){var c=e.memoizedProps;if(sn(c,n)&&e.ref===t.ref)if(ft=!1,t.pendingProps=n=c,(e.lanes&o)!==0)(e.flags&131072)!==0&&(ft=!0);else return t.lanes=e.lanes,ar(e,t,o)}return vi(e,t,s,n,o)}function Tu(e,t,s){var n=t.pendingProps,o=n.children,c=e!==null?e.memoizedState:null;if(n.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(Cs,bt),bt|=s;else{if((s&1073741824)===0)return e=c!==null?c.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ae(Cs,bt),bt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=c!==null?c.baseLanes:s,Ae(Cs,bt),bt|=n}else c!==null?(n=c.baseLanes|s,t.memoizedState=null):n=s,Ae(Cs,bt),bt|=n;return lt(e,t,o,s),t.child}function Du(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function vi(e,t,s,n,o){var c=ht(s)?Vr:et.current;return c=xs(t,c),bs(t,o),s=ci(e,t,s,n,c,o),n=ui(),e!==null&&!ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,ar(e,t,o)):(Oe&&n&&Wl(t),t.flags|=1,lt(e,t,s,o),t.child)}function Au(e,t,s,n,o){if(ht(s)){var c=!0;aa(t)}else c=!1;if(bs(t,o),t.stateNode===null)Na(e,t),wu(t,s,n),xi(t,s,n,o),n=!0;else if(e===null){var m=t.stateNode,w=t.memoizedProps;m.props=w;var N=m.context,F=s.contextType;typeof F=="object"&&F!==null?F=St(F):(F=ht(s)?Vr:et.current,F=xs(t,F));var Y=s.getDerivedStateFromProps,Z=typeof Y=="function"||typeof m.getSnapshotBeforeUpdate=="function";Z||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w!==n||N!==F)&&ju(t,m,n,F),kr=!1;var Q=t.memoizedState;m.state=Q,fa(t,n,m,o),N=t.memoizedState,w!==n||Q!==N||mt.current||kr?(typeof Y=="function"&&(pi(t,s,Y,n),N=t.memoizedState),(w=kr||vu(t,s,w,n,Q,N,F))?(Z||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(t.flags|=4194308)):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=N),m.props=n,m.state=N,m.context=F,n=w):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{m=t.stateNode,Gc(e,t),w=t.memoizedProps,F=t.type===t.elementType?w:Ft(t.type,w),m.props=F,Z=t.pendingProps,Q=m.context,N=s.contextType,typeof N=="object"&&N!==null?N=St(N):(N=ht(s)?Vr:et.current,N=xs(t,N));var oe=s.getDerivedStateFromProps;(Y=typeof oe=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w!==Z||Q!==N)&&ju(t,m,n,N),kr=!1,Q=t.memoizedState,m.state=Q,fa(t,n,m,o);var fe=t.memoizedState;w!==Z||Q!==fe||mt.current||kr?(typeof oe=="function"&&(pi(t,s,oe,n),fe=t.memoizedState),(F=kr||vu(t,s,F,n,Q,fe,N)||!1)?(Y||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(n,fe,N),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(n,fe,N)),typeof m.componentDidUpdate=="function"&&(t.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof m.componentDidUpdate!="function"||w===e.memoizedProps&&Q===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&Q===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=fe),m.props=n,m.state=fe,m.context=N,n=F):(typeof m.componentDidUpdate!="function"||w===e.memoizedProps&&Q===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&Q===e.memoizedState||(t.flags|=1024),n=!1)}return wi(e,t,s,n,c,o)}function wi(e,t,s,n,o,c){Du(e,t);var m=(t.flags&128)!==0;if(!n&&!m)return o&&Lc(t,s,!1),ar(e,t,c);n=t.stateNode,Zh.current=t;var w=m&&typeof s.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&m?(t.child=ws(t,e.child,null,c),t.child=ws(t,null,w,c)):lt(e,t,w,c),t.memoizedState=n.state,o&&Lc(t,s,!0),t.child}function Mu(e){var t=e.stateNode;t.pendingContext?Fc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Fc(e,t.context,!1),si(e,t.containerInfo)}function Ru(e,t,s,n,o){return vs(),Yl(o),t.flags|=256,lt(e,t,s,n),t.child}var ji={dehydrated:null,treeContext:null,retryLane:0};function bi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,s){var n=t.pendingProps,o=Ie.current,c=!1,m=(t.flags&128)!==0,w;if((w=m)||(w=e!==null&&e.memoizedState===null?!1:(o&2)!==0),w?(c=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Ae(Ie,o&1),e===null)return Ql(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(m=n.children,e=n.fallback,c?(n=t.mode,c=t.child,m={mode:"hidden",children:m},(n&1)===0&&c!==null?(c.childLanes=0,c.pendingProps=m):c=Fa(m,n,0,null),e=Zr(e,n,s,null),c.return=t,e.return=t,c.sibling=e,t.child=c,t.child.memoizedState=bi(s),t.memoizedState=ji,e):Ni(t,m));if(o=e.memoizedState,o!==null&&(w=o.dehydrated,w!==null))return Xh(e,t,m,n,w,o,s);if(c){c=n.fallback,m=t.mode,o=e.child,w=o.sibling;var N={mode:"hidden",children:n.children};return(m&1)===0&&t.child!==o?(n=t.child,n.childLanes=0,n.pendingProps=N,t.deletions=null):(n=Dr(o,N),n.subtreeFlags=o.subtreeFlags&14680064),w!==null?c=Dr(w,c):(c=Zr(c,m,s,null),c.flags|=2),c.return=t,n.return=t,n.sibling=c,t.child=n,n=c,c=t.child,m=e.child.memoizedState,m=m===null?bi(s):{baseLanes:m.baseLanes|s,cachePool:null,transitions:m.transitions},c.memoizedState=m,c.childLanes=e.childLanes&~s,t.memoizedState=ji,n}return c=e.child,e=c.sibling,n=Dr(c,{mode:"visible",children:n.children}),(t.mode&1)===0&&(n.lanes=s),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n}function Ni(e,t){return t=Fa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ba(e,t,s,n){return n!==null&&Yl(n),ws(t,e.child,null,s),e=Ni(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xh(e,t,s,n,o,c,m){if(s)return t.flags&256?(t.flags&=-257,n=gi(Error(a(422))),ba(e,t,m,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(c=n.fallback,o=t.mode,n=Fa({mode:"visible",children:n.children},o,0,null),c=Zr(c,o,m,null),c.flags|=2,n.return=t,c.return=t,n.sibling=c,t.child=n,(t.mode&1)!==0&&ws(t,e.child,null,m),t.child.memoizedState=bi(m),t.memoizedState=ji,c);if((t.mode&1)===0)return ba(e,t,m,null);if(o.data==="$!"){if(n=o.nextSibling&&o.nextSibling.dataset,n)var w=n.dgst;return n=w,c=Error(a(419)),n=gi(c,n,void 0),ba(e,t,m,n)}if(w=(m&e.childLanes)!==0,ft||w){if(n=Qe,n!==null){switch(m&-m){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=(o&(n.suspendedLanes|m))!==0?0:o,o!==0&&o!==c.retryLane&&(c.retryLane=o,sr(e,o),It(n,e,o,-1))}return $i(),n=gi(Error(a(421))),ba(e,t,m,n)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=hf.bind(null,e),o._reactRetry=t,null):(e=c.treeContext,jt=wr(o.nextSibling),wt=t,Oe=!0,Rt=null,e!==null&&(Nt[kt++]=tr,Nt[kt++]=rr,Nt[kt++]=Br,tr=e.id,rr=e.overflow,Br=t),t=Ni(t,n.children),t.flags|=4096,t)}function Ou(e,t,s){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ei(e.return,t,s)}function ki(e,t,s,n,o){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:o}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=n,c.tail=s,c.tailMode=o)}function Lu(e,t,s){var n=t.pendingProps,o=n.revealOrder,c=n.tail;if(lt(e,t,n.children,s),n=Ie.current,(n&2)!==0)n=n&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ou(e,s,t);else if(e.tag===19)Ou(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ae(Ie,n),(t.mode&1)===0)t.memoizedState=null;else switch(o){case"forwards":for(s=t.child,o=null;s!==null;)e=s.alternate,e!==null&&pa(e)===null&&(o=s),s=s.sibling;s=o,s===null?(o=t.child,t.child=null):(o=s.sibling,s.sibling=null),ki(t,!1,o,s,c);break;case"backwards":for(s=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&pa(e)===null){t.child=o;break}e=o.sibling,o.sibling=s,s=o,o=e}ki(t,!0,s,null,c);break;case"together":ki(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Na(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ar(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Gr|=t.lanes,(s&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,s=Dr(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Dr(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function ef(e,t,s){switch(t.tag){case 3:Mu(t),vs();break;case 5:Kc(t);break;case 1:ht(t.type)&&aa(t);break;case 4:si(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,o=t.memoizedProps.value;Ae(da,n._currentValue),n._currentValue=o;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ae(Ie,Ie.current&1),t.flags|=128,null):(s&t.child.childLanes)!==0?Fu(e,t,s):(Ae(Ie,Ie.current&1),e=ar(e,t,s),e!==null?e.sibling:null);Ae(Ie,Ie.current&1);break;case 19:if(n=(s&t.childLanes)!==0,(e.flags&128)!==0){if(n)return Lu(e,t,s);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ae(Ie,Ie.current),n)break;return null;case 22:case 23:return t.lanes=0,Tu(e,t,s)}return ar(e,t,s)}var Iu,Si,$u,zu;Iu=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},Si=function(){},$u=function(e,t,s,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,Wr(Bt.current);var c=null;switch(s){case"input":o=Dt(e,o),n=Dt(e,n),c=[];break;case"select":o=x({},o,{value:void 0}),n=x({},n,{value:void 0}),c=[];break;case"textarea":o=ns(e,o),n=ns(e,n),c=[];break;default:typeof o.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ra)}al(s,n);var m;s=null;for(F in o)if(!n.hasOwnProperty(F)&&o.hasOwnProperty(F)&&o[F]!=null)if(F==="style"){var w=o[F];for(m in w)w.hasOwnProperty(m)&&(s||(s={}),s[m]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(d.hasOwnProperty(F)?c||(c=[]):(c=c||[]).push(F,null));for(F in n){var N=n[F];if(w=o?.[F],n.hasOwnProperty(F)&&N!==w&&(N!=null||w!=null))if(F==="style")if(w){for(m in w)!w.hasOwnProperty(m)||N&&N.hasOwnProperty(m)||(s||(s={}),s[m]="");for(m in N)N.hasOwnProperty(m)&&w[m]!==N[m]&&(s||(s={}),s[m]=N[m])}else s||(c||(c=[]),c.push(F,s)),s=N;else F==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,w=w?w.__html:void 0,N!=null&&w!==N&&(c=c||[]).push(F,N)):F==="children"?typeof N!="string"&&typeof N!="number"||(c=c||[]).push(F,""+N):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(d.hasOwnProperty(F)?(N!=null&&F==="onScroll"&&Re("scroll",e),c||w===N||(c=[])):(c=c||[]).push(F,N))}s&&(c=c||[]).push("style",s);var F=c;(t.updateQueue=F)&&(t.flags|=4)}},zu=function(e,t,s,n){s!==n&&(t.flags|=4)};function vn(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,n=0;if(t)for(var o=e.child;o!==null;)s|=o.lanes|o.childLanes,n|=o.subtreeFlags&14680064,n|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)s|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=s,t}function tf(e,t,s){var n=t.pendingProps;switch(Jl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(t),null;case 1:return ht(t.type)&&na(),rt(t),null;case 3:return n=t.stateNode,Ns(),Fe(mt),Fe(et),li(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ca(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Rt!==null&&(Oi(Rt),Rt=null))),Si(e,t),rt(t),null;case 5:ni(t);var o=Wr(fn.current);if(s=t.type,e!==null&&t.stateNode!=null)$u(e,t,s,n,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(a(166));return rt(t),null}if(e=Wr(Bt.current),ca(t)){n=t.stateNode,s=t.type;var c=t.memoizedProps;switch(n[Vt]=t,n[cn]=c,e=(t.mode&1)!==0,s){case"dialog":Re("cancel",n),Re("close",n);break;case"iframe":case"object":case"embed":Re("load",n);break;case"video":case"audio":for(o=0;o<an.length;o++)Re(an[o],n);break;case"source":Re("error",n);break;case"img":case"image":case"link":Re("error",n),Re("load",n);break;case"details":Re("toggle",n);break;case"input":dt(n,c),Re("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!c.multiple},Re("invalid",n);break;case"textarea":P(n,c),Re("invalid",n)}al(s,c),o=null;for(var m in c)if(c.hasOwnProperty(m)){var w=c[m];m==="children"?typeof w=="string"?n.textContent!==w&&(c.suppressHydrationWarning!==!0&&ta(n.textContent,w,e),o=["children",w]):typeof w=="number"&&n.textContent!==""+w&&(c.suppressHydrationWarning!==!0&&ta(n.textContent,w,e),o=["children",""+w]):d.hasOwnProperty(m)&&w!=null&&m==="onScroll"&&Re("scroll",n)}switch(s){case"input":W(n),Rn(n,c,!0);break;case"textarea":W(n),Ce(n);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(n.onclick=ra)}n=o,t.updateQueue=n,n!==null&&(t.flags|=4)}else{m=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Je(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=m.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=m.createElement(s,{is:n.is}):(e=m.createElement(s),s==="select"&&(m=e,n.multiple?m.multiple=!0:n.size&&(m.size=n.size))):e=m.createElementNS(e,s),e[Vt]=t,e[cn]=n,Iu(e,t,!1,!1),t.stateNode=e;e:{switch(m=ll(s,n),s){case"dialog":Re("cancel",e),Re("close",e),o=n;break;case"iframe":case"object":case"embed":Re("load",e),o=n;break;case"video":case"audio":for(o=0;o<an.length;o++)Re(an[o],e);o=n;break;case"source":Re("error",e),o=n;break;case"img":case"image":case"link":Re("error",e),Re("load",e),o=n;break;case"details":Re("toggle",e),o=n;break;case"input":dt(e,n),o=Dt(e,n),Re("invalid",e);break;case"option":o=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=x({},n,{value:void 0}),Re("invalid",e);break;case"textarea":P(e,n),o=ns(e,n),Re("invalid",e);break;default:o=n}al(s,o),w=o;for(c in w)if(w.hasOwnProperty(c)){var N=w[c];c==="style"?_o(e,N):c==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&Eo(e,N)):c==="children"?typeof N=="string"?(s!=="textarea"||N!=="")&&zs(e,N):typeof N=="number"&&zs(e,""+N):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(d.hasOwnProperty(c)?N!=null&&c==="onScroll"&&Re("scroll",e):N!=null&&q(e,c,N,m))}switch(s){case"input":W(e),Rn(e,n,!1);break;case"textarea":W(e),Ce(e);break;case"option":n.value!=null&&e.setAttribute("value",""+S(n.value));break;case"select":e.multiple=!!n.multiple,c=n.value,c!=null?hr(e,!!n.multiple,c,!1):n.defaultValue!=null&&hr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=ra)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return rt(t),null;case 6:if(e&&t.stateNode!=null)zu(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(a(166));if(s=Wr(fn.current),Wr(Bt.current),ca(t)){if(n=t.stateNode,s=t.memoizedProps,n[Vt]=t,(c=n.nodeValue!==s)&&(e=wt,e!==null))switch(e.tag){case 3:ta(n.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ta(n.nodeValue,s,(e.mode&1)!==0)}c&&(t.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[Vt]=t,t.stateNode=n}return rt(t),null;case 13:if(Fe(Ie),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Oe&&jt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Bc(),vs(),t.flags|=98560,c=!1;else if(c=ca(t),n!==null&&n.dehydrated!==null){if(e===null){if(!c)throw Error(a(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[Vt]=t}else vs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;rt(t),c=!1}else Rt!==null&&(Oi(Rt),Rt=null),c=!0;if(!c)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=s,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ie.current&1)!==0?We===0&&(We=3):$i())),t.updateQueue!==null&&(t.flags|=4),rt(t),null);case 4:return Ns(),Si(e,t),e===null&&ln(t.stateNode.containerInfo),rt(t),null;case 10:return Xl(t.type._context),rt(t),null;case 17:return ht(t.type)&&na(),rt(t),null;case 19:if(Fe(Ie),c=t.memoizedState,c===null)return rt(t),null;if(n=(t.flags&128)!==0,m=c.rendering,m===null)if(n)vn(c,!1);else{if(We!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(m=pa(e),m!==null){for(t.flags|=128,vn(c,!1),n=m.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=s,s=t.child;s!==null;)c=s,e=n,c.flags&=14680066,m=c.alternate,m===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=m.childLanes,c.lanes=m.lanes,c.child=m.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=m.memoizedProps,c.memoizedState=m.memoizedState,c.updateQueue=m.updateQueue,c.type=m.type,e=m.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Ae(Ie,Ie.current&1|2),t.child}e=e.sibling}c.tail!==null&&Ue()>Es&&(t.flags|=128,n=!0,vn(c,!1),t.lanes=4194304)}else{if(!n)if(e=pa(m),e!==null){if(t.flags|=128,n=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),vn(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!Oe)return rt(t),null}else 2*Ue()-c.renderingStartTime>Es&&s!==1073741824&&(t.flags|=128,n=!0,vn(c,!1),t.lanes=4194304);c.isBackwards?(m.sibling=t.child,t.child=m):(s=c.last,s!==null?s.sibling=m:t.child=m,c.last=m)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=Ue(),t.sibling=null,s=Ie.current,Ae(Ie,n?s&1|2:s&1),t):(rt(t),null);case 22:case 23:return Ii(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&(t.mode&1)!==0?(bt&1073741824)!==0&&(rt(t),t.subtreeFlags&6&&(t.flags|=8192)):rt(t),null;case 24:return null;case 25:return null}throw Error(a(156,t.tag))}function rf(e,t){switch(Jl(t),t.tag){case 1:return ht(t.type)&&na(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ns(),Fe(mt),Fe(et),li(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return ni(t),null;case 13:if(Fe(Ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));vs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Fe(Ie),null;case 4:return Ns(),null;case 10:return Xl(t.type._context),null;case 22:case 23:return Ii(),null;case 24:return null;default:return null}}var ka=!1,st=!1,sf=typeof WeakSet=="function"?WeakSet:Set,me=null;function Ss(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){ze(e,t,n)}else s.current=null}function Ci(e,t,s){try{s()}catch(n){ze(e,t,n)}}var Uu=!1;function nf(e,t){if(Il=Hn,e=vc(),Tl(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var o=n.anchorOffset,c=n.focusNode;n=n.focusOffset;try{s.nodeType,c.nodeType}catch{s=null;break e}var m=0,w=-1,N=-1,F=0,Y=0,Z=e,Q=null;t:for(;;){for(var oe;Z!==s||o!==0&&Z.nodeType!==3||(w=m+o),Z!==c||n!==0&&Z.nodeType!==3||(N=m+n),Z.nodeType===3&&(m+=Z.nodeValue.length),(oe=Z.firstChild)!==null;)Q=Z,Z=oe;for(;;){if(Z===e)break t;if(Q===s&&++F===o&&(w=m),Q===c&&++Y===n&&(N=m),(oe=Z.nextSibling)!==null)break;Z=Q,Q=Z.parentNode}Z=oe}s=w===-1||N===-1?null:{start:w,end:N}}else s=null}s=s||{start:0,end:0}}else s=null;for($l={focusedElem:e,selectionRange:s},Hn=!1,me=t;me!==null;)if(t=me,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,me=e;else for(;me!==null;){t=me;try{var fe=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var pe=fe.memoizedProps,Ve=fe.memoizedState,A=t.stateNode,C=A.getSnapshotBeforeUpdate(t.elementType===t.type?pe:Ft(t.type,pe),Ve);A.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var R=t.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(X){ze(t,t.return,X)}if(e=t.sibling,e!==null){e.return=t.return,me=e;break}me=t.return}return fe=Uu,Uu=!1,fe}function wn(e,t,s){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var c=o.destroy;o.destroy=void 0,c!==void 0&&Ci(t,s,c)}o=o.next}while(o!==n)}}function Sa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var n=s.create;s.destroy=n()}s=s.next}while(s!==t)}}function Ei(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function Vu(e){var t=e.alternate;t!==null&&(e.alternate=null,Vu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Vt],delete t[cn],delete t[Bl],delete t[zh],delete t[Uh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Bu(e){return e.tag===5||e.tag===3||e.tag===4}function Hu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pi(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=ra));else if(n!==4&&(e=e.child,e!==null))for(Pi(e,t,s),e=e.sibling;e!==null;)Pi(e,t,s),e=e.sibling}function _i(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(_i(e,t,s),e=e.sibling;e!==null;)_i(e,t,s),e=e.sibling}var Ke=null,Ot=!1;function Cr(e,t,s){for(s=s.child;s!==null;)qu(e,t,s),s=s.sibling}function qu(e,t,s){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(In,s)}catch{}switch(s.tag){case 5:st||Ss(s,t);case 6:var n=Ke,o=Ot;Ke=null,Cr(e,t,s),Ke=n,Ot=o,Ke!==null&&(Ot?(e=Ke,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Ke.removeChild(s.stateNode));break;case 18:Ke!==null&&(Ot?(e=Ke,s=s.stateNode,e.nodeType===8?Vl(e.parentNode,s):e.nodeType===1&&Vl(e,s),Ks(e)):Vl(Ke,s.stateNode));break;case 4:n=Ke,o=Ot,Ke=s.stateNode.containerInfo,Ot=!0,Cr(e,t,s),Ke=n,Ot=o;break;case 0:case 11:case 14:case 15:if(!st&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){o=n=n.next;do{var c=o,m=c.destroy;c=c.tag,m!==void 0&&((c&2)!==0||(c&4)!==0)&&Ci(s,t,m),o=o.next}while(o!==n)}Cr(e,t,s);break;case 1:if(!st&&(Ss(s,t),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(w){ze(s,t,w)}Cr(e,t,s);break;case 21:Cr(e,t,s);break;case 22:s.mode&1?(st=(n=st)||s.memoizedState!==null,Cr(e,t,s),st=n):Cr(e,t,s);break;default:Cr(e,t,s)}}function Wu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new sf),t.forEach(function(n){var o=ff.bind(null,e,n);s.has(n)||(s.add(n),n.then(o,o))})}}function Lt(e,t){var s=t.deletions;if(s!==null)for(var n=0;n<s.length;n++){var o=s[n];try{var c=e,m=t,w=m;e:for(;w!==null;){switch(w.tag){case 5:Ke=w.stateNode,Ot=!1;break e;case 3:Ke=w.stateNode.containerInfo,Ot=!0;break e;case 4:Ke=w.stateNode.containerInfo,Ot=!0;break e}w=w.return}if(Ke===null)throw Error(a(160));qu(c,m,o),Ke=null,Ot=!1;var N=o.alternate;N!==null&&(N.return=null),o.return=null}catch(F){ze(o,t,F)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ju(t,e),t=t.sibling}function Ju(e,t){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lt(t,e),qt(e),n&4){try{wn(3,e,e.return),Sa(3,e)}catch(pe){ze(e,e.return,pe)}try{wn(5,e,e.return)}catch(pe){ze(e,e.return,pe)}}break;case 1:Lt(t,e),qt(e),n&512&&s!==null&&Ss(s,s.return);break;case 5:if(Lt(t,e),qt(e),n&512&&s!==null&&Ss(s,s.return),e.flags&32){var o=e.stateNode;try{zs(o,"")}catch(pe){ze(e,e.return,pe)}}if(n&4&&(o=e.stateNode,o!=null)){var c=e.memoizedProps,m=s!==null?s.memoizedProps:c,w=e.type,N=e.updateQueue;if(e.updateQueue=null,N!==null)try{w==="input"&&c.type==="radio"&&c.name!=null&&Is(o,c),ll(w,m);var F=ll(w,c);for(m=0;m<N.length;m+=2){var Y=N[m],Z=N[m+1];Y==="style"?_o(o,Z):Y==="dangerouslySetInnerHTML"?Eo(o,Z):Y==="children"?zs(o,Z):q(o,Y,Z,F)}switch(w){case"input":Xe(o,c);break;case"textarea":he(o,c);break;case"select":var Q=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!c.multiple;var oe=c.value;oe!=null?hr(o,!!c.multiple,oe,!1):Q!==!!c.multiple&&(c.defaultValue!=null?hr(o,!!c.multiple,c.defaultValue,!0):hr(o,!!c.multiple,c.multiple?[]:"",!1))}o[cn]=c}catch(pe){ze(e,e.return,pe)}}break;case 6:if(Lt(t,e),qt(e),n&4){if(e.stateNode===null)throw Error(a(162));o=e.stateNode,c=e.memoizedProps;try{o.nodeValue=c}catch(pe){ze(e,e.return,pe)}}break;case 3:if(Lt(t,e),qt(e),n&4&&s!==null&&s.memoizedState.isDehydrated)try{Ks(t.containerInfo)}catch(pe){ze(e,e.return,pe)}break;case 4:Lt(t,e),qt(e);break;case 13:Lt(t,e),qt(e),o=e.child,o.flags&8192&&(c=o.memoizedState!==null,o.stateNode.isHidden=c,!c||o.alternate!==null&&o.alternate.memoizedState!==null||(Ai=Ue())),n&4&&Wu(e);break;case 22:if(Y=s!==null&&s.memoizedState!==null,e.mode&1?(st=(F=st)||Y,Lt(t,e),st=F):Lt(t,e),qt(e),n&8192){if(F=e.memoizedState!==null,(e.stateNode.isHidden=F)&&!Y&&(e.mode&1)!==0)for(me=e,Y=e.child;Y!==null;){for(Z=me=Y;me!==null;){switch(Q=me,oe=Q.child,Q.tag){case 0:case 11:case 14:case 15:wn(4,Q,Q.return);break;case 1:Ss(Q,Q.return);var fe=Q.stateNode;if(typeof fe.componentWillUnmount=="function"){n=Q,s=Q.return;try{t=n,fe.props=t.memoizedProps,fe.state=t.memoizedState,fe.componentWillUnmount()}catch(pe){ze(n,s,pe)}}break;case 5:Ss(Q,Q.return);break;case 22:if(Q.memoizedState!==null){Yu(Z);continue}}oe!==null?(oe.return=Q,me=oe):Yu(Z)}Y=Y.sibling}e:for(Y=null,Z=e;;){if(Z.tag===5){if(Y===null){Y=Z;try{o=Z.stateNode,F?(c=o.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(w=Z.stateNode,N=Z.memoizedProps.style,m=N!=null&&N.hasOwnProperty("display")?N.display:null,w.style.display=Po("display",m))}catch(pe){ze(e,e.return,pe)}}}else if(Z.tag===6){if(Y===null)try{Z.stateNode.nodeValue=F?"":Z.memoizedProps}catch(pe){ze(e,e.return,pe)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===e)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===e)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===e)break e;Y===Z&&(Y=null),Z=Z.return}Y===Z&&(Y=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:Lt(t,e),qt(e),n&4&&Wu(e);break;case 21:break;default:Lt(t,e),qt(e)}}function qt(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(Bu(s)){var n=s;break e}s=s.return}throw Error(a(160))}switch(n.tag){case 5:var o=n.stateNode;n.flags&32&&(zs(o,""),n.flags&=-33);var c=Hu(e);_i(e,c,o);break;case 3:case 4:var m=n.stateNode.containerInfo,w=Hu(e);Pi(e,w,m);break;default:throw Error(a(161))}}catch(N){ze(e,e.return,N)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function af(e,t,s){me=e,Gu(e)}function Gu(e,t,s){for(var n=(e.mode&1)!==0;me!==null;){var o=me,c=o.child;if(o.tag===22&&n){var m=o.memoizedState!==null||ka;if(!m){var w=o.alternate,N=w!==null&&w.memoizedState!==null||st;w=ka;var F=st;if(ka=m,(st=N)&&!F)for(me=o;me!==null;)m=me,N=m.child,m.tag===22&&m.memoizedState!==null?Ku(o):N!==null?(N.return=m,me=N):Ku(o);for(;c!==null;)me=c,Gu(c),c=c.sibling;me=o,ka=w,st=F}Qu(e)}else(o.subtreeFlags&8772)!==0&&c!==null?(c.return=o,me=c):Qu(e)}}function Qu(e){for(;me!==null;){var t=me;if((t.flags&8772)!==0){var s=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:st||Sa(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!st)if(s===null)n.componentDidMount();else{var o=t.elementType===t.type?s.memoizedProps:Ft(t.type,s.memoizedProps);n.componentDidUpdate(o,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var c=t.updateQueue;c!==null&&Yc(t,c,n);break;case 3:var m=t.updateQueue;if(m!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}Yc(t,m,s)}break;case 5:var w=t.stateNode;if(s===null&&t.flags&4){s=w;var N=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&s.focus();break;case"img":N.src&&(s.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var F=t.alternate;if(F!==null){var Y=F.memoizedState;if(Y!==null){var Z=Y.dehydrated;Z!==null&&Ks(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}st||t.flags&512&&Ei(t)}catch(Q){ze(t,t.return,Q)}}if(t===e){me=null;break}if(s=t.sibling,s!==null){s.return=t.return,me=s;break}me=t.return}}function Yu(e){for(;me!==null;){var t=me;if(t===e){me=null;break}var s=t.sibling;if(s!==null){s.return=t.return,me=s;break}me=t.return}}function Ku(e){for(;me!==null;){var t=me;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{Sa(4,t)}catch(N){ze(t,s,N)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var o=t.return;try{n.componentDidMount()}catch(N){ze(t,o,N)}}var c=t.return;try{Ei(t)}catch(N){ze(t,c,N)}break;case 5:var m=t.return;try{Ei(t)}catch(N){ze(t,m,N)}}}catch(N){ze(t,t.return,N)}if(t===e){me=null;break}var w=t.sibling;if(w!==null){w.return=t.return,me=w;break}me=t.return}}var lf=Math.ceil,Ca=K.ReactCurrentDispatcher,Ti=K.ReactCurrentOwner,Et=K.ReactCurrentBatchConfig,Pe=0,Qe=null,He=null,Ze=0,bt=0,Cs=jr(0),We=0,jn=null,Gr=0,Ea=0,Di=0,bn=null,pt=null,Ai=0,Es=1/0,lr=null,Pa=!1,Mi=null,Er=null,_a=!1,Pr=null,Ta=0,Nn=0,Ri=null,Da=-1,Aa=0;function it(){return(Pe&6)!==0?Ue():Da!==-1?Da:Da=Ue()}function _r(e){return(e.mode&1)===0?1:(Pe&2)!==0&&Ze!==0?Ze&-Ze:Bh.transition!==null?(Aa===0&&(Aa=Ho()),Aa):(e=De,e!==0||(e=window.event,e=e===void 0?16:Xo(e.type)),e)}function It(e,t,s,n){if(50<Nn)throw Nn=0,Ri=null,Error(a(185));Ws(e,s,n),((Pe&2)===0||e!==Qe)&&(e===Qe&&((Pe&2)===0&&(Ea|=s),We===4&&Tr(e,Ze)),xt(e,n),s===1&&Pe===0&&(t.mode&1)===0&&(Es=Ue()+500,la&&Nr()))}function xt(e,t){var s=e.callbackNode;Bm(e,t);var n=Un(e,e===Qe?Ze:0);if(n===0)s!==null&&Uo(s),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(s!=null&&Uo(s),t===1)e.tag===0?Vh(Xu.bind(null,e)):Ic(Xu.bind(null,e)),Ih(function(){(Pe&6)===0&&Nr()}),s=null;else{switch(qo(n)){case 1:s=hl;break;case 4:s=Vo;break;case 16:s=Ln;break;case 536870912:s=Bo;break;default:s=Ln}s=id(s,Zu.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function Zu(e,t){if(Da=-1,Aa=0,(Pe&6)!==0)throw Error(a(327));var s=e.callbackNode;if(Ps()&&e.callbackNode!==s)return null;var n=Un(e,e===Qe?Ze:0);if(n===0)return null;if((n&30)!==0||(n&e.expiredLanes)!==0||t)t=Ma(e,n);else{t=n;var o=Pe;Pe|=2;var c=td();(Qe!==e||Ze!==t)&&(lr=null,Es=Ue()+500,Yr(e,t));do try{uf();break}catch(w){ed(e,w)}while(!0);Zl(),Ca.current=c,Pe=o,He!==null?t=0:(Qe=null,Ze=0,t=We)}if(t!==0){if(t===2&&(o=fl(e),o!==0&&(n=o,t=Fi(e,o))),t===1)throw s=jn,Yr(e,0),Tr(e,n),xt(e,Ue()),s;if(t===6)Tr(e,n);else{if(o=e.current.alternate,(n&30)===0&&!of(o)&&(t=Ma(e,n),t===2&&(c=fl(e),c!==0&&(n=c,t=Fi(e,c))),t===1))throw s=jn,Yr(e,0),Tr(e,n),xt(e,Ue()),s;switch(e.finishedWork=o,e.finishedLanes=n,t){case 0:case 1:throw Error(a(345));case 2:Kr(e,pt,lr);break;case 3:if(Tr(e,n),(n&130023424)===n&&(t=Ai+500-Ue(),10<t)){if(Un(e,0)!==0)break;if(o=e.suspendedLanes,(o&n)!==n){it(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Ul(Kr.bind(null,e,pt,lr),t);break}Kr(e,pt,lr);break;case 4:if(Tr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,o=-1;0<n;){var m=31-At(n);c=1<<m,m=t[m],m>o&&(o=m),n&=~c}if(n=o,n=Ue()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*lf(n/1960))-n,10<n){e.timeoutHandle=Ul(Kr.bind(null,e,pt,lr),n);break}Kr(e,pt,lr);break;case 5:Kr(e,pt,lr);break;default:throw Error(a(329))}}}return xt(e,Ue()),e.callbackNode===s?Zu.bind(null,e):null}function Fi(e,t){var s=bn;return e.current.memoizedState.isDehydrated&&(Yr(e,t).flags|=256),e=Ma(e,t),e!==2&&(t=pt,pt=s,t!==null&&Oi(t)),e}function Oi(e){pt===null?pt=e:pt.push.apply(pt,e)}function of(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var o=s[n],c=o.getSnapshot;o=o.value;try{if(!Mt(c(),o))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tr(e,t){for(t&=~Di,t&=~Ea,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-At(t),n=1<<s;e[s]=-1,t&=~n}}function Xu(e){if((Pe&6)!==0)throw Error(a(327));Ps();var t=Un(e,0);if((t&1)===0)return xt(e,Ue()),null;var s=Ma(e,t);if(e.tag!==0&&s===2){var n=fl(e);n!==0&&(t=n,s=Fi(e,n))}if(s===1)throw s=jn,Yr(e,0),Tr(e,t),xt(e,Ue()),s;if(s===6)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Kr(e,pt,lr),xt(e,Ue()),null}function Li(e,t){var s=Pe;Pe|=1;try{return e(t)}finally{Pe=s,Pe===0&&(Es=Ue()+500,la&&Nr())}}function Qr(e){Pr!==null&&Pr.tag===0&&(Pe&6)===0&&Ps();var t=Pe;Pe|=1;var s=Et.transition,n=De;try{if(Et.transition=null,De=1,e)return e()}finally{De=n,Et.transition=s,Pe=t,(Pe&6)===0&&Nr()}}function Ii(){bt=Cs.current,Fe(Cs)}function Yr(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Lh(s)),He!==null)for(s=He.return;s!==null;){var n=s;switch(Jl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&na();break;case 3:Ns(),Fe(mt),Fe(et),li();break;case 5:ni(n);break;case 4:Ns();break;case 13:Fe(Ie);break;case 19:Fe(Ie);break;case 10:Xl(n.type._context);break;case 22:case 23:Ii()}s=s.return}if(Qe=e,He=e=Dr(e.current,null),Ze=bt=t,We=0,jn=null,Di=Ea=Gr=0,pt=bn=null,qr!==null){for(t=0;t<qr.length;t++)if(s=qr[t],n=s.interleaved,n!==null){s.interleaved=null;var o=n.next,c=s.pending;if(c!==null){var m=c.next;c.next=o,n.next=m}s.pending=n}qr=null}return e}function ed(e,t){do{var s=He;try{if(Zl(),xa.current=wa,ga){for(var n=$e.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}ga=!1}if(Jr=0,Ge=qe=$e=null,pn=!1,xn=0,Ti.current=null,s===null||s.return===null){We=1,jn=t,He=null;break}e:{var c=e,m=s.return,w=s,N=t;if(t=Ze,w.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var F=N,Y=w,Z=Y.tag;if((Y.mode&1)===0&&(Z===0||Z===11||Z===15)){var Q=Y.alternate;Q?(Y.updateQueue=Q.updateQueue,Y.memoizedState=Q.memoizedState,Y.lanes=Q.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var oe=Su(m);if(oe!==null){oe.flags&=-257,Cu(oe,m,w,c,t),oe.mode&1&&ku(c,F,t),t=oe,N=F;var fe=t.updateQueue;if(fe===null){var pe=new Set;pe.add(N),t.updateQueue=pe}else fe.add(N);break e}else{if((t&1)===0){ku(c,F,t),$i();break e}N=Error(a(426))}}else if(Oe&&w.mode&1){var Ve=Su(m);if(Ve!==null){(Ve.flags&65536)===0&&(Ve.flags|=256),Cu(Ve,m,w,c,t),Yl(ks(N,w));break e}}c=N=ks(N,w),We!==4&&(We=2),bn===null?bn=[c]:bn.push(c),c=m;do{switch(c.tag){case 3:c.flags|=65536,t&=-t,c.lanes|=t;var A=bu(c,N,t);Qc(c,A);break e;case 1:w=N;var C=c.type,R=c.stateNode;if((c.flags&128)===0&&(typeof C.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(Er===null||!Er.has(R)))){c.flags|=65536,t&=-t,c.lanes|=t;var X=Nu(c,w,t);Qc(c,X);break e}}c=c.return}while(c!==null)}sd(s)}catch(xe){t=xe,He===s&&s!==null&&(He=s=s.return);continue}break}while(!0)}function td(){var e=Ca.current;return Ca.current=wa,e===null?wa:e}function $i(){(We===0||We===3||We===2)&&(We=4),Qe===null||(Gr&268435455)===0&&(Ea&268435455)===0||Tr(Qe,Ze)}function Ma(e,t){var s=Pe;Pe|=2;var n=td();(Qe!==e||Ze!==t)&&(lr=null,Yr(e,t));do try{cf();break}catch(o){ed(e,o)}while(!0);if(Zl(),Pe=s,Ca.current=n,He!==null)throw Error(a(261));return Qe=null,Ze=0,We}function cf(){for(;He!==null;)rd(He)}function uf(){for(;He!==null&&!Rm();)rd(He)}function rd(e){var t=ld(e.alternate,e,bt);e.memoizedProps=e.pendingProps,t===null?sd(e):He=t,Ti.current=null}function sd(e){var t=e;do{var s=t.alternate;if(e=t.return,(t.flags&32768)===0){if(s=tf(s,t,bt),s!==null){He=s;return}}else{if(s=rf(s,t),s!==null){s.flags&=32767,He=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{We=6,He=null;return}}if(t=t.sibling,t!==null){He=t;return}He=t=e}while(t!==null);We===0&&(We=5)}function Kr(e,t,s){var n=De,o=Et.transition;try{Et.transition=null,De=1,df(e,t,s,n)}finally{Et.transition=o,De=n}return null}function df(e,t,s,n){do Ps();while(Pr!==null);if((Pe&6)!==0)throw Error(a(327));s=e.finishedWork;var o=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var c=s.lanes|s.childLanes;if(Hm(e,c),e===Qe&&(He=Qe=null,Ze=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||_a||(_a=!0,id(Ln,function(){return Ps(),null})),c=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||c){c=Et.transition,Et.transition=null;var m=De;De=1;var w=Pe;Pe|=4,Ti.current=null,nf(e,s),Ju(s,e),Th($l),Hn=!!Il,$l=Il=null,e.current=s,af(s),Fm(),Pe=w,De=m,Et.transition=c}else e.current=s;if(_a&&(_a=!1,Pr=e,Ta=o),c=e.pendingLanes,c===0&&(Er=null),Im(s.stateNode),xt(e,Ue()),t!==null)for(n=e.onRecoverableError,s=0;s<t.length;s++)o=t[s],n(o.value,{componentStack:o.stack,digest:o.digest});if(Pa)throw Pa=!1,e=Mi,Mi=null,e;return(Ta&1)!==0&&e.tag!==0&&Ps(),c=e.pendingLanes,(c&1)!==0?e===Ri?Nn++:(Nn=0,Ri=e):Nn=0,Nr(),null}function Ps(){if(Pr!==null){var e=qo(Ta),t=Et.transition,s=De;try{if(Et.transition=null,De=16>e?16:e,Pr===null)var n=!1;else{if(e=Pr,Pr=null,Ta=0,(Pe&6)!==0)throw Error(a(331));var o=Pe;for(Pe|=4,me=e.current;me!==null;){var c=me,m=c.child;if((me.flags&16)!==0){var w=c.deletions;if(w!==null){for(var N=0;N<w.length;N++){var F=w[N];for(me=F;me!==null;){var Y=me;switch(Y.tag){case 0:case 11:case 15:wn(8,Y,c)}var Z=Y.child;if(Z!==null)Z.return=Y,me=Z;else for(;me!==null;){Y=me;var Q=Y.sibling,oe=Y.return;if(Vu(Y),Y===F){me=null;break}if(Q!==null){Q.return=oe,me=Q;break}me=oe}}}var fe=c.alternate;if(fe!==null){var pe=fe.child;if(pe!==null){fe.child=null;do{var Ve=pe.sibling;pe.sibling=null,pe=Ve}while(pe!==null)}}me=c}}if((c.subtreeFlags&2064)!==0&&m!==null)m.return=c,me=m;else e:for(;me!==null;){if(c=me,(c.flags&2048)!==0)switch(c.tag){case 0:case 11:case 15:wn(9,c,c.return)}var A=c.sibling;if(A!==null){A.return=c.return,me=A;break e}me=c.return}}var C=e.current;for(me=C;me!==null;){m=me;var R=m.child;if((m.subtreeFlags&2064)!==0&&R!==null)R.return=m,me=R;else e:for(m=C;me!==null;){if(w=me,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:Sa(9,w)}}catch(xe){ze(w,w.return,xe)}if(w===m){me=null;break e}var X=w.sibling;if(X!==null){X.return=w.return,me=X;break e}me=w.return}}if(Pe=o,Nr(),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(In,e)}catch{}n=!0}return n}finally{De=s,Et.transition=t}}return!1}function nd(e,t,s){t=ks(s,t),t=bu(e,t,1),e=Sr(e,t,1),t=it(),e!==null&&(Ws(e,1,t),xt(e,t))}function ze(e,t,s){if(e.tag===3)nd(e,e,s);else for(;t!==null;){if(t.tag===3){nd(t,e,s);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Er===null||!Er.has(n))){e=ks(s,e),e=Nu(t,e,1),t=Sr(t,e,1),e=it(),t!==null&&(Ws(t,1,e),xt(t,e));break}}t=t.return}}function mf(e,t,s){var n=e.pingCache;n!==null&&n.delete(t),t=it(),e.pingedLanes|=e.suspendedLanes&s,Qe===e&&(Ze&s)===s&&(We===4||We===3&&(Ze&130023424)===Ze&&500>Ue()-Ai?Yr(e,0):Di|=s),xt(e,t)}function ad(e,t){t===0&&((e.mode&1)===0?t=1:(t=zn,zn<<=1,(zn&130023424)===0&&(zn=4194304)));var s=it();e=sr(e,t),e!==null&&(Ws(e,t,s),xt(e,s))}function hf(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),ad(e,s)}function ff(e,t){var s=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;o!==null&&(s=o.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(a(314))}n!==null&&n.delete(t),ad(e,s)}var ld;ld=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||mt.current)ft=!0;else{if((e.lanes&s)===0&&(t.flags&128)===0)return ft=!1,ef(e,t,s);ft=(e.flags&131072)!==0}else ft=!1,Oe&&(t.flags&1048576)!==0&&$c(t,oa,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Na(e,t),e=t.pendingProps;var o=xs(t,et.current);bs(t,s),o=ci(null,t,n,e,o,s);var c=ui();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ht(n)?(c=!0,aa(t)):c=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,ri(t),o.updater=ja,t.stateNode=o,o._reactInternals=t,xi(t,n,e,s),t=wi(null,t,n,!0,c,s)):(t.tag=0,Oe&&c&&Wl(t),lt(null,t,o,s),t=t.child),t;case 16:n=t.elementType;e:{switch(Na(e,t),e=t.pendingProps,o=n._init,n=o(n._payload),t.type=n,o=t.tag=xf(n),e=Ft(n,e),o){case 0:t=vi(null,t,n,e,s);break e;case 1:t=Au(null,t,n,e,s);break e;case 11:t=Eu(null,t,n,e,s);break e;case 14:t=Pu(null,t,n,Ft(n.type,e),s);break e}throw Error(a(306,n,""))}return t;case 0:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Ft(n,o),vi(e,t,n,o,s);case 1:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Ft(n,o),Au(e,t,n,o,s);case 3:e:{if(Mu(t),e===null)throw Error(a(387));n=t.pendingProps,c=t.memoizedState,o=c.element,Gc(e,t),fa(t,n,null,s);var m=t.memoizedState;if(n=m.element,c.isDehydrated)if(c={element:n,isDehydrated:!1,cache:m.cache,pendingSuspenseBoundaries:m.pendingSuspenseBoundaries,transitions:m.transitions},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){o=ks(Error(a(423)),t),t=Ru(e,t,n,s,o);break e}else if(n!==o){o=ks(Error(a(424)),t),t=Ru(e,t,n,s,o);break e}else for(jt=wr(t.stateNode.containerInfo.firstChild),wt=t,Oe=!0,Rt=null,s=Wc(t,null,n,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(vs(),n===o){t=ar(e,t,s);break e}lt(e,t,n,s)}t=t.child}return t;case 5:return Kc(t),e===null&&Ql(t),n=t.type,o=t.pendingProps,c=e!==null?e.memoizedProps:null,m=o.children,zl(n,o)?m=null:c!==null&&zl(n,c)&&(t.flags|=32),Du(e,t),lt(e,t,m,s),t.child;case 6:return e===null&&Ql(t),null;case 13:return Fu(e,t,s);case 4:return si(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ws(t,null,n,s):lt(e,t,n,s),t.child;case 11:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Ft(n,o),Eu(e,t,n,o,s);case 7:return lt(e,t,t.pendingProps,s),t.child;case 8:return lt(e,t,t.pendingProps.children,s),t.child;case 12:return lt(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(n=t.type._context,o=t.pendingProps,c=t.memoizedProps,m=o.value,Ae(da,n._currentValue),n._currentValue=m,c!==null)if(Mt(c.value,m)){if(c.children===o.children&&!mt.current){t=ar(e,t,s);break e}}else for(c=t.child,c!==null&&(c.return=t);c!==null;){var w=c.dependencies;if(w!==null){m=c.child;for(var N=w.firstContext;N!==null;){if(N.context===n){if(c.tag===1){N=nr(-1,s&-s),N.tag=2;var F=c.updateQueue;if(F!==null){F=F.shared;var Y=F.pending;Y===null?N.next=N:(N.next=Y.next,Y.next=N),F.pending=N}}c.lanes|=s,N=c.alternate,N!==null&&(N.lanes|=s),ei(c.return,s,t),w.lanes|=s;break}N=N.next}}else if(c.tag===10)m=c.type===t.type?null:c.child;else if(c.tag===18){if(m=c.return,m===null)throw Error(a(341));m.lanes|=s,w=m.alternate,w!==null&&(w.lanes|=s),ei(m,s,t),m=c.sibling}else m=c.child;if(m!==null)m.return=c;else for(m=c;m!==null;){if(m===t){m=null;break}if(c=m.sibling,c!==null){c.return=m.return,m=c;break}m=m.return}c=m}lt(e,t,o.children,s),t=t.child}return t;case 9:return o=t.type,n=t.pendingProps.children,bs(t,s),o=St(o),n=n(o),t.flags|=1,lt(e,t,n,s),t.child;case 14:return n=t.type,o=Ft(n,t.pendingProps),o=Ft(n.type,o),Pu(e,t,n,o,s);case 15:return _u(e,t,t.type,t.pendingProps,s);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Ft(n,o),Na(e,t),t.tag=1,ht(n)?(e=!0,aa(t)):e=!1,bs(t,s),wu(t,n,o),xi(t,n,o,s),wi(null,t,n,!0,e,s);case 19:return Lu(e,t,s);case 22:return Tu(e,t,s)}throw Error(a(156,t.tag))};function id(e,t){return zo(e,t)}function pf(e,t,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(e,t,s,n){return new pf(e,t,s,n)}function zi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xf(e){if(typeof e=="function")return zi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ie)return 11;if(e===Se)return 14}return 2}function Dr(e,t){var s=e.alternate;return s===null?(s=Pt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Ra(e,t,s,n,o,c){var m=2;if(n=e,typeof e=="function")zi(e)&&(m=1);else if(typeof e=="string")m=5;else e:switch(e){case $:return Zr(s.children,o,c,t);case D:m=8,o|=8;break;case V:return e=Pt(12,s,t,o|2),e.elementType=V,e.lanes=c,e;case ce:return e=Pt(13,s,t,o),e.elementType=ce,e.lanes=c,e;case de:return e=Pt(19,s,t,o),e.elementType=de,e.lanes=c,e;case I:return Fa(s,o,c,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case le:m=10;break e;case M:m=9;break e;case ie:m=11;break e;case Se:m=14;break e;case Te:m=16,n=null;break e}throw Error(a(130,e==null?e:typeof e,""))}return t=Pt(m,s,t,o),t.elementType=e,t.type=n,t.lanes=c,t}function Zr(e,t,s,n){return e=Pt(7,e,n,t),e.lanes=s,e}function Fa(e,t,s,n){return e=Pt(22,e,n,t),e.elementType=I,e.lanes=s,e.stateNode={isHidden:!1},e}function Ui(e,t,s){return e=Pt(6,e,null,t),e.lanes=s,e}function Vi(e,t,s){return t=Pt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function gf(e,t,s,n,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pl(0),this.expirationTimes=pl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pl(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Bi(e,t,s,n,o,c,m,w,N){return e=new gf(e,t,s,w,N),t===1?(t=1,c===!0&&(t|=8)):t=0,c=Pt(3,null,null,t),e.current=c,c.stateNode=e,c.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},ri(c),e}function yf(e,t,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ue,key:n==null?null:""+n,children:e,containerInfo:t,implementation:s}}function od(e){if(!e)return br;e=e._reactInternals;e:{if(zr(e)!==e||e.tag!==1)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(a(171))}if(e.tag===1){var s=e.type;if(ht(s))return Oc(e,s,t)}return t}function cd(e,t,s,n,o,c,m,w,N){return e=Bi(s,n,!0,e,o,c,m,w,N),e.context=od(null),s=e.current,n=it(),o=_r(s),c=nr(n,o),c.callback=t??null,Sr(s,c,o),e.current.lanes=o,Ws(e,o,n),xt(e,n),e}function Oa(e,t,s,n){var o=t.current,c=it(),m=_r(o);return s=od(s),t.context===null?t.context=s:t.pendingContext=s,t=nr(c,m),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Sr(o,t,m),e!==null&&(It(e,o,m,c),ha(e,o,m)),m}function La(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ud(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Hi(e,t){ud(e,t),(e=e.alternate)&&ud(e,t)}function vf(){return null}var dd=typeof reportError=="function"?reportError:function(e){console.error(e)};function qi(e){this._internalRoot=e}Ia.prototype.render=qi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));Oa(e,t,null,null)},Ia.prototype.unmount=qi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qr(function(){Oa(null,e,null,null)}),t[Xt]=null}};function Ia(e){this._internalRoot=e}Ia.prototype.unstable_scheduleHydration=function(e){if(e){var t=Go();e={blockedOn:null,target:e,priority:t};for(var s=0;s<gr.length&&t!==0&&t<gr[s].priority;s++);gr.splice(s,0,e),s===0&&Ko(e)}};function Wi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function md(){}function wf(e,t,s,n,o){if(o){if(typeof n=="function"){var c=n;n=function(){var F=La(m);c.call(F)}}var m=cd(t,n,e,0,null,!1,!1,"",md);return e._reactRootContainer=m,e[Xt]=m.current,ln(e.nodeType===8?e.parentNode:e),Qr(),m}for(;o=e.lastChild;)e.removeChild(o);if(typeof n=="function"){var w=n;n=function(){var F=La(N);w.call(F)}}var N=Bi(e,0,!1,null,null,!1,!1,"",md);return e._reactRootContainer=N,e[Xt]=N.current,ln(e.nodeType===8?e.parentNode:e),Qr(function(){Oa(t,N,s,n)}),N}function za(e,t,s,n,o){var c=s._reactRootContainer;if(c){var m=c;if(typeof o=="function"){var w=o;o=function(){var N=La(m);w.call(N)}}Oa(t,m,e,o)}else m=wf(s,t,e,o,n);return La(m)}Wo=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=qs(t.pendingLanes);s!==0&&(xl(t,s|1),xt(t,Ue()),(Pe&6)===0&&(Es=Ue()+500,Nr()))}break;case 13:Qr(function(){var n=sr(e,1);if(n!==null){var o=it();It(n,e,1,o)}}),Hi(e,1)}},gl=function(e){if(e.tag===13){var t=sr(e,134217728);if(t!==null){var s=it();It(t,e,134217728,s)}Hi(e,134217728)}},Jo=function(e){if(e.tag===13){var t=_r(e),s=sr(e,t);if(s!==null){var n=it();It(s,e,t,n)}Hi(e,t)}},Go=function(){return De},Qo=function(e,t){var s=De;try{return De=e,t()}finally{De=s}},cl=function(e,t,s){switch(t){case"input":if(Xe(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var n=s[t];if(n!==e&&n.form===e.form){var o=sa(n);if(!o)throw Error(a(90));ke(n),Xe(n,o)}}}break;case"textarea":he(e,s);break;case"select":t=s.value,t!=null&&hr(e,!!s.multiple,t,!1)}},Mo=Li,Ro=Qr;var jf={usingClientEntryPoint:!1,Events:[un,fs,sa,Do,Ao,Li]},kn={findFiberByHostInstance:Ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bf={bundleType:kn.bundleType,version:kn.version,rendererPackageName:kn.rendererPackageName,rendererConfig:kn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Io(e),e===null?null:e.stateNode},findFiberByHostInstance:kn.findFiberByHostInstance||vf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ua=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ua.isDisabled&&Ua.supportsFiber)try{In=Ua.inject(bf),Ut=Ua}catch{}}return gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jf,gt.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wi(t))throw Error(a(200));return yf(e,t,null,s)},gt.createRoot=function(e,t){if(!Wi(e))throw Error(a(299));var s=!1,n="",o=dd;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Bi(e,1,!1,null,null,s,!1,n,o),e[Xt]=t.current,ln(e.nodeType===8?e.parentNode:e),new qi(t)},gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=Io(t),e=e===null?null:e.stateNode,e},gt.flushSync=function(e){return Qr(e)},gt.hydrate=function(e,t,s){if(!$a(t))throw Error(a(200));return za(null,e,t,!0,s)},gt.hydrateRoot=function(e,t,s){if(!Wi(e))throw Error(a(405));var n=s!=null&&s.hydratedSources||null,o=!1,c="",m=dd;if(s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(m=s.onRecoverableError)),t=cd(t,null,e,1,s??null,o,!1,c,m),e[Xt]=t.current,ln(e),n)for(e=0;e<n.length;e++)s=n[e],o=s._getVersion,o=o(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,o]:t.mutableSourceEagerHydrationData.push(s,o);return new Ia(t)},gt.render=function(e,t,s){if(!$a(t))throw Error(a(200));return za(null,e,t,!1,s)},gt.unmountComponentAtNode=function(e){if(!$a(e))throw Error(a(40));return e._reactRootContainer?(Qr(function(){za(null,null,e,!1,function(){e._reactRootContainer=null,e[Xt]=null})}),!0):!1},gt.unstable_batchedUpdates=Li,gt.unstable_renderSubtreeIntoContainer=function(e,t,s,n){if(!$a(s))throw Error(a(200));if(e==null||e._reactInternals===void 0)throw Error(a(38));return za(e,t,s,!1,n)},gt.version="18.3.1-next-f1338f8080-20240426",gt}var wd;function qd(){if(wd)return Qi.exports;wd=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(l){console.error(l)}}return i(),Qi.exports=Df(),Qi.exports}var jd;function Af(){if(jd)return Va;jd=1;var i=qd();return Va.createRoot=i.createRoot,Va.hydrateRoot=i.hydrateRoot,Va}var Mf=Af();const Rf=fo(Mf);qd();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pn(){return Pn=Object.assign?Object.assign.bind():function(i){for(var l=1;l<arguments.length;l++){var a=arguments[l];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(i[u]=a[u])}return i},Pn.apply(this,arguments)}var Rr;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(Rr||(Rr={}));const bd="popstate";function Ff(i){i===void 0&&(i={});function l(u,d){let{pathname:h,search:f,hash:g}=u.location;return no("",{pathname:h,search:f,hash:g},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function a(u,d){return typeof d=="string"?d:Qa(d)}return Lf(l,a,null,i)}function Be(i,l){if(i===!1||i===null||typeof i>"u")throw new Error(l)}function Wd(i,l){if(!i){typeof console<"u"&&console.warn(l);try{throw new Error(l)}catch{}}}function Of(){return Math.random().toString(36).substr(2,8)}function Nd(i,l){return{usr:i.state,key:i.key,idx:l}}function no(i,l,a,u){return a===void 0&&(a=null),Pn({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof l=="string"?Os(l):l,{state:a,key:l&&l.key||u||Of()})}function Qa(i){let{pathname:l="/",search:a="",hash:u=""}=i;return a&&a!=="?"&&(l+=a.charAt(0)==="?"?a:"?"+a),u&&u!=="#"&&(l+=u.charAt(0)==="#"?u:"#"+u),l}function Os(i){let l={};if(i){let a=i.indexOf("#");a>=0&&(l.hash=i.substr(a),i=i.substr(0,a));let u=i.indexOf("?");u>=0&&(l.search=i.substr(u),i=i.substr(0,u)),i&&(l.pathname=i)}return l}function Lf(i,l,a,u){u===void 0&&(u={});let{window:d=document.defaultView,v5Compat:h=!1}=u,f=d.history,g=Rr.Pop,v=null,E=y();E==null&&(E=0,f.replaceState(Pn({},f.state,{idx:E}),""));function y(){return(f.state||{idx:null}).idx}function j(){g=Rr.Pop;let L=y(),T=L==null?null:L-E;E=L,v&&v({action:g,location:U.location,delta:T})}function _(L,T){g=Rr.Push;let J=no(U.location,L,T);E=y()+1;let q=Nd(J,E),K=U.createHref(J);try{f.pushState(q,"",K)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;d.location.assign(K)}h&&v&&v({action:g,location:U.location,delta:1})}function B(L,T){g=Rr.Replace;let J=no(U.location,L,T);E=y();let q=Nd(J,E),K=U.createHref(J);f.replaceState(q,"",K),h&&v&&v({action:g,location:U.location,delta:0})}function O(L){let T=d.location.origin!=="null"?d.location.origin:d.location.href,J=typeof L=="string"?L:Qa(L);return J=J.replace(/ $/,"%20"),Be(T,"No window.location.(origin|href) available to create URL for href: "+J),new URL(J,T)}let U={get action(){return g},get location(){return i(d,f)},listen(L){if(v)throw new Error("A history only accepts one active listener");return d.addEventListener(bd,j),v=L,()=>{d.removeEventListener(bd,j),v=null}},createHref(L){return l(d,L)},createURL:O,encodeLocation(L){let T=O(L);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:_,replace:B,go(L){return f.go(L)}};return U}var kd;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(kd||(kd={}));function If(i,l,a){return a===void 0&&(a="/"),$f(i,l,a)}function $f(i,l,a,u){let d=typeof l=="string"?Os(l):l,h=xo(d.pathname||"/",a);if(h==null)return null;let f=Jd(i);zf(f);let g=null;for(let v=0;g==null&&v<f.length;++v){let E=Zf(h);g=Qf(f[v],E)}return g}function Jd(i,l,a,u){l===void 0&&(l=[]),a===void 0&&(a=[]),u===void 0&&(u="");let d=(h,f,g)=>{let v={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:f,route:h};v.relativePath.startsWith("/")&&(Be(v.relativePath.startsWith(u),'Absolute route path "'+v.relativePath+'" nested under path '+('"'+u+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),v.relativePath=v.relativePath.slice(u.length));let E=Fr([u,v.relativePath]),y=a.concat(v);h.children&&h.children.length>0&&(Be(h.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+E+'".')),Jd(h.children,l,y,E)),!(h.path==null&&!h.index)&&l.push({path:E,score:Jf(E,h.index),routesMeta:y})};return i.forEach((h,f)=>{var g;if(h.path===""||!((g=h.path)!=null&&g.includes("?")))d(h,f);else for(let v of Gd(h.path))d(h,f,v)}),l}function Gd(i){let l=i.split("/");if(l.length===0)return[];let[a,...u]=l,d=a.endsWith("?"),h=a.replace(/\?$/,"");if(u.length===0)return d?[h,""]:[h];let f=Gd(u.join("/")),g=[];return g.push(...f.map(v=>v===""?h:[h,v].join("/"))),d&&g.push(...f),g.map(v=>i.startsWith("/")&&v===""?"/":v)}function zf(i){i.sort((l,a)=>l.score!==a.score?a.score-l.score:Gf(l.routesMeta.map(u=>u.childrenIndex),a.routesMeta.map(u=>u.childrenIndex)))}const Uf=/^:[\w-]+$/,Vf=3,Bf=2,Hf=1,qf=10,Wf=-2,Sd=i=>i==="*";function Jf(i,l){let a=i.split("/"),u=a.length;return a.some(Sd)&&(u+=Wf),l&&(u+=Bf),a.filter(d=>!Sd(d)).reduce((d,h)=>d+(Uf.test(h)?Vf:h===""?Hf:qf),u)}function Gf(i,l){return i.length===l.length&&i.slice(0,-1).every((u,d)=>u===l[d])?i[i.length-1]-l[l.length-1]:0}function Qf(i,l,a){let{routesMeta:u}=i,d={},h="/",f=[];for(let g=0;g<u.length;++g){let v=u[g],E=g===u.length-1,y=h==="/"?l:l.slice(h.length)||"/",j=Yf({path:v.relativePath,caseSensitive:v.caseSensitive,end:E},y),_=v.route;if(!j)return null;Object.assign(d,j.params),f.push({params:d,pathname:Fr([h,j.pathname]),pathnameBase:rp(Fr([h,j.pathnameBase])),route:_}),j.pathnameBase!=="/"&&(h=Fr([h,j.pathnameBase]))}return f}function Yf(i,l){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[a,u]=Kf(i.path,i.caseSensitive,i.end),d=l.match(a);if(!d)return null;let h=d[0],f=h.replace(/(.)\/+$/,"$1"),g=d.slice(1);return{params:u.reduce((E,y,j)=>{let{paramName:_,isOptional:B}=y;if(_==="*"){let U=g[j]||"";f=h.slice(0,h.length-U.length).replace(/(.)\/+$/,"$1")}const O=g[j];return B&&!O?E[_]=void 0:E[_]=(O||"").replace(/%2F/g,"/"),E},{}),pathname:h,pathnameBase:f,pattern:i}}function Kf(i,l,a){l===void 0&&(l=!1),a===void 0&&(a=!0),Wd(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let u=[],d="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,g,v)=>(u.push({paramName:g,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(u.push({paramName:"*"}),d+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?d+="\\/*$":i!==""&&i!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,l?void 0:"i"),u]}function Zf(i){try{return i.split("/").map(l=>decodeURIComponent(l).replace(/\//g,"%2F")).join("/")}catch(l){return Wd(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+l+").")),i}}function xo(i,l){if(l==="/")return i;if(!i.toLowerCase().startsWith(l.toLowerCase()))return null;let a=l.endsWith("/")?l.length-1:l.length,u=i.charAt(a);return u&&u!=="/"?null:i.slice(a)||"/"}function Xf(i,l){l===void 0&&(l="/");let{pathname:a,search:u="",hash:d=""}=typeof i=="string"?Os(i):i;return{pathname:a?a.startsWith("/")?a:ep(a,l):l,search:sp(u),hash:np(d)}}function ep(i,l){let a=l.replace(/\/+$/,"").split("/");return i.split("/").forEach(d=>{d===".."?a.length>1&&a.pop():d!=="."&&a.push(d)}),a.length>1?a.join("/"):"/"}function Zi(i,l,a,u){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+l+"` field ["+JSON.stringify(u)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function tp(i){return i.filter((l,a)=>a===0||l.route.path&&l.route.path.length>0)}function go(i,l){let a=tp(i);return l?a.map((u,d)=>d===a.length-1?u.pathname:u.pathnameBase):a.map(u=>u.pathnameBase)}function yo(i,l,a,u){u===void 0&&(u=!1);let d;typeof i=="string"?d=Os(i):(d=Pn({},i),Be(!d.pathname||!d.pathname.includes("?"),Zi("?","pathname","search",d)),Be(!d.pathname||!d.pathname.includes("#"),Zi("#","pathname","hash",d)),Be(!d.search||!d.search.includes("#"),Zi("#","search","hash",d)));let h=i===""||d.pathname==="",f=h?"/":d.pathname,g;if(f==null)g=a;else{let j=l.length-1;if(!u&&f.startsWith("..")){let _=f.split("/");for(;_[0]==="..";)_.shift(),j-=1;d.pathname=_.join("/")}g=j>=0?l[j]:"/"}let v=Xf(d,g),E=f&&f!=="/"&&f.endsWith("/"),y=(h||f===".")&&a.endsWith("/");return!v.pathname.endsWith("/")&&(E||y)&&(v.pathname+="/"),v}const Fr=i=>i.join("/").replace(/\/\/+/g,"/"),rp=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),sp=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,np=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function ap(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const Qd=["post","put","patch","delete"];new Set(Qd);const lp=["get",...Qd];new Set(lp);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _n(){return _n=Object.assign?Object.assign.bind():function(i){for(var l=1;l<arguments.length;l++){var a=arguments[l];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(i[u]=a[u])}return i},_n.apply(this,arguments)}const vo=k.createContext(null),ip=k.createContext(null),Lr=k.createContext(null),rl=k.createContext(null),dr=k.createContext({outlet:null,matches:[],isDataRoute:!1}),Yd=k.createContext(null);function op(i,l){let{relative:a}=l===void 0?{}:l;Ls()||Be(!1);let{basename:u,navigator:d}=k.useContext(Lr),{hash:h,pathname:f,search:g}=Zd(i,{relative:a}),v=f;return u!=="/"&&(v=f==="/"?u:Fr([u,f])),d.createHref({pathname:v,search:g,hash:h})}function Ls(){return k.useContext(rl)!=null}function Zt(){return Ls()||Be(!1),k.useContext(rl).location}function Kd(i){k.useContext(Lr).static||k.useLayoutEffect(i)}function mr(){let{isDataRoute:i}=k.useContext(dr);return i?Np():cp()}function cp(){Ls()||Be(!1);let i=k.useContext(vo),{basename:l,future:a,navigator:u}=k.useContext(Lr),{matches:d}=k.useContext(dr),{pathname:h}=Zt(),f=JSON.stringify(go(d,a.v7_relativeSplatPath)),g=k.useRef(!1);return Kd(()=>{g.current=!0}),k.useCallback(function(E,y){if(y===void 0&&(y={}),!g.current)return;if(typeof E=="number"){u.go(E);return}let j=yo(E,JSON.parse(f),h,y.relative==="path");i==null&&l!=="/"&&(j.pathname=j.pathname==="/"?l:Fr([l,j.pathname])),(y.replace?u.replace:u.push)(j,y.state,y)},[l,u,f,h,i])}const up=k.createContext(null);function dp(i){let l=k.useContext(dr).outlet;return l&&k.createElement(up.Provider,{value:i},l)}function Zd(i,l){let{relative:a}=l===void 0?{}:l,{future:u}=k.useContext(Lr),{matches:d}=k.useContext(dr),{pathname:h}=Zt(),f=JSON.stringify(go(d,u.v7_relativeSplatPath));return k.useMemo(()=>yo(i,JSON.parse(f),h,a==="path"),[i,f,h,a])}function mp(i,l){return hp(i,l)}function hp(i,l,a,u){Ls()||Be(!1);let{navigator:d}=k.useContext(Lr),{matches:h}=k.useContext(dr),f=h[h.length-1],g=f?f.params:{};f&&f.pathname;let v=f?f.pathnameBase:"/";f&&f.route;let E=Zt(),y;if(l){var j;let L=typeof l=="string"?Os(l):l;v==="/"||(j=L.pathname)!=null&&j.startsWith(v)||Be(!1),y=L}else y=E;let _=y.pathname||"/",B=_;if(v!=="/"){let L=v.replace(/^\//,"").split("/");B="/"+_.replace(/^\//,"").split("/").slice(L.length).join("/")}let O=If(i,{pathname:B}),U=yp(O&&O.map(L=>Object.assign({},L,{params:Object.assign({},g,L.params),pathname:Fr([v,d.encodeLocation?d.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?v:Fr([v,d.encodeLocation?d.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),h,a,u);return l&&U?k.createElement(rl.Provider,{value:{location:_n({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Rr.Pop}},U):U}function fp(){let i=bp(),l=ap(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),a=i instanceof Error?i.stack:null,d={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},l),a?k.createElement("pre",{style:d},a):null,null)}const pp=k.createElement(fp,null);class xp extends k.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,a){return a.location!==l.location||a.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error!==void 0?l.error:a.error,location:a.location,revalidation:l.revalidation||a.revalidation}}componentDidCatch(l,a){console.error("React Router caught the following error during render",l,a)}render(){return this.state.error!==void 0?k.createElement(dr.Provider,{value:this.props.routeContext},k.createElement(Yd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gp(i){let{routeContext:l,match:a,children:u}=i,d=k.useContext(vo);return d&&d.static&&d.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(d.staticContext._deepestRenderedBoundaryId=a.route.id),k.createElement(dr.Provider,{value:l},u)}function yp(i,l,a,u){var d;if(l===void 0&&(l=[]),a===void 0&&(a=null),u===void 0&&(u=null),i==null){var h;if(!a)return null;if(a.errors)i=a.matches;else if((h=u)!=null&&h.v7_partialHydration&&l.length===0&&!a.initialized&&a.matches.length>0)i=a.matches;else return null}let f=i,g=(d=a)==null?void 0:d.errors;if(g!=null){let y=f.findIndex(j=>j.route.id&&g?.[j.route.id]!==void 0);y>=0||Be(!1),f=f.slice(0,Math.min(f.length,y+1))}let v=!1,E=-1;if(a&&u&&u.v7_partialHydration)for(let y=0;y<f.length;y++){let j=f[y];if((j.route.HydrateFallback||j.route.hydrateFallbackElement)&&(E=y),j.route.id){let{loaderData:_,errors:B}=a,O=j.route.loader&&_[j.route.id]===void 0&&(!B||B[j.route.id]===void 0);if(j.route.lazy||O){v=!0,E>=0?f=f.slice(0,E+1):f=[f[0]];break}}}return f.reduceRight((y,j,_)=>{let B,O=!1,U=null,L=null;a&&(B=g&&j.route.id?g[j.route.id]:void 0,U=j.route.errorElement||pp,v&&(E<0&&_===0?(kp("route-fallback"),O=!0,L=null):E===_&&(O=!0,L=j.route.hydrateFallbackElement||null)));let T=l.concat(f.slice(0,_+1)),J=()=>{let q;return B?q=U:O?q=L:j.route.Component?q=k.createElement(j.route.Component,null):j.route.element?q=j.route.element:q=y,k.createElement(gp,{match:j,routeContext:{outlet:y,matches:T,isDataRoute:a!=null},children:q})};return a&&(j.route.ErrorBoundary||j.route.errorElement||_===0)?k.createElement(xp,{location:a.location,revalidation:a.revalidation,component:U,error:B,children:J(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):J()},null)}var Xd=(function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i})(Xd||{}),em=(function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i})(em||{});function vp(i){let l=k.useContext(vo);return l||Be(!1),l}function wp(i){let l=k.useContext(ip);return l||Be(!1),l}function jp(i){let l=k.useContext(dr);return l||Be(!1),l}function tm(i){let l=jp(),a=l.matches[l.matches.length-1];return a.route.id||Be(!1),a.route.id}function bp(){var i;let l=k.useContext(Yd),a=wp(),u=tm();return l!==void 0?l:(i=a.errors)==null?void 0:i[u]}function Np(){let{router:i}=vp(Xd.UseNavigateStable),l=tm(em.UseNavigateStable),a=k.useRef(!1);return Kd(()=>{a.current=!0}),k.useCallback(function(d,h){h===void 0&&(h={}),a.current&&(typeof d=="number"?i.navigate(d):i.navigate(d,_n({fromRouteId:l},h)))},[i,l])}const Cd={};function kp(i,l,a){Cd[i]||(Cd[i]=!0)}function Sp(i,l){i?.v7_startTransition,i?.v7_relativeSplatPath}function Cp(i){let{to:l,replace:a,state:u,relative:d}=i;Ls()||Be(!1);let{future:h,static:f}=k.useContext(Lr),{matches:g}=k.useContext(dr),{pathname:v}=Zt(),E=mr(),y=yo(l,go(g,h.v7_relativeSplatPath),v,d==="path"),j=JSON.stringify(y);return k.useEffect(()=>E(JSON.parse(j),{replace:a,state:u,relative:d}),[E,j,d,a,u]),null}function Ep(i){return dp(i.context)}function nt(i){Be(!1)}function Pp(i){let{basename:l="/",children:a=null,location:u,navigationType:d=Rr.Pop,navigator:h,static:f=!1,future:g}=i;Ls()&&Be(!1);let v=l.replace(/^\/*/,"/"),E=k.useMemo(()=>({basename:v,navigator:h,static:f,future:_n({v7_relativeSplatPath:!1},g)}),[v,g,h,f]);typeof u=="string"&&(u=Os(u));let{pathname:y="/",search:j="",hash:_="",state:B=null,key:O="default"}=u,U=k.useMemo(()=>{let L=xo(y,v);return L==null?null:{location:{pathname:L,search:j,hash:_,state:B,key:O},navigationType:d}},[v,y,j,_,B,O,d]);return U==null?null:k.createElement(Lr.Provider,{value:E},k.createElement(rl.Provider,{children:a,value:U}))}function _p(i){let{children:l,location:a}=i;return mp(ao(l),a)}new Promise(()=>{});function ao(i,l){l===void 0&&(l=[]);let a=[];return k.Children.forEach(i,(u,d)=>{if(!k.isValidElement(u))return;let h=[...l,d];if(u.type===k.Fragment){a.push.apply(a,ao(u.props.children,h));return}u.type!==nt&&Be(!1),!u.props.index||!u.props.children||Be(!1);let f={id:u.props.id||h.join("-"),caseSensitive:u.props.caseSensitive,element:u.props.element,Component:u.props.Component,index:u.props.index,path:u.props.path,loader:u.props.loader,action:u.props.action,errorElement:u.props.errorElement,ErrorBoundary:u.props.ErrorBoundary,hasErrorBoundary:u.props.ErrorBoundary!=null||u.props.errorElement!=null,shouldRevalidate:u.props.shouldRevalidate,handle:u.props.handle,lazy:u.props.lazy};u.props.children&&(f.children=ao(u.props.children,h)),a.push(f)}),a}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lo(){return lo=Object.assign?Object.assign.bind():function(i){for(var l=1;l<arguments.length;l++){var a=arguments[l];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(i[u]=a[u])}return i},lo.apply(this,arguments)}function Tp(i,l){if(i==null)return{};var a={},u=Object.keys(i),d,h;for(h=0;h<u.length;h++)d=u[h],!(l.indexOf(d)>=0)&&(a[d]=i[d]);return a}function Dp(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Ap(i,l){return i.button===0&&(!l||l==="_self")&&!Dp(i)}const Mp=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Rp="6";try{window.__reactRouterVersion=Rp}catch{}const Fp="startTransition",Ed=Pf[Fp];function Op(i){let{basename:l,children:a,future:u,window:d}=i,h=k.useRef();h.current==null&&(h.current=Ff({window:d,v5Compat:!0}));let f=h.current,[g,v]=k.useState({action:f.action,location:f.location}),{v7_startTransition:E}=u||{},y=k.useCallback(j=>{E&&Ed?Ed(()=>v(j)):v(j)},[v,E]);return k.useLayoutEffect(()=>f.listen(y),[f,y]),k.useEffect(()=>Sp(u),[u]),k.createElement(Pp,{basename:l,children:a,location:g.location,navigationType:g.action,navigator:f,future:u})}const Lp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ip=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Me=k.forwardRef(function(l,a){let{onClick:u,relative:d,reloadDocument:h,replace:f,state:g,target:v,to:E,preventScrollReset:y,viewTransition:j}=l,_=Tp(l,Mp),{basename:B}=k.useContext(Lr),O,U=!1;if(typeof E=="string"&&Ip.test(E)&&(O=E,Lp))try{let q=new URL(window.location.href),K=E.startsWith("//")?new URL(q.protocol+E):new URL(E),te=xo(K.pathname,B);K.origin===q.origin&&te!=null?E=te+K.search+K.hash:U=!0}catch{}let L=op(E,{relative:d}),T=$p(E,{replace:f,state:g,target:v,preventScrollReset:y,relative:d,viewTransition:j});function J(q){u&&u(q),q.defaultPrevented||T(q)}return k.createElement("a",lo({},_,{href:O||L,onClick:U||h?u:J,ref:a,target:v}))});var Pd;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(Pd||(Pd={}));var _d;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(_d||(_d={}));function $p(i,l){let{target:a,replace:u,state:d,preventScrollReset:h,relative:f,viewTransition:g}=l===void 0?{}:l,v=mr(),E=Zt(),y=Zd(i,{relative:f});return k.useCallback(j=>{if(Ap(j,a)){j.preventDefault();let _=u!==void 0?u:Qa(E)===Qa(y);v(i,{replace:_,state:d,preventScrollReset:h,relative:f,viewTransition:g})}},[E,v,y,u,d,a,i,h,f,g])}const rm=k.createContext(),zp={user:{id:1,name:"John Doe",role:"owner",email:"john@workshop.com"},cars:[],repairHistory:[],jobSheets:[],mechanics:[],inventory:[],payments:[]},Up=(i,l)=>{switch(l.type){case"SET_CARS":return{...i,cars:l.payload};case"ADD_CAR":return{...i,cars:[...i.cars,{...l.payload}]};case"UPDATE_CAR":return{...i,cars:i.cars.map(a=>a.id===l.payload.id?{...a,...l.payload}:a)};case"DELETE_CAR":return{...i,cars:i.cars.filter(a=>a.id!==l.payload)};case"ADD_REPAIR_HISTORY":return{...i,repairHistory:[...i.repairHistory,{...l.payload,id:Date.now()}]};case"UPDATE_REPAIR_HISTORY":return{...i,repairHistory:i.repairHistory.map(a=>a.id===l.payload.id?{...a,...l.payload}:a)};case"DELETE_REPAIR_HISTORY":return{...i,repairHistory:i.repairHistory.filter(a=>a.id!==l.payload)};case"ADD_JOB_SHEET":return{...i,jobSheets:[...i.jobSheets,{...l.payload}].sort((a,u)=>new Date(u.createdAt)-new Date(a.createdAt))};case"SET_JOB_SHEETS":return{...i,jobSheets:[...l.payload].sort((a,u)=>new Date(u.createdAt)-new Date(a.createdAt))};case"UPDATE_JOB_SHEET":return{...i,jobSheets:i.jobSheets.map(a=>a.id===l.payload.id?{...a,...l.payload}:a)};case"DELETE_JOB_SHEET":return{...i,jobSheets:i.jobSheets.filter(a=>a.id!==l.payload)};case"SET_MECHANICS":return{...i,mechanics:l.payload};case"ADD_MECHANIC":return{...i,mechanics:[...i.mechanics,{...l.payload}]};case"UPDATE_MECHANIC":return{...i,mechanics:i.mechanics.map(a=>a.id===l.payload.id?{...a,...l.payload}:a)};case"DELETE_MECHANIC":return{...i,mechanics:i.mechanics.filter(a=>a.id!==l.payload)};case"SET_INVENTORY":return{...i,inventory:l.payload};case"ADD_INVENTORY_ITEM":return{...i,inventory:[...i.inventory,{...l.payload}]};case"UPDATE_INVENTORY_ITEM":return{...i,inventory:i.inventory.map(a=>a.id===l.payload.id?{...a,...l.payload}:a)};case"DELETE_INVENTORY_ITEM":return{...i,inventory:i.inventory.filter(a=>a.id!==l.payload)};case"ADD_PAYMENT":return{...i,payments:[...i.payments,{...l.payload}]};case"SET_PAYMENTS":return{...i,payments:l.payload};case"UPDATE_PAYMENT":return{...i,payments:i.payments.map(a=>a.id===l.payload.id?{...a,...l.payload}:a)};case"DELETE_PAYMENT":return{...i,payments:i.payments.filter(a=>a.id!==l.payload)};default:return i}},Vp=({children:i})=>{const[l,a]=k.useReducer(Up,zp);return r.jsx(rm.Provider,{value:{state:l,dispatch:a},children:i})},ss=()=>{const i=k.useContext(rm);if(!i)throw new Error("useApp must be used within an AppProvider");return i},wo="http://localhost:5000/api";function Bp(){try{const i=localStorage.getItem("user");return localStorage.getItem("token")||(i?JSON.parse(i)?.token:null)}catch{return null}}let io=null;function sm(i){io=i}async function ge(i,{method:l="GET",body:a,headers:u={}}={}){const d=Bp(),h=await fetch(`${wo}${i}`,{method:l,headers:{"Content-Type":"application/json",...d?{Authorization:`Bearer ${d}`}:{},...u},body:a?JSON.stringify(a):void 0,credentials:"omit"}),g=(h.headers.get("content-type")||"").includes("application/json")?await h.json():null;if(!h.ok){const v=g?.message||`Request failed with status ${h.status}`,E=new Error(v);E.status=h.status,E.data=g;try{io&&io(E)}catch{}throw E}return g}const nm=Object.freeze(Object.defineProperty({__proto__:null,API_BASE:wo,apiRequest:ge,setApiErrorHandler:sm},Symbol.toStringTag,{value:"Module"})),am=k.createContext(),Hp={user:null,isAuthenticated:!1,loading:!0,error:null},qp=(i,l)=>{switch(l.type){case"LOGIN_START":return{...i,loading:!0,error:null};case"LOGIN_SUCCESS":return{...i,user:l.payload,isAuthenticated:!0,loading:!1,error:null};case"LOGIN_FAILURE":return{...i,user:null,isAuthenticated:!1,loading:!1,error:l.payload};case"LOGOUT":return{...i,user:null,isAuthenticated:!1,loading:!1,error:null};case"CLEAR_ERROR":return{...i,error:null};case"SEND_CODE_START":return{...i,loading:!0,error:null};case"SEND_CODE_SUCCESS":return{...i,loading:!1,error:null};case"SEND_CODE_FAILURE":return{...i,loading:!1,error:l.payload};case"RESET_PASSWORD_START":return{...i,loading:!0,error:null};case"RESET_PASSWORD_SUCCESS":return{...i,loading:!1,error:null};case"RESET_PASSWORD_FAILURE":return{...i,loading:!1,error:l.payload};default:return i}},Wp=({children:i})=>{const[l,a]=k.useReducer(qp,Hp);k.useEffect(()=>{const y=localStorage.getItem("user");a(y?{type:"LOGIN_SUCCESS",payload:JSON.parse(y)}:{type:"LOGOUT"})},[]);const E={...l,login:async(y,j)=>{a({type:"LOGIN_START"});try{const _=await ge("/auth/login",{method:"POST",body:{email:y,password:j}}),{user:B,token:O}=_;return localStorage.setItem("user",JSON.stringify({...B})),localStorage.setItem("token",O),a({type:"LOGIN_SUCCESS",payload:B}),{success:!0}}catch(_){return a({type:"LOGIN_FAILURE",payload:_.message||"Login failed. Please try again."}),{success:!1,error:_.message||"Login failed. Please try again."}}},register:async y=>{a({type:"LOGIN_START"});try{const j=await ge("/auth/register",{method:"POST",body:y}),{user:_,token:B}=j;return localStorage.setItem("user",JSON.stringify({..._})),localStorage.setItem("token",B),a({type:"LOGIN_SUCCESS",payload:_}),{success:!0}}catch(j){return a({type:"LOGIN_FAILURE",payload:j.message||"Registration failed. Please try again."}),{success:!1,error:j.message||"Registration failed. Please try again."}}},logout:()=>{localStorage.removeItem("user"),localStorage.removeItem("token"),a({type:"LOGOUT"})},clearError:()=>{a({type:"CLEAR_ERROR"})},sendResetCode:async y=>{a({type:"SEND_CODE_START"});try{return await ge("/auth/forgot-password",{method:"POST",body:{email:y}}),a({type:"SEND_CODE_SUCCESS"}),{success:!0}}catch(j){return a({type:"SEND_CODE_FAILURE",payload:j.message||"Failed to send verification code. Please try again."}),{success:!1,error:j.message||"Failed to send verification code. Please try again."}}},resetPassword:async(y,j,_)=>{a({type:"RESET_PASSWORD_START"});try{return await ge("/auth/reset-password",{method:"POST",body:{email:y,code:j,newPassword:_}}),a({type:"RESET_PASSWORD_SUCCESS"}),{success:!0}}catch(B){return a({type:"RESET_PASSWORD_FAILURE",payload:B.message||"Failed to reset password. Please try again."}),{success:!1,error:B.message||"Failed to reset password. Please try again."}}}};return r.jsx(am.Provider,{value:E,children:i})},zt=()=>{const i=k.useContext(am);if(!i)throw new Error("useAuth must be used within an AuthProvider");return i};var Jp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Gp=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Qp=(i,l)=>{const a=k.forwardRef(({color:u="currentColor",size:d=24,strokeWidth:h=2,absoluteStrokeWidth:f,children:g,...v},E)=>k.createElement("svg",{ref:E,...Jp,width:d,height:d,stroke:u,strokeWidth:f?Number(h)*24/Number(d):h,className:`lucide lucide-${Gp(i)}`,...v},[...l.map(([y,j])=>k.createElement(y,j)),...(Array.isArray(g)?g:[g])||[]]));return a.displayName=`${i}`,a};var Ne=Qp;const Mn=Ne("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Tn=Ne("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Yp=Ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Ya=Ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Wa=Ne("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),es=Ne("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),As=Ne("Car",[["path",{d:"M14 16H9m10 0h3v-3.15a1 1 0 0 0-.84-.99L16 11l-2.7-3.6a1 1 0 0 0-.8-.4H5.24a2 2 0 0 0-1.8 1.1l-.8 1.63A6 6 0 0 0 2 12.42V16h2",key:"l5np60"}],["circle",{cx:"6.5",cy:"16.5",r:"2.5",key:"ae40ju"}],["circle",{cx:"16.5",cy:"16.5",r:"2.5",key:"1smtlt"}]]),ut=Ne("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Kp=Ne("CheckSquare",[["polyline",{points:"9 11 12 14 22 4",key:"19ybtz"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),Td=Ne("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),Jt=Ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),lm=Ne("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]),En=Ne("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),cr=Ne("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Ka=Ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Dn=Ne("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),ts=Ne("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),jo=Ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Zp=Ne("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),Za=Ne("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),Xp=Ne("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),e0=Ne("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),im=Ne("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]),om=Ne("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),oo=Ne("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),co=Ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),sl=Ne("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),cm=Ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Mr=Ne("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),An=Ne("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),ur=Ne("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),um=Ne("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),rs=Ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Dd=Ne("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Ms=Ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),bo=Ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),dm=Ne("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),t0=Ne("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),No=Ne("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Kt=Ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Xa=Ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Xi=Ne("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Rs=Ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Fs=Ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),r0=Ne("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),ct=Ne("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),Tt=Ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),s0=()=>{const[i,l]=k.useState(!1),[a,u]=k.useState(!1),{user:d,logout:h}=zt(),f=Zt(),g=mr(),E=[{name:"Dashboard",href:"/dashboard",icon:Xp,roles:["owner","receptionist"]},{name:"Car Profiles",href:"/dashboard/cars",icon:As,roles:["owner","receptionist"]},{name:"Job Sheets",href:"/dashboard/jobs",icon:ct,roles:["owner","receptionist"]},{name:"Inventory",href:"/dashboard/inventory",icon:An,roles:["owner"]},{name:"Mechanics",href:"/dashboard/mechanics",icon:Fs,roles:["owner"]},{name:"Reports",href:"/dashboard/reports",icon:Wa,roles:["owner","receptionist"]}].filter(_=>_.roles.includes(d?.role)),y=()=>{h(),g("/")},j=_=>_==="/dashboard"?f.pathname==="/dashboard":f.pathname.startsWith(_);return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsxs("div",{className:`fixed inset-0 z-50 lg:hidden ${i?"block":"hidden"}`,children:[r.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>l(!1)}),r.jsxs("div",{className:"relative flex w-64 flex-col bg-white",children:[r.jsxs("div",{className:"flex h-16 items-center justify-between px-4",children:[r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"MMS"}),r.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(Tt,{className:"h-6 w-6"})})]}),r.jsx("nav",{className:"flex-1 space-y-1 px-2 py-4",children:E.map(_=>{const B=_.icon;return r.jsxs(Me,{to:_.href,className:`group flex items-center px-2 py-2 text-sm font-medium rounded-md ${j(_.href)?"bg-blue-100 text-blue-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,onClick:()=>l(!1),children:[r.jsx(B,{className:"mr-3 h-5 w-5"}),_.name]},_.name)})})]})]}),r.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:r.jsxs("div",{className:"flex flex-col flex-grow bg-white border-r border-gray-200",children:[r.jsx("div",{className:"flex h-16 items-center px-4",children:r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"PUEFix Garage"})}),r.jsx("nav",{className:"flex-1 space-y-1 px-2 py-4",children:E.map(_=>{const B=_.icon;return r.jsxs(Me,{to:_.href,className:`group flex items-center px-2 py-2 text-sm font-medium rounded-md ${j(_.href)?"bg-blue-100 text-blue-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[r.jsx(B,{className:"mr-3 h-5 w-5"}),_.name]},_.name)})}),r.jsx("div",{className:"flex-shrink-0 border-t border-gray-200 p-4",children:r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>u(!a),className:"flex items-center w-full text-left focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-lg p-2 hover:bg-gray-50",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-full flex items-center justify-center text-white text-sm font-semibold",children:d?.avatar||r.jsx(Rs,{className:"h-5 w-5"})})}),r.jsxs("div",{className:"ml-3 flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700",children:d?.name}),r.jsx("p",{className:"text-xs text-gray-500 capitalize",children:d?.role})]})]}),a&&r.jsxs("div",{className:"absolute bottom-full left-0 right-0 mb-2 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-10",children:[r.jsxs("button",{onClick:()=>{u(!1)},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:[r.jsx(bo,{className:"h-4 w-4 mr-3"}),"Settings"]}),r.jsxs("button",{onClick:()=>{u(!1),y()},className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[r.jsx(co,{className:"h-4 w-4 mr-3"}),"Sign Out"]})]})]})})]})}),r.jsxs("div",{className:"lg:pl-64",children:[r.jsxs("div",{className:"sticky top-0 z-10 flex h-16 bg-white shadow-sm lg:hidden",children:[r.jsx("button",{onClick:()=>l(!0),className:"px-4 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500 lg:hidden",children:r.jsx(cm,{className:"h-6 w-6"})}),r.jsx("div",{className:"flex flex-1 justify-center px-4",children:r.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"MMS"})})]}),r.jsx("main",{className:"flex-1",children:r.jsx("div",{className:"py-6",children:r.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:r.jsx(Ep,{})})})})]})]})},Ba=({children:i,allowedRoles:l=[]})=>{const{isAuthenticated:a,user:u,loading:d}=zt(),h=Zt();return d?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(om,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):a?l.length>0&&!l.includes(u.role)?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have permission to access this page."}),r.jsx("button",{onClick:()=>window.history.back(),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Go Back"})]})}):i:r.jsx(Cp,{to:"/login",state:{from:h},replace:!0})},mm=k.createContext(),hm=({children:i})=>{const[l,a]=k.useState([]),u=k.useCallback(f=>{a(g=>g.filter(v=>v.id!==f))},[]),d=k.useCallback((f,g="error",v=4e3)=>{const E=Date.now()+Math.random();a(y=>[...y,{id:E,message:f,variant:g}]),v&&setTimeout(()=>u(E),v)},[u]),h=k.useMemo(()=>({show:d}),[d]);return r.jsxs(mm.Provider,{value:h,children:[i,r.jsx("div",{className:"fixed bottom-4 right-4 space-y-2 z-50",children:l.map(f=>r.jsx("div",{className:`px-4 py-2 rounded shadow text-white ${f.variant==="error"?"bg-red-600":"bg-blue-600"}`,children:f.message},f.id))})]})},nl=()=>{const i=k.useContext(mm);if(!i)throw new Error("useToast must be used within ToastProvider");return i},n0=()=>{const i=k.useRef(null);return k.useEffect(()=>{const l=i.current,a=l.getContext("2d");let u;const d=()=>{l.width=window.innerWidth,l.height=window.innerHeight},h=[],f=50;class g{constructor(){this.x=Math.random()*l.width,this.y=Math.random()*l.height,this.vx=(Math.random()-.5)*.5,this.vy=(Math.random()-.5)*.5,this.radius=Math.random()*2+1,this.opacity=Math.random()*.5+.2}update(){this.x+=this.vx,this.y+=this.vy,(this.x<0||this.x>l.width)&&(this.vx*=-1),(this.y<0||this.y>l.height)&&(this.vy*=-1)}draw(){a.beginPath(),a.arc(this.x,this.y,this.radius,0,Math.PI*2),a.fillStyle=`rgba(59, 130, 246, ${this.opacity})`,a.fill()}}const v=()=>{for(let y=0;y<f;y++)h.push(new g)},E=()=>{a.clearRect(0,0,l.width,l.height),h.forEach(y=>{y.update(),y.draw()});for(let y=0;y<h.length;y++)for(let j=y+1;j<h.length;j++){const _=h[y].x-h[j].x,B=h[y].y-h[j].y,O=Math.sqrt(_*_+B*B);O<100&&(a.beginPath(),a.moveTo(h[y].x,h[y].y),a.lineTo(h[j].x,h[j].y),a.strokeStyle=`rgba(59, 130, 246, ${.1*(1-O/100)})`,a.lineWidth=1,a.stroke())}u=requestAnimationFrame(E)};return d(),v(),E(),window.addEventListener("resize",d),()=>{window.removeEventListener("resize",d),cancelAnimationFrame(u)}},[]),r.jsx("canvas",{ref:i,className:"fixed inset-0 pointer-events-none z-0",style:{background:"transparent"}})},_s=[{name:"John Smith",role:"Car Owner",content:"Excellent service! My car was fixed quickly and professionally.",rating:5},{name:"Sarah Johnson",role:"Fleet Manager",content:"The best auto repair shop in town. Highly recommended!",rating:5},{name:"Mike Davis",role:"Business Owner",content:"Reliable, honest, and affordable. Perfect for our company vehicles.",rating:5}],a0=()=>{const[i,l]=k.useState(0),[a,u]=k.useState(!1);k.useEffect(()=>{u(!0);const f=setInterval(()=>{l(g=>(g+1)%_s.length)},5e3);return()=>clearInterval(f)},[]);const d=[{icon:r.jsx(ct,{className:"w-8 h-8"}),title:"Expert Mechanics",description:"Professional mechanics with years of experience"},{icon:r.jsx(Jt,{className:"w-8 h-8"}),title:"Quick Service",description:"Fast and efficient repair services"},{icon:r.jsx(dm,{className:"w-8 h-8"}),title:"Quality Guarantee",description:"100% satisfaction guarantee on all services"},{icon:r.jsx(Fs,{className:"w-8 h-8"}),title:"Customer Support",description:"24/7 customer support and assistance"}],h=[{number:"500+",label:"Cars Repaired"},{number:"50+",label:"Happy Customers"},{number:"5+",label:"Years Experience"},{number:"24/7",label:"Support Available"}];return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 relative",children:[r.jsx(n0,{}),r.jsx("nav",{className:"fixed top-0 w-full bg-white/80 backdrop-blur-md z-50 border-b border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center h-16",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg flex items-center justify-center",children:r.jsx(ct,{className:"w-6 h-6 text-white"})}),r.jsx("span",{className:"text-xl font-bold text-gray-900",children:"PUEFix Garage"})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(Me,{to:"/login",className:"text-gray-600 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Login"}),r.jsx(Me,{to:"/register",className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 transform hover:scale-105",children:"Get Started"})]})]})})}),r.jsx("section",{className:"pt-20 pb-16 px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsxs("div",{className:`text-center transition-all duration-1000 ${a?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[r.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-6",children:["Professional",r.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:" Auto Repair"}),r.jsx("br",{}),"Made Simple"]}),r.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto",children:"Experience top-quality automotive services with our expert mechanics. From routine maintenance to complex repairs, we've got you covered."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsxs(Me,{to:"/register",className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-8 py-4 rounded-lg text-lg font-semibold hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 transform hover:scale-105 flex items-center justify-center space-x-2",children:[r.jsx("span",{children:"Get Started"}),r.jsx(Ya,{className:"w-5 h-5"})]}),r.jsx(Me,{to:"/login",className:"border-2 border-gray-300 text-gray-700 px-8 py-4 rounded-lg text-lg font-semibold hover:border-gray-400 transition-all duration-200 transform hover:scale-105",children:"Sign In"})]})]})})}),r.jsx("section",{className:"py-16 bg-white",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Why Choose PUEFix Garage?"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"We provide comprehensive automotive services with a focus on quality, reliability, and customer satisfaction."})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:d.map((f,g)=>r.jsxs("div",{className:`text-center p-6 rounded-xl bg-gradient-to-br from-blue-50 to-indigo-50 hover:from-blue-100 hover:to-indigo-100 transition-all duration-300 transform hover:scale-105 hover:shadow-lg ${a?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,style:{transitionDelay:`${g*100}ms`},children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-full flex items-center justify-center text-white mx-auto mb-4",children:f.icon}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:f.title}),r.jsx("p",{className:"text-gray-600",children:f.description})]},g))})]})}),r.jsx("section",{className:"py-16 bg-gradient-to-r from-blue-600 to-indigo-600",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:h.map((f,g)=>r.jsxs("div",{className:"text-center text-white",children:[r.jsx("div",{className:"text-4xl md:text-5xl font-bold mb-2",children:f.number}),r.jsx("div",{className:"text-lg text-blue-100",children:f.label})]},g))})})}),r.jsx("section",{className:"py-16 bg-gray-50",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"What Our Customers Say"}),r.jsx("p",{className:"text-xl text-gray-600",children:"Don't just take our word for it - hear from our satisfied customers"})]}),r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("div",{className:"bg-white rounded-2xl p-8 shadow-lg",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"flex justify-center mb-4",children:[...Array(_s[i].rating)].map((f,g)=>r.jsx(No,{className:"w-5 h-5 text-yellow-400 fill-current"},g))}),r.jsxs("blockquote",{className:"text-xl text-gray-700 mb-6 italic",children:['"',_s[i].content,'"']}),r.jsx("div",{className:"text-lg font-semibold text-gray-900",children:_s[i].name}),r.jsx("div",{className:"text-gray-600",children:_s[i].role})]})}),r.jsx("div",{className:"flex justify-center mt-6 space-x-2",children:_s.map((f,g)=>r.jsx("button",{onClick:()=>l(g),className:`w-3 h-3 rounded-full transition-colors ${g===i?"bg-blue-600":"bg-gray-300"}`},g))})]})]})}),r.jsx("section",{className:"py-16 bg-gradient-to-r from-blue-600 to-indigo-600",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Ready to Get Started?"}),r.jsx("p",{className:"text-xl text-blue-100 mb-8 max-w-2xl mx-auto",children:"Join thousands of satisfied customers who trust PUEFix Garage for their automotive needs."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsxs(Me,{to:"/register",className:"bg-white text-blue-600 px-8 py-4 rounded-lg text-lg font-semibold hover:bg-gray-100 transition-all duration-200 transform hover:scale-105 flex items-center justify-center space-x-2",children:[r.jsx("span",{children:"Create Account"}),r.jsx(Ya,{className:"w-5 h-5"})]}),r.jsx(Me,{to:"/login",className:"border-2 border-white text-white px-8 py-4 rounded-lg text-lg font-semibold hover:bg-white hover:text-blue-600 transition-all duration-200 transform hover:scale-105",children:"Sign In"})]})]})}),r.jsx("footer",{className:"bg-gray-900 text-white py-12",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg flex items-center justify-center",children:r.jsx(ct,{className:"w-6 h-6 text-white"})}),r.jsx("span",{className:"text-xl font-bold",children:"PUEFix Garage"})]}),r.jsx("p",{className:"text-gray-400",children:"Professional automotive services you can trust."})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Services"}),r.jsxs("ul",{className:"space-y-2 text-gray-400",children:[r.jsx("li",{children:"Engine Repair"}),r.jsx("li",{children:"Brake Service"}),r.jsx("li",{children:"Oil Change"}),r.jsx("li",{children:"Diagnostics"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Company"}),r.jsxs("ul",{className:"space-y-2 text-gray-400",children:[r.jsx("li",{children:"About Us"}),r.jsx("li",{children:"Contact"}),r.jsx("li",{children:"Careers"}),r.jsx("li",{children:"Privacy Policy"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contact"}),r.jsxs("ul",{className:"space-y-2 text-gray-400",children:[r.jsx("li",{children:"123 Auto Street"}),r.jsx("li",{children:"City, State 12345"}),r.jsx("li",{children:"(555) 123-4567"}),r.jsx("li",{children:"info@puefixgarage.com"})]})]})]}),r.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-gray-400",children:r.jsx("p",{children:" 2024 PUEFix Garage. All rights reserved."})})]})})]})};var eo,Ad;function l0(){if(Ad)return eo;Ad=1;function i(T){this._maxSize=T,this.clear()}i.prototype.clear=function(){this._size=0,this._values=Object.create(null)},i.prototype.get=function(T){return this._values[T]},i.prototype.set=function(T,J){return this._size>=this._maxSize&&this.clear(),T in this._values||this._size++,this._values[T]=J};var l=/[^.^\]^[]+|(?=\[\]|\.\.)/g,a=/^\d+$/,u=/^\d/,d=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,h=/^\s*(['"]?)(.*?)(\1)\s*$/,f=512,g=new i(f),v=new i(f),E=new i(f);eo={Cache:i,split:j,normalizePath:y,setter:function(T){var J=y(T);return v.get(T)||v.set(T,function(K,te){for(var ue=0,$=J.length,D=K;ue<$-1;){var V=J[ue];if(V==="__proto__"||V==="constructor"||V==="prototype")return K;D=D[J[ue++]]}D[J[ue]]=te})},getter:function(T,J){var q=y(T);return E.get(T)||E.set(T,function(te){for(var ue=0,$=q.length;ue<$;)if(te!=null||!J)te=te[q[ue++]];else return;return te})},join:function(T){return T.reduce(function(J,q){return J+(B(q)||a.test(q)?"["+q+"]":(J?".":"")+q)},"")},forEach:function(T,J,q){_(Array.isArray(T)?T:j(T),J,q)}};function y(T){return g.get(T)||g.set(T,j(T).map(function(J){return J.replace(h,"$2")}))}function j(T){return T.match(l)||[""]}function _(T,J,q){var K=T.length,te,ue,$,D;for(ue=0;ue<K;ue++)te=T[ue],te&&(L(te)&&(te='"'+te+'"'),D=B(te),$=!D&&/^\d+$/.test(te),J.call(q,te,D,$,ue,T))}function B(T){return typeof T=="string"&&T&&["'",'"'].indexOf(T.charAt(0))!==-1}function O(T){return T.match(u)&&!T.match(a)}function U(T){return d.test(T)}function L(T){return!B(T)&&(O(T)||U(T))}return eo}var Xr=l0(),to,Md;function i0(){if(Md)return to;Md=1;const i=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,l=y=>y.match(i)||[],a=y=>y[0].toUpperCase()+y.slice(1),u=(y,j)=>l(y).join(j).toLowerCase(),d=y=>l(y).reduce((j,_)=>`${j}${j?_[0].toUpperCase()+_.slice(1).toLowerCase():_.toLowerCase()}`,"");return to={words:l,upperFirst:a,camelCase:d,pascalCase:y=>a(d(y)),snakeCase:y=>u(y,"_"),kebabCase:y=>u(y,"-"),sentenceCase:y=>a(u(y," ")),titleCase:y=>l(y).map(a).join(" ")},to}var ro=i0(),Ha={exports:{}},Rd;function o0(){if(Rd)return Ha.exports;Rd=1,Ha.exports=function(d){return i(l(d),d)},Ha.exports.array=i;function i(d,h){var f=d.length,g=new Array(f),v={},E=f,y=a(h),j=u(d);for(h.forEach(function(B){if(!j.has(B[0])||!j.has(B[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});E--;)v[E]||_(d[E],E,new Set);return g;function _(B,O,U){if(U.has(B)){var L;try{L=", node was:"+JSON.stringify(B)}catch{L=""}throw new Error("Cyclic dependency"+L)}if(!j.has(B))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(B));if(!v[O]){v[O]=!0;var T=y.get(B)||new Set;if(T=Array.from(T),O=T.length){U.add(B);do{var J=T[--O];_(J,j.get(J),U)}while(O);U.delete(B)}g[--f]=B}}}function l(d){for(var h=new Set,f=0,g=d.length;f<g;f++){var v=d[f];h.add(v[0]),h.add(v[1])}return Array.from(h)}function a(d){for(var h=new Map,f=0,g=d.length;f<g;f++){var v=d[f];h.has(v[0])||h.set(v[0],new Set),h.has(v[1])||h.set(v[1],new Set),h.get(v[0]).add(v[1])}return h}function u(d){for(var h=new Map,f=0,g=d.length;f<g;f++)h.set(d[f],f);return h}return Ha.exports}var c0=o0();const u0=fo(c0),d0=Object.prototype.toString,m0=Error.prototype.toString,h0=RegExp.prototype.toString,f0=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",p0=/^Symbol\((.*)\)(.*)$/;function x0(i){return i!=+i?"NaN":i===0&&1/i<0?"-0":""+i}function Fd(i,l=!1){if(i==null||i===!0||i===!1)return""+i;const a=typeof i;if(a==="number")return x0(i);if(a==="string")return l?`"${i}"`:i;if(a==="function")return"[Function "+(i.name||"anonymous")+"]";if(a==="symbol")return f0.call(i).replace(p0,"Symbol($1)");const u=d0.call(i).slice(8,-1);return u==="Date"?isNaN(i.getTime())?""+i:i.toISOString(i):u==="Error"||i instanceof Error?"["+m0.call(i)+"]":u==="RegExp"?h0.call(i):null}function Or(i,l){let a=Fd(i,l);return a!==null?a:JSON.stringify(i,function(u,d){let h=Fd(this[u],l);return h!==null?h:d},2)}function fm(i){return i==null?[]:[].concat(i)}let pm,xm,gm,g0=/\$\{\s*(\w+)\s*\}/g;pm=Symbol.toStringTag;class Od{constructor(l,a,u,d){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[pm]="Error",this.name="ValidationError",this.value=a,this.path=u,this.type=d,this.errors=[],this.inner=[],fm(l).forEach(h=>{if(ot.isError(h)){this.errors.push(...h.errors);const f=h.inner.length?h.inner:[h];this.inner.push(...f)}else this.errors.push(h)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}xm=Symbol.hasInstance;gm=Symbol.toStringTag;class ot extends Error{static formatError(l,a){const u=a.label||a.path||"this";return a=Object.assign({},a,{path:u,originalPath:a.path}),typeof l=="string"?l.replace(g0,(d,h)=>Or(a[h])):typeof l=="function"?l(a):l}static isError(l){return l&&l.name==="ValidationError"}constructor(l,a,u,d,h){const f=new Od(l,a,u,d);if(h)return f;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[gm]="Error",this.name=f.name,this.message=f.message,this.type=f.type,this.value=f.value,this.path=f.path,this.errors=f.errors,this.inner=f.inner,Error.captureStackTrace&&Error.captureStackTrace(this,ot)}static[xm](l){return Od[Symbol.hasInstance](l)||super[Symbol.hasInstance](l)}}let Wt={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:i,type:l,value:a,originalValue:u})=>{const d=u!=null&&u!==a?` (cast from the value \`${Or(u,!0)}\`).`:".";return l!=="mixed"?`${i} must be a \`${l}\` type, but the final value was: \`${Or(a,!0)}\``+d:`${i} must match the configured type. The validated value was: \`${Or(a,!0)}\``+d}},yt={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},y0={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},uo={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},mo={isValue:"${path} field must be ${value}"},Ja={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},v0={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},w0={notType:i=>{const{path:l,value:a,spec:u}=i,d=u.types.length;if(Array.isArray(a)){if(a.length<d)return`${l} tuple value has too few items, expected a length of ${d} but got ${a.length} for value: \`${Or(a,!0)}\``;if(a.length>d)return`${l} tuple value has too many items, expected a length of ${d} but got ${a.length} for value: \`${Or(a,!0)}\``}return ot.formatError(Wt.notType,i)}};Object.assign(Object.create(null),{mixed:Wt,string:yt,number:y0,date:uo,object:Ja,array:v0,boolean:mo,tuple:w0});const ko=i=>i&&i.__isYupSchema__;class el{static fromOptions(l,a){if(!a.then&&!a.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:u,then:d,otherwise:h}=a,f=typeof u=="function"?u:(...g)=>g.every(v=>v===u);return new el(l,(g,v)=>{var E;let y=f(...g)?d:h;return(E=y?.(v))!=null?E:v})}constructor(l,a){this.fn=void 0,this.refs=l,this.refs=l,this.fn=a}resolve(l,a){let u=this.refs.map(h=>h.getValue(a?.value,a?.parent,a?.context)),d=this.fn(u,l,a);if(d===void 0||d===l)return l;if(!ko(d))throw new TypeError("conditions must return a schema object");return d.resolve(a)}}const qa={context:"$",value:"."};function j0(i,l){return new Ir(i,l)}class Ir{constructor(l,a={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof l!="string")throw new TypeError("ref must be a string, got: "+l);if(this.key=l.trim(),l==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===qa.context,this.isValue=this.key[0]===qa.value,this.isSibling=!this.isContext&&!this.isValue;let u=this.isContext?qa.context:this.isValue?qa.value:"";this.path=this.key.slice(u.length),this.getter=this.path&&Xr.getter(this.path,!0),this.map=a.map}getValue(l,a,u){let d=this.isContext?u:this.isValue?l:a;return this.getter&&(d=this.getter(d||{})),this.map&&(d=this.map(d)),d}cast(l,a){return this.getValue(l,a?.parent,a?.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(l){return l&&l.__isYupRef}}Ir.prototype.__isYupRef=!0;const or=i=>i==null;function Ts(i){function l({value:a,path:u="",options:d,originalValue:h,schema:f},g,v){const{name:E,test:y,params:j,message:_,skipAbsent:B}=i;let{parent:O,context:U,abortEarly:L=f.spec.abortEarly,disableStackTrace:T=f.spec.disableStackTrace}=d;const J={value:a,parent:O,context:U};function q(M={}){const ie=ym(Object.assign({value:a,originalValue:h,label:f.spec.label,path:M.path||u,spec:f.spec,disableStackTrace:M.disableStackTrace||T},j,M.params),J),ce=new ot(ot.formatError(M.message||_,ie),a,ie.path,M.type||E,ie.disableStackTrace);return ce.params=ie,ce}const K=L?g:v;let te={path:u,parent:O,type:E,from:d.from,createError:q,resolve(M){return vm(M,J)},options:d,originalValue:h,schema:f};const ue=M=>{ot.isError(M)?K(M):M?v(null):K(q())},$=M=>{ot.isError(M)?K(M):g(M)};if(B&&or(a))return ue(!0);let V;try{var le;if(V=y.call(te,a,te),typeof((le=V)==null?void 0:le.then)=="function"){if(d.sync)throw new Error(`Validation test of type: "${te.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(V).then(ue,$)}}catch(M){$(M);return}ue(V)}return l.OPTIONS=i,l}function ym(i,l){if(!i)return i;for(const a of Object.keys(i))i[a]=vm(i[a],l);return i}function vm(i,l){return Ir.isRef(i)?i.getValue(l.value,l.parent,l.context):i}function b0(i,l,a,u=a){let d,h,f;return l?(Xr.forEach(l,(g,v,E)=>{let y=v?g.slice(1,g.length-1):g;i=i.resolve({context:u,parent:d,value:a});let j=i.type==="tuple",_=E?parseInt(y,10):0;if(i.innerType||j){if(j&&!E)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${f}" must contain an index to the tuple element, e.g. "${f}[0]"`);if(a&&_>=a.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${g}, in the path: ${l}. because there is no value at that index. `);d=a,a=a&&a[_],i=j?i.spec.types[_]:i.innerType}if(!E){if(!i.fields||!i.fields[y])throw new Error(`The schema does not contain the path: ${l}. (failed at: ${f} which is a type: "${i.type}")`);d=a,a=a&&a[y],i=i.fields[y]}h=y,f=v?"["+g+"]":"."+g}),{schema:i,parent:d,parentPath:h}):{parent:d,parentPath:l,schema:i}}class tl extends Set{describe(){const l=[];for(const a of this.values())l.push(Ir.isRef(a)?a.describe():a);return l}resolveAll(l){let a=[];for(const u of this.values())a.push(l(u));return a}clone(){return new tl(this.values())}merge(l,a){const u=this.clone();return l.forEach(d=>u.add(d)),a.forEach(d=>u.delete(d)),u}}function Ds(i,l=new Map){if(ko(i)||!i||typeof i!="object")return i;if(l.has(i))return l.get(i);let a;if(i instanceof Date)a=new Date(i.getTime()),l.set(i,a);else if(i instanceof RegExp)a=new RegExp(i),l.set(i,a);else if(Array.isArray(i)){a=new Array(i.length),l.set(i,a);for(let u=0;u<i.length;u++)a[u]=Ds(i[u],l)}else if(i instanceof Map){a=new Map,l.set(i,a);for(const[u,d]of i.entries())a.set(u,Ds(d,l))}else if(i instanceof Set){a=new Set,l.set(i,a);for(const u of i)a.add(Ds(u,l))}else if(i instanceof Object){a={},l.set(i,a);for(const[u,d]of Object.entries(i))a[u]=Ds(d,l)}else throw Error(`Unable to clone ${i}`);return a}function N0(i){if(!(i!=null&&i.length))return;const l=[];let a="",u=!1,d=!1;for(let h=0;h<i.length;h++){const f=i[h];if(f==="["&&!d){a&&(l.push(...a.split(".").filter(Boolean)),a=""),u=!0;continue}if(f==="]"&&!d){a&&(/^\d+$/.test(a)?l.push(a):l.push(a.replace(/^"|"$/g,"")),a=""),u=!1;continue}if(f==='"'){d=!d;continue}if(f==="."&&!u&&!d){a&&(l.push(a),a="");continue}a+=f}return a&&l.push(...a.split(".").filter(Boolean)),l}function k0(i,l){const a=l?`${l}.${i.path}`:i.path;return i.errors.map(u=>({message:u,path:N0(a)}))}function wm(i,l){var a;if(!((a=i.inner)!=null&&a.length)&&i.errors.length)return k0(i,l);const u=l?`${l}.${i.path}`:i.path;return i.inner.flatMap(d=>wm(d,u))}class $t{constructor(l){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new tl,this._blacklist=new tl,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Wt.notType)}),this.type=l.type,this._typeCheck=l.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},l?.spec),this.withMutation(a=>{a.nonNullable()})}get _type(){return this.type}clone(l){if(this._mutate)return l&&Object.assign(this.spec,l),this;const a=Object.create(Object.getPrototypeOf(this));return a.type=this.type,a._typeCheck=this._typeCheck,a._whitelist=this._whitelist.clone(),a._blacklist=this._blacklist.clone(),a.internalTests=Object.assign({},this.internalTests),a.exclusiveTests=Object.assign({},this.exclusiveTests),a.deps=[...this.deps],a.conditions=[...this.conditions],a.tests=[...this.tests],a.transforms=[...this.transforms],a.spec=Ds(Object.assign({},this.spec,l)),a}label(l){let a=this.clone();return a.spec.label=l,a}meta(...l){if(l.length===0)return this.spec.meta;let a=this.clone();return a.spec.meta=Object.assign(a.spec.meta||{},l[0]),a}withMutation(l){let a=this._mutate;this._mutate=!0;let u=l(this);return this._mutate=a,u}concat(l){if(!l||l===this)return this;if(l.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${l.type}`);let a=this,u=l.clone();const d=Object.assign({},a.spec,u.spec);return u.spec=d,u.internalTests=Object.assign({},a.internalTests,u.internalTests),u._whitelist=a._whitelist.merge(l._whitelist,l._blacklist),u._blacklist=a._blacklist.merge(l._blacklist,l._whitelist),u.tests=a.tests,u.exclusiveTests=a.exclusiveTests,u.withMutation(h=>{l.tests.forEach(f=>{h.test(f.OPTIONS)})}),u.transforms=[...a.transforms,...u.transforms],u}isType(l){return l==null?!!(this.spec.nullable&&l===null||this.spec.optional&&l===void 0):this._typeCheck(l)}resolve(l){let a=this;if(a.conditions.length){let u=a.conditions;a=a.clone(),a.conditions=[],a=u.reduce((d,h)=>h.resolve(d,l),a),a=a.resolve(l)}return a}resolveOptions(l){var a,u,d,h;return Object.assign({},l,{from:l.from||[],strict:(a=l.strict)!=null?a:this.spec.strict,abortEarly:(u=l.abortEarly)!=null?u:this.spec.abortEarly,recursive:(d=l.recursive)!=null?d:this.spec.recursive,disableStackTrace:(h=l.disableStackTrace)!=null?h:this.spec.disableStackTrace})}cast(l,a={}){let u=this.resolve(Object.assign({},a,{value:l})),d=a.assert==="ignore-optionality",h=u._cast(l,a);if(a.assert!==!1&&!u.isType(h)){if(d&&or(h))return h;let f=Or(l),g=Or(h);throw new TypeError(`The value of ${a.path||"field"} could not be cast to a value that satisfies the schema type: "${u.type}". 

attempted value: ${f} 
`+(g!==f?`result of cast: ${g}`:""))}return h}_cast(l,a){let u=l===void 0?l:this.transforms.reduce((d,h)=>h.call(this,d,l,this,a),l);return u===void 0&&(u=this.getDefault(a)),u}_validate(l,a={},u,d){let{path:h,originalValue:f=l,strict:g=this.spec.strict}=a,v=l;g||(v=this._cast(v,Object.assign({assert:!1},a)));let E=[];for(let y of Object.values(this.internalTests))y&&E.push(y);this.runTests({path:h,value:v,originalValue:f,options:a,tests:E},u,y=>{if(y.length)return d(y,v);this.runTests({path:h,value:v,originalValue:f,options:a,tests:this.tests},u,d)})}runTests(l,a,u){let d=!1,{tests:h,value:f,originalValue:g,path:v,options:E}=l,y=U=>{d||(d=!0,a(U,f))},j=U=>{d||(d=!0,u(U,f))},_=h.length,B=[];if(!_)return j([]);let O={value:f,originalValue:g,path:v,options:E,schema:this};for(let U=0;U<h.length;U++){const L=h[U];L(O,y,function(J){J&&(Array.isArray(J)?B.push(...J):B.push(J)),--_<=0&&j(B)})}}asNestedTest({key:l,index:a,parent:u,parentPath:d,originalParent:h,options:f}){const g=l??a;if(g==null)throw TypeError("Must include `key` or `index` for nested validations");const v=typeof g=="number";let E=u[g];const y=Object.assign({},f,{strict:!0,parent:u,value:E,originalValue:h[g],key:void 0,[v?"index":"key"]:g,path:v||g.includes(".")?`${d||""}[${v?g:`"${g}"`}]`:(d?`${d}.`:"")+l});return(j,_,B)=>this.resolve(y)._validate(E,y,_,B)}validate(l,a){var u;let d=this.resolve(Object.assign({},a,{value:l})),h=(u=a?.disableStackTrace)!=null?u:d.spec.disableStackTrace;return new Promise((f,g)=>d._validate(l,a,(v,E)=>{ot.isError(v)&&(v.value=E),g(v)},(v,E)=>{v.length?g(new ot(v,E,void 0,void 0,h)):f(E)}))}validateSync(l,a){var u;let d=this.resolve(Object.assign({},a,{value:l})),h,f=(u=a?.disableStackTrace)!=null?u:d.spec.disableStackTrace;return d._validate(l,Object.assign({},a,{sync:!0}),(g,v)=>{throw ot.isError(g)&&(g.value=v),g},(g,v)=>{if(g.length)throw new ot(g,l,void 0,void 0,f);h=v}),h}isValid(l,a){return this.validate(l,a).then(()=>!0,u=>{if(ot.isError(u))return!1;throw u})}isValidSync(l,a){try{return this.validateSync(l,a),!0}catch(u){if(ot.isError(u))return!1;throw u}}_getDefault(l){let a=this.spec.default;return a==null?a:typeof a=="function"?a.call(this,l):Ds(a)}getDefault(l){return this.resolve(l||{})._getDefault(l)}default(l){return arguments.length===0?this._getDefault():this.clone({default:l})}strict(l=!0){return this.clone({strict:l})}nullability(l,a){const u=this.clone({nullable:l});return u.internalTests.nullable=Ts({message:a,name:"nullable",test(d){return d===null?this.schema.spec.nullable:!0}}),u}optionality(l,a){const u=this.clone({optional:l});return u.internalTests.optionality=Ts({message:a,name:"optionality",test(d){return d===void 0?this.schema.spec.optional:!0}}),u}optional(){return this.optionality(!0)}defined(l=Wt.defined){return this.optionality(!1,l)}nullable(){return this.nullability(!0)}nonNullable(l=Wt.notNull){return this.nullability(!1,l)}required(l=Wt.required){return this.clone().withMutation(a=>a.nonNullable(l).defined(l))}notRequired(){return this.clone().withMutation(l=>l.nullable().optional())}transform(l){let a=this.clone();return a.transforms.push(l),a}test(...l){let a;if(l.length===1?typeof l[0]=="function"?a={test:l[0]}:a=l[0]:l.length===2?a={name:l[0],test:l[1]}:a={name:l[0],message:l[1],test:l[2]},a.message===void 0&&(a.message=Wt.default),typeof a.test!="function")throw new TypeError("`test` is a required parameters");let u=this.clone(),d=Ts(a),h=a.exclusive||a.name&&u.exclusiveTests[a.name]===!0;if(a.exclusive&&!a.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return a.name&&(u.exclusiveTests[a.name]=!!a.exclusive),u.tests=u.tests.filter(f=>!(f.OPTIONS.name===a.name&&(h||f.OPTIONS.test===d.OPTIONS.test))),u.tests.push(d),u}when(l,a){!Array.isArray(l)&&typeof l!="string"&&(a=l,l=".");let u=this.clone(),d=fm(l).map(h=>new Ir(h));return d.forEach(h=>{h.isSibling&&u.deps.push(h.key)}),u.conditions.push(typeof a=="function"?new el(d,a):el.fromOptions(d,a)),u}typeError(l){let a=this.clone();return a.internalTests.typeError=Ts({message:l,name:"typeError",skipAbsent:!0,test(u){return this.schema._typeCheck(u)?!0:this.createError({params:{type:this.schema.type}})}}),a}oneOf(l,a=Wt.oneOf){let u=this.clone();return l.forEach(d=>{u._whitelist.add(d),u._blacklist.delete(d)}),u.internalTests.whiteList=Ts({message:a,name:"oneOf",skipAbsent:!0,test(d){let h=this.schema._whitelist,f=h.resolveAll(this.resolve);return f.includes(d)?!0:this.createError({params:{values:Array.from(h).join(", "),resolved:f}})}}),u}notOneOf(l,a=Wt.notOneOf){let u=this.clone();return l.forEach(d=>{u._blacklist.add(d),u._whitelist.delete(d)}),u.internalTests.blacklist=Ts({message:a,name:"notOneOf",test(d){let h=this.schema._blacklist,f=h.resolveAll(this.resolve);return f.includes(d)?this.createError({params:{values:Array.from(h).join(", "),resolved:f}}):!0}}),u}strip(l=!0){let a=this.clone();return a.spec.strip=l,a}describe(l){const a=(l?this.resolve(l):this).clone(),{label:u,meta:d,optional:h,nullable:f}=a.spec;return{meta:d,label:u,optional:h,nullable:f,default:a.getDefault(l),type:a.type,oneOf:a._whitelist.describe(),notOneOf:a._blacklist.describe(),tests:a.tests.filter((v,E,y)=>y.findIndex(j=>j.OPTIONS.name===v.OPTIONS.name)===E).map(v=>{const E=v.OPTIONS.params&&l?ym(Object.assign({},v.OPTIONS.params),l):v.OPTIONS.params;return{name:v.OPTIONS.name,params:E}})}}get"~standard"(){const l=this;return{version:1,vendor:"yup",async validate(u){try{return{value:await l.validate(u,{abortEarly:!1})}}catch(d){if(d instanceof ot)return{issues:wm(d)};throw d}}}}}$t.prototype.__isYupSchema__=!0;for(const i of["validate","validateSync"])$t.prototype[`${i}At`]=function(l,a,u={}){const{parent:d,parentPath:h,schema:f}=b0(this,l,a,u.context);return f[i](d&&d[h],Object.assign({},u,{parent:d,path:l}))};for(const i of["equals","is"])$t.prototype[i]=$t.prototype.oneOf;for(const i of["not","nope"])$t.prototype[i]=$t.prototype.notOneOf;function jm(){return new bm}class bm extends $t{constructor(){super({type:"boolean",check(l){return l instanceof Boolean&&(l=l.valueOf()),typeof l=="boolean"}}),this.withMutation(()=>{this.transform((l,a)=>{if(this.spec.coerce&&!this.isType(l)){if(/^(true|1)$/i.test(String(l)))return!0;if(/^(false|0)$/i.test(String(l)))return!1}return l})})}isTrue(l=mo.isValue){return this.test({message:l,name:"is-value",exclusive:!0,params:{value:"true"},test(a){return or(a)||a===!0}})}isFalse(l=mo.isValue){return this.test({message:l,name:"is-value",exclusive:!0,params:{value:"false"},test(a){return or(a)||a===!1}})}default(l){return super.default(l)}defined(l){return super.defined(l)}optional(){return super.optional()}required(l){return super.required(l)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(l){return super.nonNullable(l)}strip(l){return super.strip(l)}}jm.prototype=bm.prototype;const S0=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function C0(i){const l=ho(i);if(!l)return Date.parse?Date.parse(i):Number.NaN;if(l.z===void 0&&l.plusMinus===void 0)return new Date(l.year,l.month,l.day,l.hour,l.minute,l.second,l.millisecond).valueOf();let a=0;return l.z!=="Z"&&l.plusMinus!==void 0&&(a=l.hourOffset*60+l.minuteOffset,l.plusMinus==="+"&&(a=0-a)),Date.UTC(l.year,l.month,l.day,l.hour,l.minute+a,l.second,l.millisecond)}function ho(i){var l,a;const u=S0.exec(i);return u?{year:ir(u[1]),month:ir(u[2],1)-1,day:ir(u[3],1),hour:ir(u[4]),minute:ir(u[5]),second:ir(u[6]),millisecond:u[7]?ir(u[7].substring(0,3)):0,precision:(l=(a=u[7])==null?void 0:a.length)!=null?l:void 0,z:u[8]||void 0,plusMinus:u[9]||void 0,hourOffset:ir(u[10]),minuteOffset:ir(u[11])}:null}function ir(i,l=0){return Number(i)||l}let E0=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,P0=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,_0=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,T0="^\\d{4}-\\d{2}-\\d{2}",D0="\\d{2}:\\d{2}:\\d{2}",A0="(([+-]\\d{2}(:?\\d{2})?)|Z)",M0=new RegExp(`${T0}T${D0}(\\.\\d+)?${A0}$`),R0=i=>or(i)||i===i.trim(),F0={}.toString();function _t(){return new Nm}class Nm extends $t{constructor(){super({type:"string",check(l){return l instanceof String&&(l=l.valueOf()),typeof l=="string"}}),this.withMutation(()=>{this.transform((l,a)=>{if(!this.spec.coerce||this.isType(l)||Array.isArray(l))return l;const u=l!=null&&l.toString?l.toString():l;return u===F0?l:u})})}required(l){return super.required(l).withMutation(a=>a.test({message:l||Wt.required,name:"required",skipAbsent:!0,test:u=>!!u.length}))}notRequired(){return super.notRequired().withMutation(l=>(l.tests=l.tests.filter(a=>a.OPTIONS.name!=="required"),l))}length(l,a=yt.length){return this.test({message:a,name:"length",exclusive:!0,params:{length:l},skipAbsent:!0,test(u){return u.length===this.resolve(l)}})}min(l,a=yt.min){return this.test({message:a,name:"min",exclusive:!0,params:{min:l},skipAbsent:!0,test(u){return u.length>=this.resolve(l)}})}max(l,a=yt.max){return this.test({name:"max",exclusive:!0,message:a,params:{max:l},skipAbsent:!0,test(u){return u.length<=this.resolve(l)}})}matches(l,a){let u=!1,d,h;return a&&(typeof a=="object"?{excludeEmptyString:u=!1,message:d,name:h}=a:d=a),this.test({name:h||"matches",message:d||yt.matches,params:{regex:l},skipAbsent:!0,test:f=>f===""&&u||f.search(l)!==-1})}email(l=yt.email){return this.matches(E0,{name:"email",message:l,excludeEmptyString:!0})}url(l=yt.url){return this.matches(P0,{name:"url",message:l,excludeEmptyString:!0})}uuid(l=yt.uuid){return this.matches(_0,{name:"uuid",message:l,excludeEmptyString:!1})}datetime(l){let a="",u,d;return l&&(typeof l=="object"?{message:a="",allowOffset:u=!1,precision:d=void 0}=l:a=l),this.matches(M0,{name:"datetime",message:a||yt.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:a||yt.datetime_offset,params:{allowOffset:u},skipAbsent:!0,test:h=>{if(!h||u)return!0;const f=ho(h);return f?!!f.z:!1}}).test({name:"datetime_precision",message:a||yt.datetime_precision,params:{precision:d},skipAbsent:!0,test:h=>{if(!h||d==null)return!0;const f=ho(h);return f?f.precision===d:!1}})}ensure(){return this.default("").transform(l=>l===null?"":l)}trim(l=yt.trim){return this.transform(a=>a!=null?a.trim():a).test({message:l,name:"trim",test:R0})}lowercase(l=yt.lowercase){return this.transform(a=>or(a)?a:a.toLowerCase()).test({message:l,name:"string_case",exclusive:!0,skipAbsent:!0,test:a=>or(a)||a===a.toLowerCase()})}uppercase(l=yt.uppercase){return this.transform(a=>or(a)?a:a.toUpperCase()).test({message:l,name:"string_case",exclusive:!0,skipAbsent:!0,test:a=>or(a)||a===a.toUpperCase()})}}_t.prototype=Nm.prototype;let O0=new Date(""),L0=i=>Object.prototype.toString.call(i)==="[object Date]";class So extends $t{constructor(){super({type:"date",check(l){return L0(l)&&!isNaN(l.getTime())}}),this.withMutation(()=>{this.transform((l,a)=>!this.spec.coerce||this.isType(l)||l===null?l:(l=C0(l),isNaN(l)?So.INVALID_DATE:new Date(l)))})}prepareParam(l,a){let u;if(Ir.isRef(l))u=l;else{let d=this.cast(l);if(!this._typeCheck(d))throw new TypeError(`\`${a}\` must be a Date or a value that can be \`cast()\` to a Date`);u=d}return u}min(l,a=uo.min){let u=this.prepareParam(l,"min");return this.test({message:a,name:"min",exclusive:!0,params:{min:l},skipAbsent:!0,test(d){return d>=this.resolve(u)}})}max(l,a=uo.max){let u=this.prepareParam(l,"max");return this.test({message:a,name:"max",exclusive:!0,params:{max:l},skipAbsent:!0,test(d){return d<=this.resolve(u)}})}}So.INVALID_DATE=O0;function I0(i,l=[]){let a=[],u=new Set,d=new Set(l.map(([f,g])=>`${f}-${g}`));function h(f,g){let v=Xr.split(f)[0];u.add(v),d.has(`${g}-${v}`)||a.push([g,v])}for(const f of Object.keys(i)){let g=i[f];u.add(f),Ir.isRef(g)&&g.isSibling?h(g.path,f):ko(g)&&"deps"in g&&g.deps.forEach(v=>h(v,f))}return u0.array(Array.from(u),a).reverse()}function Ld(i,l){let a=1/0;return i.some((u,d)=>{var h;if((h=l.path)!=null&&h.includes(u))return a=d,!0}),a}function km(i){return(l,a)=>Ld(i,l)-Ld(i,a)}const $0=(i,l,a)=>{if(typeof i!="string")return i;let u=i;try{u=JSON.parse(i)}catch{}return a.isType(u)?u:i};function Ga(i){if("fields"in i){const l={};for(const[a,u]of Object.entries(i.fields))l[a]=Ga(u);return i.setFields(l)}if(i.type==="array"){const l=i.optional();return l.innerType&&(l.innerType=Ga(l.innerType)),l}return i.type==="tuple"?i.optional().clone({types:i.spec.types.map(Ga)}):"optional"in i?i.optional():i}const z0=(i,l)=>{const a=[...Xr.normalizePath(l)];if(a.length===1)return a[0]in i;let u=a.pop(),d=Xr.getter(Xr.join(a),!0)(i);return!!(d&&u in d)};let Id=i=>Object.prototype.toString.call(i)==="[object Object]";function $d(i,l){let a=Object.keys(i.fields);return Object.keys(l).filter(u=>a.indexOf(u)===-1)}const U0=km([]);function Co(i){return new Sm(i)}class Sm extends $t{constructor(l){super({type:"object",check(a){return Id(a)||typeof a=="function"}}),this.fields=Object.create(null),this._sortErrors=U0,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{l&&this.shape(l)})}_cast(l,a={}){var u;let d=super._cast(l,a);if(d===void 0)return this.getDefault(a);if(!this._typeCheck(d))return d;let h=this.fields,f=(u=a.stripUnknown)!=null?u:this.spec.noUnknown,g=[].concat(this._nodes,Object.keys(d).filter(j=>!this._nodes.includes(j))),v={},E=Object.assign({},a,{parent:v,__validating:a.__validating||!1}),y=!1;for(const j of g){let _=h[j],B=j in d,O=d[j];if(_){let U;E.path=(a.path?`${a.path}.`:"")+j,_=_.resolve({value:O,context:a.context,parent:v});let L=_ instanceof $t?_.spec:void 0,T=L?.strict;if(L!=null&&L.strip){y=y||j in d;continue}U=!a.__validating||!T?_.cast(O,E):O,U!==void 0&&(v[j]=U)}else B&&!f&&(v[j]=O);(B!==j in v||v[j]!==O)&&(y=!0)}return y?v:d}_validate(l,a={},u,d){let{from:h=[],originalValue:f=l,recursive:g=this.spec.recursive}=a;a.from=[{schema:this,value:f},...h],a.__validating=!0,a.originalValue=f,super._validate(l,a,u,(v,E)=>{if(!g||!Id(E)){d(v,E);return}f=f||E;let y=[];for(let j of this._nodes){let _=this.fields[j];!_||Ir.isRef(_)||y.push(_.asNestedTest({options:a,key:j,parent:E,parentPath:a.path,originalParent:f}))}this.runTests({tests:y,value:E,originalValue:f,options:a},u,j=>{d(j.sort(this._sortErrors).concat(v),E)})})}clone(l){const a=super.clone(l);return a.fields=Object.assign({},this.fields),a._nodes=this._nodes,a._excludedEdges=this._excludedEdges,a._sortErrors=this._sortErrors,a}concat(l){let a=super.concat(l),u=a.fields;for(let[d,h]of Object.entries(this.fields)){const f=u[d];u[d]=f===void 0?h:f}return a.withMutation(d=>d.setFields(u,[...this._excludedEdges,...l._excludedEdges]))}_getDefault(l){if("default"in this.spec)return super._getDefault(l);if(!this._nodes.length)return;let a={};return this._nodes.forEach(u=>{var d;const h=this.fields[u];let f=l;(d=f)!=null&&d.value&&(f=Object.assign({},f,{parent:f.value,value:f.value[u]})),a[u]=h&&"getDefault"in h?h.getDefault(f):void 0}),a}setFields(l,a){let u=this.clone();return u.fields=l,u._nodes=I0(l,a),u._sortErrors=km(Object.keys(l)),a&&(u._excludedEdges=a),u}shape(l,a=[]){return this.clone().withMutation(u=>{let d=u._excludedEdges;return a.length&&(Array.isArray(a[0])||(a=[a]),d=[...u._excludedEdges,...a]),u.setFields(Object.assign(u.fields,l),d)})}partial(){const l={};for(const[a,u]of Object.entries(this.fields))l[a]="optional"in u&&u.optional instanceof Function?u.optional():u;return this.setFields(l)}deepPartial(){return Ga(this)}pick(l){const a={};for(const u of l)this.fields[u]&&(a[u]=this.fields[u]);return this.setFields(a,this._excludedEdges.filter(([u,d])=>l.includes(u)&&l.includes(d)))}omit(l){const a=[];for(const u of Object.keys(this.fields))l.includes(u)||a.push(u);return this.pick(a)}from(l,a,u){let d=Xr.getter(l,!0);return this.transform(h=>{if(!h)return h;let f=h;return z0(h,l)&&(f=Object.assign({},h),u||delete f[l],f[a]=d(h)),f})}json(){return this.transform($0)}exact(l){return this.test({name:"exact",exclusive:!0,message:l||Ja.exact,test(a){if(a==null)return!0;const u=$d(this.schema,a);return u.length===0||this.createError({params:{properties:u.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(l=!0,a=Ja.noUnknown){typeof l!="boolean"&&(a=l,l=!0);let u=this.test({name:"noUnknown",exclusive:!0,message:a,test(d){if(d==null)return!0;const h=$d(this.schema,d);return!l||h.length===0||this.createError({params:{unknown:h.join(", ")}})}});return u.spec.noUnknown=l,u}unknown(l=!0,a=Ja.noUnknown){return this.noUnknown(!l,a)}transformKeys(l){return this.transform(a=>{if(!a)return a;const u={};for(const d of Object.keys(a))u[l(d)]=a[d];return u})}camelCase(){return this.transformKeys(ro.camelCase)}snakeCase(){return this.transformKeys(ro.snakeCase)}constantCase(){return this.transformKeys(l=>ro.snakeCase(l).toUpperCase())}describe(l){const a=(l?this.resolve(l):this).clone(),u=super.describe(l);u.fields={};for(const[h,f]of Object.entries(a.fields)){var d;let g=l;(d=g)!=null&&d.value&&(g=Object.assign({},g,{parent:g.value,value:g.value[h]})),u.fields[h]=f.describe(g)}return u}}Co.prototype=Sm.prototype;const V0=()=>{const[i,l]=k.useState({email:"",password:""}),[a,u]=k.useState(!1),[d,h]=k.useState(!1),[f,g]=k.useState(""),[v,E]=k.useState({}),[y,j]=k.useState({}),[_,B]=k.useState(!1),{login:O}=zt(),U=mr(),T=Zt().state?.from?.pathname||"/",J=Co().shape({email:_t().trim().email("Please enter a valid email address").max(100,"Email must not exceed 100 characters").required("Email is required"),password:_t().min(6,"Password must be at least 6 characters").max(50,"Password must not exceed 50 characters").required("Password is required")}),q=async(V,le)=>{try{await J.validateAt(V,{...i,[V]:le}),E(M=>{const ie={...M};return delete ie[V],ie})}catch(M){E(ie=>({...ie,[V]:M.message}))}},K=async V=>{const{name:le,value:M}=V.target;l(ie=>({...ie,[le]:M})),v.general&&E(ie=>{const ce={...ie};return delete ce.general,ce}),y[le]&&await q(le,M)},te=async V=>{const{name:le,value:M}=V.target;j(ie=>({...ie,[le]:!0})),g(""),await q(le,M)},ue=async V=>{V.preventDefault(),j({email:!0,password:!0});try{if(await J.validate(i,{abortEarly:!1}),E({}),h(!0),(await O(i.email,i.password,_))?.success){const M=JSON.parse(localStorage.getItem("user"));M?M.role==="mechanic"?U("/mechanic",{replace:!0}):M.role==="customer"?U("/customer",{replace:!0}):U("/dashboard",{replace:!0}):U(T,{replace:!0})}}catch(le){if(le.inner){const M={};le.inner.forEach(ie=>{M[ie.path]=ie.message}),E(M)}else E({general:le.response?.data?.message||"Invalid email or password. Please try again."})}finally{h(!1)}},$=["Access your workshop dashboard","Track vehicle repair jobs","Manage appointments and service history","View invoices and payments"],D=[{label:"Happy Customers",value:"15K+",icon:Fs},{label:"Customer Rating",value:"4.9",icon:No},{label:"Service Locations",value:"50+",icon:Mr}];return r.jsxs("div",{className:"min-h-screen flex bg-slate-50",children:[r.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-blue-600 via-blue-500 to-blue-700 p-12 flex-col justify-between relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-10",children:r.jsxs("svg",{viewBox:"0 0 1200 800",className:"w-full h-full",children:[r.jsx("defs",{children:r.jsxs("pattern",{id:"circuit",patternUnits:"userSpaceOnUse",width:"100",height:"100",children:[r.jsx("path",{d:"M20,20 L80,20 L80,80 L20,80 Z",fill:"none",stroke:"currentColor",strokeWidth:"2"}),r.jsx("circle",{cx:"20",cy:"20",r:"3",fill:"currentColor"}),r.jsx("circle",{cx:"80",cy:"20",r:"3",fill:"currentColor"}),r.jsx("circle",{cx:"80",cy:"80",r:"3",fill:"currentColor"}),r.jsx("circle",{cx:"20",cy:"80",r:"3",fill:"currentColor"}),r.jsx("path",{d:"M50,20 L50,80",stroke:"currentColor",strokeWidth:"1"}),r.jsx("path",{d:"M20,50 L80,50",stroke:"currentColor",strokeWidth:"1"})]})}),r.jsx("rect",{width:"100%",height:"100%",fill:"url(#circuit)"})]})}),r.jsxs("div",{className:"absolute inset-0 opacity-15",children:[r.jsx(Mr,{className:"absolute top-20 left-20 w-16 h-16 animate-pulse"}),r.jsx(im,{className:"absolute bottom-40 right-16 w-12 h-12 animate-bounce",style:{animationDelay:"1s"}}),r.jsx(lm,{className:"absolute top-1/2 right-32 w-14 h-14 animate-pulse",style:{animationDelay:"2s"}}),r.jsx(bo,{className:"absolute top-1/3 left-1/2 w-10 h-10 animate-spin",style:{animationDuration:"8s"}})]}),r.jsxs("div",{className:"relative z-10",children:[r.jsxs(Me,{to:"/",className:"flex items-center text-white mb-20 group",children:[r.jsx("div",{className:"p-3 bg-white/20 rounded-2xl backdrop-blur-sm mr-4 group-hover:bg-white/30 transition-all duration-300 group-hover:scale-110",children:r.jsx(Mr,{className:"w-8 h-8"})}),r.jsxs("div",{children:[r.jsx("span",{className:"text-3xl font-bold block",children:"PUEFix Garage"}),r.jsx("span",{className:"text-blue-100 text-sm",children:"Auto Service Sri Lanka"})]})]}),r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h1",{className:"text-4xl xl:text-5xl font-bold text-white leading-tight",children:["Welcome back to",r.jsx("span",{className:"block text-blue-100",children:"your PUEFix Garage workshop dashboard"})]}),r.jsx("p",{className:"text-xl text-blue-50 leading-relaxed",children:"Sign in to access your PUEFix Garage account and manage vehicle service requests, jobs, and appointments across Sri Lanka."})]}),r.jsx("div",{className:"pt-8 space-y-6",children:$.map((V,le)=>r.jsxs("div",{className:"flex items-center text-white group",children:[r.jsx("div",{className:"p-1.5 bg-blue-400 rounded-full mr-4 group-hover:scale-110 transition-transform duration-200",children:r.jsx(ut,{className:"w-4 h-4 text-blue-800"})}),r.jsx("span",{className:"text-blue-50",children:V})]},le))}),r.jsx("div",{className:"pt-8 border-t border-blue-400/30",children:r.jsx("div",{className:"grid grid-cols-1 gap-4",children:D.map((V,le)=>{const M=V.icon;return r.jsxs("div",{className:"flex items-center justify-between text-blue-100 bg-white/10 rounded-lg p-3 backdrop-blur-sm",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(M,{className:"w-5 h-5 text-blue-300"}),r.jsx("span",{className:"text-sm font-medium",children:V.label})]}),r.jsx("span",{className:"text-sm font-bold text-white",children:V.value})]},le)})})})]})]}),r.jsx("div",{className:"relative z-10 text-blue-100",children:r.jsx("p",{className:"text-sm",children:" 2025 PUEFix Garage. Your trusted auto service partner."})})]}),r.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-4 sm:p-6 lg:p-12",children:r.jsxs("div",{className:"w-full max-w-md",children:[r.jsx("div",{className:"lg:hidden text-center mb-8",children:r.jsxs(Me,{to:"/",className:"inline-flex items-center text-blue-600 group",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-xl mr-3 group-hover:bg-blue-200 transition-all duration-300",children:r.jsx(Mr,{className:"w-6 h-6"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("span",{className:"text-2xl font-bold block",children:"PUEFix Garage"}),r.jsx("span",{className:"text-blue-600 text-xs",children:"Auto Service Sri Lanka"})]})]})}),r.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border border-slate-200/60 p-6 sm:p-8 lg:p-10 backdrop-blur-sm",children:[r.jsxs("div",{className:"mb-8 text-center lg:text-left",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-slate-900 mb-3",children:"Welcome back!"}),r.jsx("p",{className:"text-slate-600 text-base sm:text-lg",children:"Sign in to access your PUEFix Garage dashboard"})]}),v.general&&r.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl flex items-start",children:[r.jsx(Mn,{className:"w-5 h-5 text-red-500 mr-3 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-red-800",children:v.general}),r.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Please check your credentials and try again."})]})]}),r.jsxs("form",{onSubmit:ue,className:"space-y-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:`absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none transition-colors duration-200 ${f==="email"?"text-blue-600":v.email&&y.email?"text-red-500":"text-slate-400"}`,children:r.jsx(sl,{className:"w-5 h-5"})}),r.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:i.email,onChange:K,onFocus:()=>g("email"),onBlur:te,className:`block w-full pl-12 pr-4 py-3 sm:py-4 border-2 ${v.email&&y.email?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20":f==="email"?"border-blue-500 bg-gradient-to-r from-blue-50/30 to-blue-50/30 focus:border-blue-600":"border-slate-200 bg-gradient-to-r from-slate-50/50 to-slate-50/30 hover:border-slate-300 focus:border-blue-500"} rounded-xl text-slate-900 placeholder-slate-500 focus:outline-none focus:ring-4 focus:ring-blue-500/20 transition-all duration-200`,placeholder:"Enter your email address"}),r.jsx("label",{htmlFor:"email",className:`absolute -top-2.5 left-10 px-2 bg-white text-xs font-semibold ${f==="email"?"text-blue-600":v.email&&y.email?"text-red-500":"text-slate-600"} transition-colors duration-200`,children:"Email Address"}),v.email&&y.email&&r.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[r.jsx("svg",{className:"w-4 h-4 mr-1.5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),v.email]}),f==="email"&&!v.email&&i.email&&r.jsxs("p",{className:"mt-2 text-xs text-slate-500 flex items-center",children:[r.jsx(ut,{className:"w-3 h-3 mr-1 text-blue-500"}),"Email format looks good"]})]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:`absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none transition-colors duration-200 ${f==="password"?"text-blue-600":v.password&&y.password?"text-red-500":"text-slate-400"}`,children:r.jsx(oo,{className:"w-5 h-5"})}),r.jsx("input",{id:"password",name:"password",type:a?"text":"password",autoComplete:"current-password",value:i.password,onChange:K,onFocus:()=>g("password"),onBlur:te,className:`block w-full pl-12 pr-12 py-3 sm:py-4 border-2 ${v.password&&y.password?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20":f==="password"?"border-blue-500 bg-gradient-to-r from-blue-50/30 to-blue-50/30 focus:border-blue-600":"border-slate-200 bg-gradient-to-r from-slate-50/50 to-slate-50/30 hover:border-slate-300 focus:border-blue-500"} rounded-xl text-slate-900 placeholder-slate-500 focus:outline-none focus:ring-4 focus:ring-blue-500/20 transition-all duration-200`,placeholder:"Enter your password"}),r.jsx("label",{htmlFor:"password",className:`absolute -top-2.5 left-10 px-2 bg-white text-xs font-semibold ${f==="password"?"text-blue-600":v.password&&y.password?"text-red-500":"text-slate-600"} transition-colors duration-200`,children:"Password"}),r.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-4 flex items-center text-slate-400 hover:text-slate-600 transition-colors duration-200",onClick:()=>u(!a),tabIndex:-1,children:a?r.jsx(Dn,{className:"h-5 w-5"}):r.jsx(ts,{className:"h-5 w-5"})}),v.password&&y.password&&r.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[r.jsx("svg",{className:"w-4 h-4 mr-1.5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),v.password]})]}),r.jsxs("div",{className:"flex items-center justify-between pt-2",children:[r.jsxs("label",{className:"flex items-center cursor-pointer group",children:[r.jsx("div",{className:"relative",children:r.jsx("input",{type:"checkbox",checked:_,onChange:V=>B(V.target.checked),className:"h-5 w-5 text-blue-600 focus:ring-blue-500 border-slate-300 rounded-md transition-colors duration-200"})}),r.jsx("span",{className:"ml-3 text-sm text-slate-600 group-hover:text-slate-800 transition-colors duration-200",children:"Remember me for 30 days"})]}),r.jsx(Me,{to:"/forgot-password",className:"text-sm text-blue-600 hover:text-blue-700 font-semibold transition-colors duration-200 hover:underline decoration-blue-600/30",children:"Forgot password?"})]}),r.jsx("button",{type:"submit",disabled:d,className:"group relative w-full flex items-center justify-center py-3 sm:py-4 px-6 border border-transparent text-base font-semibold rounded-xl text-white bg-gradient-to-r from-blue-600 via-blue-500 to-blue-600 hover:from-blue-700 hover:via-blue-600 hover:to-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-500/50 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-[1.02] hover:shadow-lg active:scale-[0.98]",children:d?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing you in..."]}):r.jsxs(r.Fragment,{children:["Access Your Dashboard",r.jsx(Ya,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform duration-200"})]})}),r.jsxs("div",{className:"relative py-4",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:"w-full border-t border-slate-300"})}),r.jsx("div",{className:"relative flex justify-center text-sm",children:r.jsx("span",{className:"px-4 bg-white text-slate-500 font-medium",children:"Or continue with"})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("button",{type:"button",className:"w-full inline-flex justify-center items-center py-3 px-4 border-2 border-slate-200 rounded-xl shadow-sm bg-white text-sm font-semibold text-slate-700 hover:bg-gradient-to-r hover:from-slate-50 hover:to-slate-50 hover:border-slate-300 focus:outline-none focus:ring-4 focus:ring-slate-500/20 transition-all duration-200 hover:shadow-md group",children:[r.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[r.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),r.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),r.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),r.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),r.jsx("span",{className:"group-hover:text-slate-800 transition-colors duration-200",children:"Google"})]}),r.jsxs("button",{type:"button",className:"w-full inline-flex justify-center items-center py-3 px-4 border-2 border-slate-200 rounded-xl shadow-sm bg-white text-sm font-semibold text-slate-700 hover:bg-gradient-to-r hover:from-slate-50 hover:to-slate-50 hover:border-slate-300 focus:outline-none focus:ring-4 focus:ring-slate-500/20 transition-all duration-200 hover:shadow-md group",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),r.jsx("span",{className:"group-hover:text-slate-800 transition-colors duration-200",children:"GitHub"})]})]})]}),r.jsx("div",{className:"mt-8 text-center",children:r.jsxs("p",{className:"text-slate-600",children:["New to PUEFix Garage?"," ",r.jsx(Me,{to:"/register",className:"font-semibold text-blue-600 hover:text-blue-700 transition-colors duration-200",children:"Join our community "})]})})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("div",{className:"flex items-center justify-center space-x-6 text-slate-500 text-xs",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Mr,{className:"w-3 h-3"}),r.jsx("span",{children:"Trusted by 15K+ Customers"})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(ut,{className:"w-3 h-3"}),r.jsx("span",{children:"Secure & Reliable"})]})]})})]})})]})},B0="modulepreload",H0=function(i){return"/"+i},zd={},Cm=function(l,a,u){let d=Promise.resolve();if(a&&a.length>0){let E=function(y){return Promise.all(y.map(j=>Promise.resolve(j).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};var f=E;document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),v=g?.nonce||g?.getAttribute("nonce");d=E(a.map(y=>{if(y=H0(y),y in zd)return;zd[y]=!0;const j=y.endsWith(".css"),_=j?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${_}`))return;const B=document.createElement("link");if(B.rel=j?"stylesheet":B0,j||(B.as="script"),B.crossOrigin="",B.href=y,v&&B.setAttribute("nonce",v),document.head.appendChild(B),j)return new Promise((O,U)=>{B.addEventListener("load",O),B.addEventListener("error",()=>U(new Error(`Unable to preload CSS for ${y}`)))})}))}function h(g){const v=new Event("vite:preloadError",{cancelable:!0});if(v.payload=g,window.dispatchEvent(v),!v.defaultPrevented)throw g}return d.then(g=>{for(const v of g||[])v.status==="rejected"&&h(v.reason);return l().catch(h)})},q0=()=>{const[i,l]=k.useState({name:"",email:"",password:"",confirmPassword:"",carMake:"",carModel:"",carYear:"",licensePlate:"",vin:""}),[a,u]=k.useState(!1),[d,h]=k.useState(!1),[f,g]=k.useState(!1),[v,E]=k.useState(""),[y,j]=k.useState({}),[_,B]=k.useState({}),[O,U]=k.useState(!1),{register:L}=zt(),T=mr(),J=Co().shape({name:_t().trim().min(2,"Name must be at least 2 characters").max(50,"Name must not exceed 50 characters").matches(/^[a-zA-Z\s]+$/,"Name can only contain letters and spaces").required("Name is required"),email:_t().trim().email("Please enter a valid email address").max(100,"Email must not exceed 100 characters").required("Email is required"),password:_t().min(8,"Password must be at least 8 characters").max(50,"Password must not exceed 50 characters").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]/,"Password must contain at least one uppercase letter, one lowercase letter, one number, and one special character").required("Password is required"),confirmPassword:_t().oneOf([j0("password"),null],"Passwords must match").required("Please confirm your password"),carMake:_t().trim().max(50,"Make must not exceed 50 characters").optional(),carModel:_t().trim().max(50,"Model must not exceed 50 characters").optional(),carYear:_t().matches(/^\d{4}$/,"Enter a valid year").optional(),licensePlate:_t().trim().max(20,"License plate too long").optional(),vin:_t().trim().max(30,"VIN too long").optional(),terms:jm().oneOf([!0],"You must accept the terms and conditions")}),q=async(M,ie)=>{try{await J.validateAt(M,{...i,[M]:ie}),j(ce=>{const de={...ce};return delete de[M],de})}catch(ce){j(de=>({...de,[M]:ce.message}))}},K=async M=>{const{name:ie,value:ce}=M.target;if(l(de=>({...de,[ie]:ce})),_[ie]&&await q(ie,ce),ie==="password"&&_.confirmPassword&&i.confirmPassword)try{await J.validateAt("confirmPassword",{password:ce,confirmPassword:i.confirmPassword}),j(de=>{const Se={...de};return delete Se.confirmPassword,Se})}catch(de){j(Se=>({...Se,confirmPassword:de.message}))}},te=async M=>{const{name:ie,value:ce}=M.target;B(de=>({...de,[ie]:!0})),E(""),await q(ie,ce)},ue=()=>{if(!i.password)return 0;let M=0;return i.password.length>=8&&M++,i.password.length>=12&&M++,i.password.match(/[a-z]/)&&i.password.match(/[A-Z]/)&&M++,i.password.match(/[0-9]/)&&M++,i.password.match(/[^a-zA-Z0-9]/)&&M++,Math.min(M,4)},$=()=>{switch(ue()){case 0:return"Very weak";case 1:return"Weak";case 2:return"Fair";case 3:return"Good";case 4:return"Strong";default:return""}},D=()=>{const M=ue();return M<=1?"bg-red-500":M===2?"bg-yellow-400":"bg-blue-500"},V=["Create and manage your workshop profile","Track vehicle repair jobs and history","Book appointments and manage customers","Access invoices, payments and reports"],le=async M=>{M.preventDefault(),B({name:!0,email:!0,password:!0,confirmPassword:!0,terms:!0});try{if(await J.validate({...i,terms:O},{abortEarly:!1}),j({}),g(!0),(await L({name:i.name,email:i.email,password:i.password,role:"customer"}))?.success){const ce=JSON.parse(localStorage.getItem("user"));if(ce){if(i.carMake||i.carModel||i.licensePlate||i.vin)try{const de=i.carYear?parseInt(i.carYear,10):new Date().getFullYear();await(await Cm(async()=>{const{apiRequest:Se}=await Promise.resolve().then(()=>nm);return{apiRequest:Se}},void 0)).apiRequest("/cars",{method:"POST",body:{licensePlate:i.licensePlate||"UNKNOWN",customerName:i.name,customerPhone:"N/A",customerEmail:i.email,make:i.carMake||"Unknown",model:i.carModel||"Unknown",year:de,vin:i.vin||void 0}})}catch{}ce.role==="mechanic"?T("/mechanic",{replace:!0}):ce.role==="customer"?T("/customer",{replace:!0}):T("/dashboard",{replace:!0})}else T("/",{replace:!0})}}catch(ie){if(ie.inner){const ce={};ie.inner.forEach(de=>{ce[de.path]=de.message}),j(ce)}else j({submit:ie.message||"Registration failed. Please try again."})}finally{g(!1)}};return r.jsxs("div",{className:"min-h-screen flex bg-slate-50",children:[r.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-blue-600 via-blue-500 to-blue-700 p-12 flex-col justify-between relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-10",children:r.jsxs("svg",{viewBox:"0 0 1200 800",className:"w-full h-full",children:[r.jsx("defs",{children:r.jsxs("pattern",{id:"circuit",patternUnits:"userSpaceOnUse",width:"100",height:"100",children:[r.jsx("path",{d:"M20,20 L80,20 L80,80 L20,80 Z",fill:"none",stroke:"currentColor",strokeWidth:"2"}),r.jsx("circle",{cx:"20",cy:"20",r:"3",fill:"currentColor"}),r.jsx("circle",{cx:"80",cy:"20",r:"3",fill:"currentColor"}),r.jsx("circle",{cx:"80",cy:"80",r:"3",fill:"currentColor"}),r.jsx("circle",{cx:"20",cy:"80",r:"3",fill:"currentColor"}),r.jsx("path",{d:"M50,20 L50,80",stroke:"currentColor",strokeWidth:"1"}),r.jsx("path",{d:"M20,50 L80,50",stroke:"currentColor",strokeWidth:"1"})]})}),r.jsx("rect",{width:"100%",height:"100%",fill:"url(#circuit)"})]})}),r.jsxs("div",{className:"absolute inset-0 opacity-15",children:[r.jsx(Mr,{className:"absolute top-20 left-20 w-16 h-16 animate-pulse"}),r.jsx(im,{className:"absolute bottom-40 right-16 w-12 h-12 animate-bounce",style:{animationDelay:"1s"}}),r.jsx(lm,{className:"absolute top-1/2 right-32 w-14 h-14 animate-pulse",style:{animationDelay:"2s"}}),r.jsx(bo,{className:"absolute top-1/3 left-1/2 w-10 h-10 animate-spin",style:{animationDuration:"8s"}}),r.jsx(r0,{className:"absolute bottom-60 left-1/3 w-8 h-8 animate-pulse",style:{animationDelay:"3s"}})]}),r.jsxs("div",{className:"relative z-10",children:[r.jsxs(Me,{to:"/",className:"flex items-center text-white mb-20 group",children:[r.jsx("div",{className:"p-3 bg-white/20 rounded-2xl backdrop-blur-sm mr-4 group-hover:bg-white/30 transition-all duration-300 group-hover:scale-110",children:r.jsx(Mr,{className:"w-8 h-8"})}),r.jsxs("div",{children:[r.jsx("span",{className:"text-3xl font-bold block",children:"PUEFix Garage"}),r.jsx("span",{className:"text-blue-100 text-sm",children:"Auto Service Sri Lanka"})]})]}),r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h1",{className:"text-4xl xl:text-5xl font-bold text-white leading-tight",children:["Join Sri Lanka's",r.jsx("span",{className:"block text-blue-100",children:"leading auto service platform"})]}),r.jsx("p",{className:"text-xl text-blue-50 leading-relaxed",children:"Connect with thousands of satisfied customers who trust PUEFix Garage for their vehicle service and repair needs across Sri Lanka."})]}),r.jsx("div",{className:"pt-8 space-y-6",children:V.map((M,ie)=>r.jsxs("div",{className:"flex items-center text-white group",children:[r.jsx("div",{className:"p-1.5 bg-blue-400 rounded-full mr-4 group-hover:scale-110 transition-transform duration-200",children:r.jsx(ut,{className:"w-4 h-4 text-blue-800"})}),r.jsx("span",{className:"text-blue-50",children:M})]},ie))}),r.jsx("div",{className:"pt-8 border-t border-blue-400/30",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-blue-100",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:"15,000+"}),r.jsx("div",{className:"text-sm",children:"Happy Customers"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:"50+"}),r.jsx("div",{className:"text-sm",children:"Service Locations"})]})]})})]})]}),r.jsx("div",{className:"relative z-10 text-blue-100",children:r.jsx("p",{className:"text-sm",children:" 2025 PUEFix Garage. Your trusted auto service partner."})})]}),r.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-4 sm:p-6 lg:p-12",children:r.jsxs("div",{className:"w-full max-w-md",children:[r.jsx("div",{className:"lg:hidden text-center mb-8",children:r.jsxs(Me,{to:"/",className:"inline-flex items-center text-blue-600 group",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-xl mr-3 group-hover:bg-blue-200 transition-all duration-300",children:r.jsx(Mr,{className:"w-6 h-6"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("span",{className:"text-2xl font-bold block",children:"PUEFix Garage"}),r.jsx("span",{className:"text-blue-600 text-xs",children:"Auto Service Sri Lanka"})]})]})}),r.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border border-slate-200/60 p-6 sm:p-8 lg:p-10 backdrop-blur-sm",children:[r.jsxs("div",{className:"mb-8 text-center lg:text-left",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-slate-900 mb-3",children:"Create your account"}),r.jsx("p",{className:"text-slate-600 text-base sm:text-lg",children:"Sign up to access your PUEFix Garage dashboard"})]}),y.submit&&r.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-700 rounded-xl text-sm flex items-start",children:[r.jsx("div",{className:"flex-shrink-0 mr-2 mt-0.5",children:r.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),y.submit]}),r.jsxs("form",{onSubmit:le,className:"space-y-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:`absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none transition-colors duration-200 ${v==="name"?"text-blue-600":y.name&&_.name?"text-red-500":"text-slate-400"}`,children:r.jsx(Rs,{className:"w-5 h-5"})}),r.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",value:i.name,onChange:K,onFocus:()=>E("name"),onBlur:te,className:`block w-full pl-12 pr-4 py-3 sm:py-4 border-2 ${y.name&&_.name?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20":v==="name"?"border-blue-500 bg-gradient-to-r from-blue-50/30 to-blue-50/30 focus:border-blue-600":"border-slate-200 bg-gradient-to-r from-slate-50/50 to-slate-50/30 hover:border-slate-300 focus:border-blue-500"} rounded-xl text-slate-900 placeholder-slate-500 focus:outline-none focus:ring-4 focus:ring-blue-500/20 transition-all duration-200`,placeholder:"Enter your full name"}),r.jsx("label",{htmlFor:"name",className:`absolute -top-2.5 left-10 px-2 bg-white text-xs font-semibold ${v==="name"?"text-blue-600":y.name&&_.name?"text-red-500":"text-slate-600"} transition-colors duration-200`,children:"Full Name"}),y.name&&_.name&&r.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[r.jsx("svg",{className:"w-4 h-4 mr-1.5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),y.name]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Car Make"}),r.jsx("input",{name:"carMake",value:i.carMake,onChange:K,onBlur:te,className:"w-full px-3 py-2 border-2 border-slate-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-500/20",placeholder:"e.g., Toyota"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Car Model"}),r.jsx("input",{name:"carModel",value:i.carModel,onChange:K,onBlur:te,className:"w-full px-3 py-2 border-2 border-slate-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-500/20",placeholder:"e.g., Camry"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Year"}),r.jsx("input",{name:"carYear",value:i.carYear,onChange:K,onBlur:te,className:"w-full px-3 py-2 border-2 border-slate-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-500/20",placeholder:"e.g., 2020"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"License Plate"}),r.jsx("input",{name:"licensePlate",value:i.licensePlate,onChange:K,onBlur:te,className:"w-full px-3 py-2 border-2 border-slate-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-500/20",placeholder:"e.g., ABC-1234"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"VIN"}),r.jsx("input",{name:"vin",value:i.vin,onChange:K,onBlur:te,className:"w-full px-3 py-2 border-2 border-slate-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-500/20",placeholder:"Vehicle Identification Number (optional)"})]})]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:`absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none transition-colors duration-200 ${v==="email"?"text-blue-600":y.email&&_.email?"text-red-500":"text-slate-400"}`,children:r.jsx(sl,{className:"w-5 h-5"})}),r.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:i.email,onChange:K,onFocus:()=>E("email"),onBlur:te,className:`block w-full pl-12 pr-4 py-3 sm:py-4 border-2 ${y.email&&_.email?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20":v==="email"?"border-blue-500 bg-gradient-to-r from-blue-50/30 to-blue-50/30 focus:border-blue-600":"border-slate-200 bg-gradient-to-r from-slate-50/50 to-slate-50/30 hover:border-slate-300 focus:border-blue-500"} rounded-xl text-slate-900 placeholder-slate-500 focus:outline-none focus:ring-4 focus:ring-blue-500/20 transition-all duration-200`,placeholder:"Enter your email address"}),r.jsx("label",{htmlFor:"email",className:`absolute -top-2.5 left-10 px-2 bg-white text-xs font-semibold ${v==="email"?"text-blue-600":y.email&&_.email?"text-red-500":"text-slate-600"} transition-colors duration-200`,children:"Email Address"}),y.email&&_.email&&r.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[r.jsx("svg",{className:"w-4 h-4 mr-1.5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),y.email]})]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:`absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none transition-colors duration-200 ${v==="password"?"text-blue-600":y.password&&_.password?"text-red-500":"text-slate-400"}`,children:r.jsx(oo,{className:"w-5 h-5"})}),r.jsx("input",{id:"password",name:"password",type:a?"text":"password",autoComplete:"new-password",value:i.password,onChange:K,onFocus:()=>E("password"),onBlur:te,className:`block w-full pl-12 pr-12 py-3 sm:py-4 border-2 ${y.password&&_.password?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20":v==="password"?"border-blue-500 bg-gradient-to-r from-blue-50/30 to-blue-50/30 focus:border-blue-600":"border-slate-200 bg-gradient-to-r from-slate-50/50 to-slate-50/30 hover:border-slate-300 focus:border-blue-500"} rounded-xl text-slate-900 placeholder-slate-500 focus:outline-none focus:ring-4 focus:ring-blue-500/20 transition-all duration-200`,placeholder:"Create a strong password"}),r.jsx("label",{htmlFor:"password",className:`absolute -top-2.5 left-10 px-2 bg-white text-xs font-semibold ${v==="password"?"text-blue-600":y.password&&_.password?"text-red-500":"text-slate-600"} transition-colors duration-200`,children:"Password"}),r.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-4 flex items-center text-slate-400 hover:text-slate-600 transition-colors duration-200",onClick:()=>u(!a),children:a?r.jsx(Dn,{className:"h-5 w-5"}):r.jsx(ts,{className:"h-5 w-5"})}),i.password&&r.jsxs("div",{className:"mt-3",children:[r.jsx("div",{className:"flex space-x-1",children:[...Array(4)].map((M,ie)=>r.jsx("div",{className:`h-1.5 flex-1 rounded-full transition-all duration-300 ${ie<ue()?D():"bg-slate-200"}`},ie))}),r.jsxs("p",{className:`text-xs mt-2 font-medium ${ue()<=1?"text-red-500":ue()===2?"text-yellow-600":"text-blue-600"}`,children:["Password strength: ",$()]})]}),y.password&&_.password&&r.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-start",children:[r.jsx("svg",{className:"w-4 h-4 mr-1.5 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),r.jsx("span",{children:y.password})]})]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:`absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none transition-colors duration-200 ${v==="confirmPassword"?"text-blue-600":y.confirmPassword&&_.confirmPassword?"text-red-500":"text-slate-400"}`,children:r.jsx(oo,{className:"w-5 h-5"})}),r.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:d?"text":"password",autoComplete:"new-password",value:i.confirmPassword,onChange:K,onFocus:()=>E("confirmPassword"),onBlur:te,className:`block w-full pl-12 pr-12 py-3 sm:py-4 border-2 ${y.confirmPassword&&_.confirmPassword?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20":v==="confirmPassword"?"border-blue-500 bg-gradient-to-r from-blue-50/30 to-blue-50/30 focus:border-blue-600":"border-slate-200 bg-gradient-to-r from-slate-50/50 to-slate-50/30 hover:border-slate-300 focus:border-blue-500"} rounded-xl text-slate-900 placeholder-slate-500 focus:outline-none focus:ring-4 focus:ring-blue-500/20 transition-all duration-200`,placeholder:"Confirm your password"}),r.jsx("label",{htmlFor:"confirmPassword",className:`absolute -top-2.5 left-10 px-2 bg-white text-xs font-semibold ${v==="confirmPassword"?"text-blue-600":y.confirmPassword&&_.confirmPassword?"text-red-500":"text-slate-600"} transition-colors duration-200`,children:"Confirm Password"}),r.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-4 flex items-center text-slate-400 hover:text-slate-600 transition-colors duration-200",onClick:()=>h(!d),children:d?r.jsx(Dn,{className:"h-5 w-5"}):r.jsx(ts,{className:"h-5 w-5"})}),y.confirmPassword&&_.confirmPassword&&r.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[r.jsx("svg",{className:"w-4 h-4 mr-1.5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),y.confirmPassword]}),i.confirmPassword&&!y.confirmPassword&&i.password===i.confirmPassword&&r.jsxs("p",{className:"mt-2 text-sm text-blue-600 flex items-center",children:[r.jsx(ut,{className:"w-4 h-4 mr-1.5"}),"Passwords match perfectly"]})]}),r.jsxs("div",{className:"pt-2",children:[r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"relative",children:r.jsx("input",{id:"terms",type:"checkbox",checked:O,onChange:M=>{U(M.target.checked),M.target.checked&&y.terms&&j(ie=>{const ce={...ie};return delete ce.terms,ce})},className:`h-5 w-5 mt-0.5 ${y.terms&&_.terms?"border-red-500 text-red-500":"text-blue-600"} focus:ring-blue-500 border-slate-300 rounded-md transition-colors duration-200`})}),r.jsxs("label",{htmlFor:"terms",className:"ml-3 block text-sm text-slate-600 leading-relaxed",children:["I agree to the"," ",r.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-700 font-semibold underline decoration-blue-600/30 hover:decoration-blue-700 transition-colors duration-200",children:"Terms and Conditions"})," ","and"," ",r.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-700 font-semibold underline decoration-blue-600/30 hover:decoration-blue-700 transition-colors duration-200",children:"Privacy Policy"})]})]}),y.terms&&_.terms&&r.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center ml-8",children:[r.jsx("svg",{className:"w-4 h-4 mr-1.5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),y.terms]})]}),r.jsx("button",{type:"submit",disabled:f,className:"group relative w-full flex items-center justify-center py-3 sm:py-4 px-6 border border-transparent text-base font-semibold rounded-xl text-white bg-gradient-to-r from-blue-600 via-blue-500 to-blue-600 hover:from-blue-700 hover:via-blue-600 hover:to-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-500/50 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-[1.02] hover:shadow-lg active:scale-[0.98]",children:f?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating your account..."]}):r.jsxs(r.Fragment,{children:["Join PUEFix Garage",r.jsx(Ya,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform duration-200"})]})}),r.jsxs("div",{className:"relative py-4",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:"w-full border-t border-slate-300"})}),r.jsx("div",{className:"relative flex justify-center text-sm",children:r.jsx("span",{className:"px-4 bg-white text-slate-500 font-medium",children:"Or continue with"})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("button",{type:"button",className:"w-full inline-flex justify-center items-center py-3 px-4 border-2 border-slate-200 rounded-xl shadow-sm bg-white text-sm font-semibold text-slate-700 hover:bg-gradient-to-r hover:from-slate-50 hover:to-slate-50 hover:border-slate-300 focus:outline-none focus:ring-4 focus:ring-slate-500/20 transition-all duration-200 hover:shadow-md group",children:[r.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[r.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),r.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),r.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),r.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),r.jsx("span",{className:"group-hover:text-slate-800 transition-colors duration-200",children:"Google"})]}),r.jsxs("button",{type:"button",className:"w-full inline-flex justify-center items-center py-3 px-4 border-2 border-slate-200 rounded-xl shadow-sm bg-white text-sm font-semibold text-slate-700 hover:bg-gradient-to-r hover:from-slate-50 hover:to-slate-50 hover:border-slate-300 focus:outline-none focus:ring-4 focus:ring-slate-500/20 transition-all duration-200 hover:shadow-md group",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),r.jsx("span",{className:"group-hover:text-slate-800 transition-colors duration-200",children:"GitHub"})]})]})]}),r.jsx("div",{className:"mt-8 text-center",children:r.jsxs("p",{className:"text-slate-600",children:["Already have an account?"," ",r.jsx(Me,{to:"/login",className:"font-semibold text-blue-600 hover:text-blue-700 transition-colors duration-200",children:"Sign in "})]})})]})]})})]})};function W0(){const[i,l]=k.useState(""),[a,u]=k.useState("");function d(h){if(h.preventDefault(),!i){u("Please enter your email address.");return}u("If this email exists, a reset link has been sent.")}return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:r.jsxs("div",{className:"w-full max-w-md bg-white shadow rounded p-6",children:[r.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Forgot Password"}),r.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Enter the email address associated with your account and we'll send you a link to reset your password."}),r.jsxs("form",{onSubmit:d,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),r.jsx("input",{id:"email",type:"email",value:i,onChange:h=>l(h.target.value),className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring focus:border-blue-500",placeholder:"you@example.com",required:!0})]}),r.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition",children:"Send Reset Link"})]}),a&&r.jsx("div",{className:"mt-4 text-sm text-gray-700",children:a})]})})}const J0=()=>{const[i,l]=k.useState({code:"",newPassword:"",confirmPassword:""}),[a,u]=k.useState(!1),[d,h]=k.useState(!1),[f,g]=k.useState(!1),[v,E]=k.useState(!1),{resetPassword:y,loading:j,error:_,clearError:B}=zt(),O=mr(),L=Zt().state?.email;k.useEffect(()=>{g(!0),B(),L||O("/forgot-password")},[B,L,O]);const T=q=>{l({...i,[q.target.name]:q.target.value}),_&&B()},J=async q=>{if(q.preventDefault(),i.newPassword!==i.confirmPassword)return;(await y(L,i.code,i.newPassword)).success&&E(!0)};return v?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-md w-full space-y-8",children:[r.jsxs("div",{className:`text-center transition-all duration-1000 ${f?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-green-600 to-emerald-600 rounded-full flex items-center justify-center text-white mx-auto mb-4",children:r.jsx(ut,{className:"w-8 h-8"})}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Password Reset Successfully!"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Your password has been updated. You can now sign in with your new password."})]}),r.jsx("div",{className:`bg-white py-8 px-6 shadow-xl rounded-2xl transition-all duration-1000 delay-200 ${f?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-center space-x-2 text-green-600",children:[r.jsx(dm,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm font-medium",children:"Password updated successfully"})]}),r.jsx("button",{onClick:()=>O("/login"),className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-4 rounded-lg font-semibold hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 transform hover:scale-105",children:"Sign In Now"})]})})]})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-md w-full space-y-8",children:[r.jsxs("div",{className:`text-center transition-all duration-1000 ${f?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[r.jsxs(Me,{to:"/forgot-password",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-6 transition-colors",children:[r.jsx(Yp,{className:"w-4 h-4 mr-2"}),"Back to Forgot Password"]}),r.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-full flex items-center justify-center text-white mx-auto mb-4",children:r.jsx(ct,{className:"w-8 h-8"})}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Reset Password"}),r.jsxs("p",{className:"text-gray-600",children:["Enter the verification code sent to ",r.jsx("strong",{children:L})," and your new password."]})]}),r.jsxs("div",{className:`bg-white py-8 px-6 shadow-xl rounded-2xl transition-all duration-1000 delay-200 ${f?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[r.jsxs("form",{className:"space-y-6",onSubmit:J,children:[_&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-2",children:[r.jsx(Mn,{className:"w-5 h-5 text-red-500"}),r.jsx("span",{className:"text-red-700 text-sm",children:_})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"code",className:"block text-sm font-medium text-gray-700 mb-2",children:"Verification Code"}),r.jsx("input",{id:"code",name:"code",type:"text",required:!0,maxLength:"6",value:i.code,onChange:T,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors text-center text-2xl font-mono tracking-widest",placeholder:"000000"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter the 6-digit code sent to your email"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"newPassword",name:"newPassword",type:a?"text":"password",autoComplete:"new-password",required:!0,value:i.newPassword,onChange:T,className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Enter new password"}),r.jsx("button",{type:"button",onClick:()=>u(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:a?r.jsx(Dn,{className:"w-5 h-5"}):r.jsx(ts,{className:"w-5 h-5"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:d?"text":"password",autoComplete:"new-password",required:!0,value:i.confirmPassword,onChange:T,className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Confirm new password"}),r.jsx("button",{type:"button",onClick:()=>h(!d),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:d?r.jsx(Dn,{className:"w-5 h-5"}):r.jsx(ts,{className:"w-5 h-5"})})]}),i.newPassword&&i.confirmPassword&&i.newPassword!==i.confirmPassword&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Passwords do not match"})]}),r.jsx("button",{type:"submit",disabled:j||i.newPassword!==i.confirmPassword,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-4 rounded-lg font-semibold hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105 flex items-center justify-center space-x-2",children:j?r.jsxs(r.Fragment,{children:[r.jsx(om,{className:"w-5 h-5 animate-spin"}),r.jsx("span",{children:"Resetting Password..."})]}):r.jsx("span",{children:"Reset Password"})})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("p",{className:"text-sm text-gray-600",children:["Didn't receive the code?"," ",r.jsx(Me,{to:"/forgot-password",className:"text-blue-600 hover:text-blue-700 font-medium transition-colors",children:"Try again"})]})})]})]})})};function Gt({title:i,subtitle:l="",generatedAt:a=new Date,columns:u=[],rows:d=[]}){const h=`
    <style>
      body { font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; padding: 24px; color: #111827; }
      h1 { font-size: 20px; margin: 0 0 4px; }
      h2 { font-size: 14px; margin: 0 0 16px; color: #6B7280; }
      .meta { font-size: 12px; color: #6B7280; margin-bottom: 16px; }
      table { width: 100%; border-collapse: collapse; font-size: 12px; }
      th, td { border: 1px solid #E5E7EB; padding: 8px; text-align: left; }
      th { background: #F3F4F6; font-weight: 600; }
      tr:nth-child(even) td { background: #FAFAFA; }
      .footer { margin-top: 16px; font-size: 11px; color: #6B7280; }
    </style>
  `,f=`
    <h1>${Cn(i)}</h1>
    ${l?`<h2>${Cn(l)}</h2>`:""}
    <div class="meta">Generated at ${new Date(a).toLocaleString()}</div>
  `,g=`<tr>${u.map(j=>`<th>${Cn(j)}</th>`).join("")}</tr>`,v=d.map(j=>`<tr>${j.map(_=>`<td>${Cn(String(_??""))}</td>`).join("")}</tr>`).join(""),E=`<table>${g}${v}</table>`;return`<!doctype html><html><head><meta charset="utf-8"/>${h}</head><body>${f}${E}<div class="footer">PUEFix Garage  Reports</div></body></html>`}function Qt(i,l="report.pdf"){const a=window.open("","_blank");a&&(a.document.open(),a.document.write(i.replace("<head>",`<head><title>${Cn(l)}</title>`)),a.document.close(),a.focus(),setTimeout(()=>{a.print()},300))}function Cn(i){return i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function G0(){try{const i=localStorage.getItem("token");if(i)return i;const l=localStorage.getItem("user");return l?JSON.parse(l)?.token:null}catch{return null}}async function Yt(i,l){const a=G0(),u=await fetch(`${wo}${i}`,{method:"GET",headers:{...a?{Authorization:`Bearer ${a}`}:{}}});if(!u.ok){const g=await u.text();throw new Error(g||`Failed to download (${u.status})`)}const d=await u.blob(),h=window.URL.createObjectURL(d),f=document.createElement("a");f.href=h,f.download=l,document.body.appendChild(f),f.click(),f.remove(),window.URL.revokeObjectURL(h)}const Ud=async({search:i="",page:l=1,limit:a=50,role:u="customer"}={})=>{const d=new URLSearchParams;return i&&d.set("search",i),u&&d.set("role",u),d.set("page",String(l)),d.set("limit",String(a)),ge(`/users?${d.toString()}`)},Vd=async(i,{name:l,role:a,email:u,phone:d,address:h,nic:f}={})=>{const g={};return typeof l=="string"&&(g.name=l),typeof a=="string"&&(g.role=a),typeof u=="string"&&(g.email=u),typeof d=="string"&&(g.phone=d),typeof h=="string"&&(g.address=h),typeof f=="string"&&(g.nic=f),ge(`/users/${i}`,{method:"PUT",body:g})},Bd=async i=>ge(`/users/${i}`,{method:"DELETE"}),so=async({name:i,email:l,role:a,phone:u,address:d,nic:h,password:f})=>{const g={name:i,email:l,role:a,phone:u,address:d,nic:h};return typeof f=="string"&&f.length>0&&(g.password=f),ge("/users",{method:"POST",body:g})},Q0=async i=>ge("/users/mechanics/reset-password-nic",{method:"POST",body:{nic:i}}),Y0=()=>{const{state:i}=ss(),l=mr(),[a,u]=k.useState([]),{show:d}=nl(),[h,f]=k.useState([]),[g,v]=k.useState(!1),[E,y]=k.useState(""),[j,_]=k.useState(null),[B,O]=k.useState({name:"",email:"",phone:"",address:"",nic:""}),[U,L]=k.useState([]),[T,J]=k.useState(!1),[q,K]=k.useState(""),[te,ue]=k.useState(null),[$,D]=k.useState({name:"",email:"",phone:"",address:"",nic:""}),[V,le]=k.useState({name:"",email:"",phone:"",address:"",nic:"",password:""}),[M,ie]=k.useState(""),[ce,de]=k.useState({name:"",email:"",nic:"",password:""}),[Se,Te]=k.useState({name:"",email:"",phone:"",nic:"",password:""});k.useEffect(()=>{(async()=>{try{const Ce=((await ge("/appointments")).data||[]).filter(Je=>new Date(Je.preferredDate)>=new Date).sort((Je,at)=>new Date(Je.preferredDate)-new Date(at.preferredDate));u(Ce)}catch(P){console.error("Failed to load appointments:",P)}})()},[]),k.useEffect(()=>{i?.user?.role==="owner"&&I()},[E]),k.useEffect(()=>{i?.user?.role==="owner"&&ee()},[q]);async function I(){try{v(!0);const P=await Ud({search:E,role:"customer",limit:100});f(P?.data||[])}catch{d("Failed to load customers","error")}finally{v(!1)}}const G=P=>{_(P._id),O({name:P.name||"",email:P.email||"",phone:P.phone||"",address:P.address||"",nic:P.nic||""})},ne=async()=>{try{await Yt("/reports/cars","car-profiles-report.pdf")}catch(P){d(P?.message||"Failed to download car profiles PDF","error")}},x=async()=>{try{await Yt("/reports/jobs","job-sheet-report.pdf")}catch(P){d(P?.message||"Failed to download job sheet PDF","error")}},p=async()=>{try{await Yt("/reports/inventory","inventory-report.pdf")}catch(P){d(P?.message||"Failed to download inventory PDF","error")}},b=async()=>{try{await Yt("/reports/mechanics","mechanics-report.pdf")}catch(P){d(P?.message||"Failed to download mechanics PDF","error")}},z=async()=>{try{await Yt("/reports/payments","payments-report.pdf")}catch(P){d(P?.message||"Failed to download payments PDF","error")}};async function ee(){try{J(!0);const P=await Ud({search:q,role:"receptionist",limit:100});L(P?.data||[])}catch{d("Failed to load receptionists","error")}finally{J(!1)}}const ae=P=>{ue(P._id),D({name:P.name||"",email:P.email||"",phone:P.phone||"",address:P.address||"",nic:P.nic||""})},re=()=>{ue(null),D({name:"",email:"",phone:"",address:"",nic:""})},je=async P=>{try{await Vd(P,{...$,role:"receptionist"}),await ee(),re(),d("Receptionist updated","success")}catch{d("Failed to update receptionist","error")}},S=async P=>{if(window.confirm("Delete this receptionist?"))try{await Bd(P),await ee(),d("Receptionist deleted","success")}catch{d("Failed to delete receptionist","error")}},H=P=>{const{name:he,value:Ce}=P.target;le(Je=>({...Je,[he]:Ce}))},se=async()=>{try{if(!V.name||!V.email){d("Name and Email are required","error");return}const P={...V,role:"receptionist"};!P.password&&P.nic&&(P.password=P.nic),await so(P),le({name:"",email:"",phone:"",address:"",nic:"",password:""}),await ee(),d("Receptionist added. Initial password is NIC.","success")}catch(P){d(P?.message||"Failed to add receptionist","error")}},W=async()=>{try{if(!M){d("Please enter NIC","error");return}await Q0(M),ie(""),d("Mechanic password reset to NIC","success")}catch(P){d(P?.message||"Failed to reset mechanic password","error")}},ke=()=>{_(null),O({name:"",email:"",phone:"",address:"",nic:""})},Le=async()=>{try{const P=await ge("/cars"),he=Array.isArray(P?.data)?P.data:[],Ce=["License Plate","Customer","Phone","Email","Make","Model","Year","Created"],Je=he.map(we=>[we.licensePlate,we.customerName,we.customerPhone,we.customerEmail||"-",we.make,we.model,String(we.year||""),new Date(we.createdAt||Date.now()).toLocaleDateString()]),at=Gt({title:"Car Profiles Report",columns:Ce,rows:Je});Qt(at,"car-profiles-report.pdf")}catch(P){d(P?.message||"Failed to generate car profiles report","error")}},Dt=async()=>{try{const P=await ge("/jobs"),he=Array.isArray(P?.data)?P.data:[],Ce=["Job ID","Car ID","Assigned Mechanic","Status","Estimated Completion"],Je=he.map(we=>[we.id||we._id||"-",(typeof we.car=="object"?we.car?.id||we.car?._id:we.car)||"-",we.assignedMechanic||"-",we.status,we.estimatedCompletion?new Date(we.estimatedCompletion).toLocaleString():"-"]),at=Gt({title:"Job Sheet Report",columns:Ce,rows:Je});Qt(at,"job-sheet-report.pdf")}catch(P){d(P?.message||"Failed to generate job sheet report","error")}},dt=async()=>{try{const P=await ge("/inventory"),he=Array.isArray(P?.data)?P.data:[],Ce=["Item","SKU","Quantity","Unit Price","Category","Updated"],Je=he.map(we=>[we.name||"-",we.sku||"-",String(we.quantity??""),typeof we.price=="number"?we.price.toFixed(2):"-",we.category||"-",new Date(we.updatedAt||we.createdAt||Date.now()).toLocaleDateString()]),at=Gt({title:"Inventory Report",columns:Ce,rows:Je});Qt(at,"inventory-report.pdf")}catch(P){d(P?.message||"Failed to generate inventory report","error")}},Is=async()=>{try{const P=await ge("/mechanics"),he=Array.isArray(P?.data)?P.data:[],Ce=["Name","Email","Phone","Availability","Experience"],Je=he.map(we=>[we.name,we.email,we.phone||"-",we.availability||"-",we.experience||"-"]),at=Gt({title:"Mechanics Report",columns:Ce,rows:Je});Qt(at,"mechanics-report.pdf")}catch(P){d(P?.message||"Failed to generate mechanics report","error")}},Xe=async()=>{try{const P=await ge("/payments"),he=Array.isArray(P?.data)?P.data:[],Ce=["Payment ID","Customer","Amount","Method","Status","Date"],Je=he.map(we=>[we.id||we._id||"-",we.customerName||we.customer||"-",typeof we.amount=="number"?we.amount.toFixed(2):"-",we.method||"-",we.status||"-",new Date(we.createdAt||Date.now()).toLocaleString()]),at=Gt({title:"Payments Report",columns:Ce,rows:Je});Qt(at,"payments-report.pdf")}catch(P){d(P?.message||"Failed to generate payments report","error")}},Rn=async P=>{try{await Vd(P,{...B,role:"customer"}),await I(),ke(),d("Customer updated","success")}catch{d("Failed to update customer","error")}},$s=async P=>{if(window.confirm("Delete this customer?"))try{await Bd(P),await I(),d("Customer deleted","success")}catch{d("Failed to delete customer","error")}},$r=[{name:"Total Cars",value:i.cars.length,icon:As,color:"text-blue-600",bgColor:"bg-blue-100"},{name:"Active Jobs",value:i.jobSheets.filter(P=>P.status==="in_progress").length,icon:ct,color:"text-orange-600",bgColor:"bg-orange-100"},{name:"Low Stock Items",value:i.inventory.filter(P=>P.quantity<=P.minThreshold).length,icon:Tn,color:"text-red-600",bgColor:"bg-red-100"},{name:"Total Revenue",value:`$${i.payments.reduce((P,he)=>P+he.amount,0).toFixed(2)}`,icon:cr,color:"text-green-600",bgColor:"bg-green-100"}],hr=i.jobSheets.slice(0,5),ns=i.inventory.filter(P=>P.quantity<=P.minThreshold);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),r.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Welcome back, ",i.user.name,"! Here's what's happening at your workshop."]})]}),r.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:$r.map(P=>{const he=P.icon;return r.jsx("div",{className:"card",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`flex-shrink-0 p-3 rounded-lg ${P.bgColor}`,children:r.jsx(he,{className:`h-6 w-6 ${P.color}`})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:P.name}),r.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:P.value})]})]})},P.name)})}),r.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Jobs"}),r.jsx(Me,{to:"/dashboard/jobs",className:"text-sm text-primary-600 hover:text-primary-500",children:"View all"})]}),r.jsx("div",{className:"space-y-3",children:hr.map(P=>{const he=i.cars.find(Ce=>Ce.id===P.carId);return r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:he?`${he.make} ${he.model}`:"Unknown Car"}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Assigned to: ",P.assignedMechanic]})]}),r.jsx("div",{className:"flex items-center",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${P.status==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:P.status==="completed"?"Completed":"In Progress"})})]},P.id)})})]}),r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Low Stock Alert"}),r.jsx(Me,{to:"/dashboard/inventory",className:"text-sm text-primary-600 hover:text-primary-500",children:"Manage inventory"})]}),r.jsx("div",{className:"space-y-3",children:ns.length>0?ns.map(P=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:P.name}),r.jsxs("p",{className:"text-xs text-gray-500",children:[P.quantity," remaining (min: ",P.minThreshold,")"]})]}),r.jsx(Tn,{className:"h-5 w-5 text-red-500"})]},P.id)):r.jsxs("div",{className:"flex items-center justify-center p-6 text-gray-500",children:[r.jsx(ut,{className:"h-8 w-8 text-green-500 mr-2"}),r.jsx("span",{children:"All items are well stocked"})]})})]}),r.jsxs("div",{className:"card lg:col-span-2",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Upcoming Appointments"})}),r.jsx("div",{className:"space-y-3",children:a.length>0?a.slice(0,6).map(P=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[P.customerName," - ",P.vehicle]}),r.jsxs("p",{className:"text-xs text-gray-500",children:[P.serviceType," on ",new Date(P.preferredDate).toLocaleDateString()]})]}),r.jsx("button",{onClick:()=>l("/dashboard/jobs",{state:{prefillFromAppointment:P}}),className:"text-primary-600 hover:text-primary-500 text-sm font-medium",children:"Create Job Sheet"})]},P.id)):r.jsx("div",{className:"flex items-center justify-center p-6 text-gray-500",children:r.jsx("span",{children:"No upcoming appointments"})})})]})]}),i?.user?.role==="owner"&&r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Customers"}),r.jsxs("div",{className:"relative",children:[r.jsx(Ms,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search customers...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 w-64",value:E,onChange:P=>y(P.target.value)})]})]}),g?r.jsx("div",{className:"flex justify-center items-center p-6",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):h.length===0?r.jsx("div",{className:"text-center p-8 text-gray-500",children:"No customers found."}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Address"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"NIC"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(P=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:j===P._id?r.jsx("input",{type:"text",value:B.name,onChange:he=>O(Ce=>({...Ce,name:he.target.value})),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"}):r.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:j===P._id?r.jsx("input",{type:"email",value:B.email,onChange:he=>O(Ce=>({...Ce,email:he.target.value})),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"}):r.jsx("div",{className:"text-sm text-gray-900",children:P.email})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:j===P._id?r.jsx("input",{type:"tel",value:B.phone,onChange:he=>O(Ce=>({...Ce,phone:he.target.value})),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"}):r.jsx("div",{className:"text-sm text-gray-900",children:P.phone||""})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:j===P._id?r.jsx("input",{type:"text",value:B.address,onChange:he=>O(Ce=>({...Ce,address:he.target.value})),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"}):r.jsx("div",{className:"text-sm text-gray-900",children:P.address||""})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:j===P._id?r.jsx("input",{type:"text",value:B.nic,onChange:he=>O(Ce=>({...Ce,nic:he.target.value})),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"}):r.jsx("div",{className:"text-sm text-gray-900",children:P.nic||""})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:j===P._id?r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx("button",{onClick:ke,className:"text-gray-400 hover:text-gray-600",title:"Cancel",children:r.jsx(Tt,{className:"h-5 w-5"})}),r.jsx("button",{onClick:()=>Rn(P._id),className:"text-green-600 hover:text-green-900",title:"Save",children:r.jsx(Td,{className:"h-5 w-5"})})]}):r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{onClick:()=>G(P),className:"text-blue-600 hover:text-blue-900",title:"Edit",children:r.jsx(ur,{className:"h-5 w-5"})}),r.jsx("button",{onClick:()=>$s(P._id),className:"text-red-600 hover:text-red-900",title:"Delete",children:r.jsx(Kt,{className:"h-5 w-5"})})]})})]},P._id))})]})})]}),(i?.user?.role==="owner"||i?.user?.role==="receptionist")&&r.jsxs("div",{className:"card",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Reports"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[r.jsxs("div",{className:"flex gap-2 flex-wrap",children:[r.jsx("button",{onClick:Le,className:"btn-secondary",children:"Generate Car Profiles PDF"}),r.jsx("button",{onClick:ne,className:"btn-secondary",children:"Download Car Profiles PDF"})]}),r.jsxs("div",{className:"flex gap-2 flex-wrap",children:[r.jsx("button",{onClick:Dt,className:"btn-secondary",children:"Generate Job Sheet PDF"}),r.jsx("button",{onClick:x,className:"btn-secondary",children:"Download Job Sheet PDF"})]}),r.jsxs("div",{className:"flex gap-2 flex-wrap",children:[r.jsx("button",{onClick:dt,className:"btn-secondary",children:"Generate Inventory PDF"}),r.jsx("button",{onClick:p,className:"btn-secondary",children:"Download Inventory PDF"})]}),r.jsxs("div",{className:"flex gap-2 flex-wrap",children:[r.jsx("button",{onClick:Is,className:"btn-secondary",children:"Generate Mechanics PDF"}),r.jsx("button",{onClick:b,className:"btn-secondary",children:"Download Mechanics PDF"})]}),r.jsxs("div",{className:"flex gap-2 flex-wrap",children:[r.jsx("button",{onClick:Xe,className:"btn-secondary",children:"Generate Payments PDF"}),r.jsx("button",{onClick:z,className:"btn-secondary",children:"Download Payments PDF"})]})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Reports open in a new tab and can be saved as PDF via the browser's print dialog."})]}),i?.user?.role==="owner"&&r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Receptionists"}),r.jsx("div",{className:"flex items-center gap-3",children:r.jsxs("div",{className:"relative",children:[r.jsx(Ms,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search receptionists...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 w-64",value:q,onChange:P=>K(P.target.value)})]})})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-3",children:[r.jsx("input",{name:"name",value:V.name,onChange:H,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"Name"}),r.jsx("input",{name:"email",value:V.email,onChange:H,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"Email",type:"email"}),r.jsx("input",{name:"phone",value:V.phone,onChange:H,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"Phone"}),r.jsx("input",{name:"address",value:V.address,onChange:H,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"Address"}),r.jsx("input",{name:"nic",value:V.nic,onChange:H,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"NIC (used as password)"}),r.jsx("input",{name:"password",value:V.password,onChange:H,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"Password (defaults to NIC)"})]}),r.jsx("div",{className:"mt-3 flex justify-end",children:r.jsxs("button",{onClick:se,className:"inline-flex items-center px-4 py-2 text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700",children:[r.jsx(Xi,{className:"h-4 w-4 mr-2"})," Add Receptionist"]})})]}),T?r.jsx("div",{className:"flex justify-center items-center p-6",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):U.length===0?r.jsx("div",{className:"text-center p-8 text-gray-500",children:"No receptionists found."}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Address"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"NIC"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:U.map(P=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:te===P._id?r.jsx("input",{value:$.name,onChange:he=>D(Ce=>({...Ce,name:he.target.value})),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"}):r.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:te===P._id?r.jsx("input",{type:"email",value:$.email,onChange:he=>D(Ce=>({...Ce,email:he.target.value})),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"}):r.jsx("div",{className:"text-sm text-gray-900",children:P.email})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:te===P._id?r.jsx("input",{value:$.phone,onChange:he=>D(Ce=>({...Ce,phone:he.target.value})),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"}):r.jsx("div",{className:"text-sm text-gray-900",children:P.phone||""})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:te===P._id?r.jsx("input",{value:$.address,onChange:he=>D(Ce=>({...Ce,address:he.target.value})),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"}):r.jsx("div",{className:"text-sm text-gray-900",children:P.address||""})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:te===P._id?r.jsx("input",{value:$.nic,onChange:he=>D(Ce=>({...Ce,nic:he.target.value})),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"}):r.jsx("div",{className:"text-sm text-gray-900",children:P.nic||""})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:te===P._id?r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx("button",{onClick:re,className:"text-gray-400 hover:text-gray-600",title:"Cancel",children:r.jsx(Tt,{className:"h-5 w-5"})}),r.jsx("button",{onClick:()=>je(P._id),className:"text-green-600 hover:text-green-900",title:"Save",children:r.jsx(Td,{className:"h-5 w-5"})})]}):r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{onClick:()=>ae(P),className:"text-blue-600 hover:text-blue-900",title:"Edit",children:r.jsx(ur,{className:"h-5 w-5"})}),r.jsx("button",{onClick:()=>S(P._id),className:"text-red-600 hover:text-red-900",title:"Delete",children:r.jsx(Kt,{className:"h-5 w-5"})})]})})]},P._id))})]})})]}),i?.user?.role==="owner"&&r.jsxs("div",{className:"card",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Mechanic - Reset Initial Password"})}),r.jsxs("div",{className:"flex flex-col md:flex-row gap-3 md:items-center",children:[r.jsx("input",{type:"text",placeholder:"Enter Mechanic NIC",className:"block w-full md:w-80 rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",value:M,onChange:P=>ie(P.target.value)}),r.jsxs("button",{onClick:W,className:"inline-flex items-center px-4 py-2 text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700",children:[r.jsx(e0,{className:"h-4 w-4 mr-2"})," Reset to NIC"]})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"This will set the mechanic's password to their NIC."}),r.jsxs("div",{className:"mt-6 bg-gray-50 rounded-lg p-4",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-800 mb-3",children:"Create Mechanic Login Account"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-3",children:[r.jsx("input",{placeholder:"Name",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",value:Se.name,onChange:P=>Te(he=>({...he,name:P.target.value}))}),r.jsx("input",{placeholder:"Email",type:"email",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",value:Se.email,onChange:P=>Te(he=>({...he,email:P.target.value}))}),r.jsx("input",{placeholder:"Phone",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",value:Se.phone,onChange:P=>Te(he=>({...he,phone:P.target.value}))}),r.jsx("input",{placeholder:"NIC (used as password)",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",value:Se.nic,onChange:P=>Te(he=>({...he,nic:P.target.value}))}),r.jsx("input",{placeholder:"Password (defaults to NIC)",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",value:Se.password,onChange:P=>Te(he=>({...he,password:P.target.value}))})]}),r.jsx("div",{className:"mt-3 flex justify-end",children:r.jsxs("button",{onClick:async()=>{try{if(!Se.name||!Se.email){d("Name and Email are required","error");return}const P={...Se,role:"mechanic"};!P.password&&P.nic&&(P.password=P.nic),await so(P),Te({name:"",email:"",phone:"",nic:"",password:""}),d("Mechanic account created. Initial password is NIC.","success")}catch(P){d(P?.message||"Failed to create mechanic account","error")}},className:"inline-flex items-center px-4 py-2 text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700",children:[r.jsx(Xi,{className:"h-4 w-4 mr-2"})," Create Mechanic Account"]})})]})]}),i?.user?.role==="owner"&&r.jsxs("div",{className:"card",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Owners"}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-800 mb-3",children:"Create Owner Account"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[r.jsx("input",{placeholder:"Name",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",value:ce.name,onChange:P=>de(he=>({...he,name:P.target.value}))}),r.jsx("input",{placeholder:"Email",type:"email",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",value:ce.email,onChange:P=>de(he=>({...he,email:P.target.value}))}),r.jsx("input",{placeholder:"NIC (used as password)",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",value:ce.nic,onChange:P=>de(he=>({...he,nic:P.target.value}))}),r.jsx("input",{placeholder:"Password (defaults to NIC)",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",value:ce.password,onChange:P=>de(he=>({...he,password:P.target.value}))})]}),r.jsx("div",{className:"mt-3 flex justify-end",children:r.jsxs("button",{onClick:async()=>{try{if(!ce.name||!ce.email){d("Name and Email are required","error");return}const P={...ce,role:"owner"};!P.password&&P.nic&&(P.password=P.nic),await so(P),de({name:"",email:"",nic:"",password:""}),d("Owner account created. Initial password is NIC.","success")}catch(P){d(P?.message||"Failed to create owner account","error")}},className:"inline-flex items-center px-4 py-2 text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700",children:[r.jsx(Xi,{className:"h-4 w-4 mr-2"})," Create Owner Account"]})})]})]}),r.jsxs("div",{className:"card",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quick Actions"}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[r.jsxs(Me,{to:"/dashboard/cars",className:"flex items-center p-4 bg-primary-50 rounded-lg hover:bg-primary-100 transition-colors",children:[r.jsx(As,{className:"h-8 w-8 text-primary-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-primary-900",children:"Add New Car"}),r.jsx("p",{className:"text-xs text-primary-600",children:"Register vehicle"})]})]}),r.jsxs(Me,{to:"/dashboard/jobs",className:"flex items-center p-4 bg-orange-50 rounded-lg hover:bg-orange-100 transition-colors",children:[r.jsx(ct,{className:"h-8 w-8 text-orange-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-orange-900",children:"Create Job Sheet"}),r.jsx("p",{className:"text-xs text-orange-600",children:"Start new repair"})]})]}),r.jsxs(Me,{to:"/dashboard/inventory",className:"flex items-center p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors",children:[r.jsx(An,{className:"h-8 w-8 text-green-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-green-900",children:"Manage Inventory"}),r.jsx("p",{className:"text-xs text-green-600",children:"Update stock"})]})]}),r.jsxs(Me,{to:"/dashboard/reports",className:"flex items-center p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors",children:[r.jsx(Xa,{className:"h-8 w-8 text-purple-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-purple-900",children:"View Reports"}),r.jsx("p",{className:"text-xs text-purple-600",children:"Analytics & insights"})]})]})]})]})]})},K0=()=>{const{state:i,dispatch:l}=ss(),{user:a}=zt(),{show:u}=nl(),[d,h]=k.useState(!1),[f,g]=k.useState(null),[v,E]=k.useState(""),[y,j]=k.useState(null),[_,B]=k.useState(!1),[O,U]=k.useState({licensePlate:"",customerName:"",customerPhone:"",customerEmail:"",make:"",model:"",year:"",color:"",vin:""});k.useEffect(()=>{(async()=>{try{const D=await ge("/cars"),le=(Array.isArray(D?.data)?D.data:[]).map(de=>({...de,createdAt:de.createdAt||new Date().toISOString(),updatedAt:de.updatedAt||de.createdAt||new Date().toISOString()}));l({type:"SET_CARS",payload:le});const M=await ge("/jobs"),ce=(Array.isArray(M?.data)?M.data:[]).map(de=>({id:de.id,carId:de.car&&(de.car.id||de.car._id)?de.car.id||de.car._id:de.carId||de.car,assignedMechanic:de.assignedMechanic,tasks:Array.isArray(de.tasks)?de.tasks:[],status:de.status,createdAt:de.createdAt,estimatedCompletion:de.estimatedCompletion||""}));l({type:"SET_JOB_SHEETS",payload:ce})}catch{}})()},[l]);const L=i.cars.filter(D=>D.licensePlate.toLowerCase().includes(v.toLowerCase())||D.customerName.toLowerCase().includes(v.toLowerCase())||D.customerPhone.includes(v)),T=D=>{const{name:V,value:le}=D.target;U(M=>({...M,[V]:le}))},J=async D=>{D.preventDefault();try{const V={...O,year:O.year?Number(O.year):void 0};if(f){const M=(await ge(`/cars/${f.id}`,{method:"PUT",body:V})).data;l({type:"UPDATE_CAR",payload:{...M}})}else{const M=(await ge("/cars",{method:"POST",body:V})).data,ie={...M,id:M.id,createdAt:M.createdAt||new Date().toISOString(),updatedAt:M.updatedAt||M.createdAt||new Date().toISOString()};l({type:"ADD_CAR",payload:ie})}}catch(V){u(V?.message||"Failed to save car profile","error")}h(!1),g(null),U({licensePlate:"",customerName:"",customerPhone:"",customerEmail:"",make:"",model:"",year:"",color:"",vin:""})},q=D=>{g(D),U(D),h(!0)},K=async D=>{if(window.confirm("Are you sure you want to delete this car profile?"))try{await ge(`/cars/${D}`,{method:"DELETE"}),l({type:"DELETE_CAR",payload:D})}catch(V){u(V?.message||"Failed to delete car profile","error")}},te=D=>{j(D),B(!0)},ue=D=>i.jobSheets.filter(V=>V.carId===D&&V.status==="completed"),$=a?.role==="owner"||a?.role==="receptionist";return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Car Profiles"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage vehicle profiles and repair history"})]}),r.jsx("div",{className:"mt-4 sm:mt-0 flex flex-col sm:flex-row gap-2 flex-wrap",children:r.jsxs("button",{onClick:()=>h(!0),className:"btn-primary flex items-center",children:[r.jsx(rs,{className:"h-4 w-4 mr-2"}),"Add New Car"]})})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search by license plate, customer name, or phone...",value:v,onChange:D=>E(D.target.value),className:"input-field pl-10"})]}),r.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:L.map(D=>{const V=ue(D.id);return r.jsxs("div",{className:"card hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(As,{className:"h-8 w-8 text-primary-600 mr-3"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:D.licensePlate}),r.jsxs("p",{className:"text-sm text-gray-500",children:[D.year," ",D.make," ",D.model]})]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>te(D),className:"text-gray-400 hover:text-primary-600",title:"View Repair History",children:r.jsx(ts,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>q(D),className:"text-gray-400 hover:text-blue-600",title:"Edit Car Profile",children:r.jsx(ur,{className:"h-4 w-4"})}),$&&r.jsx("button",{onClick:()=>K(D.id),className:"text-gray-400 hover:text-red-600",title:"Delete Car Profile",children:r.jsx(Kt,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(um,{className:"h-4 w-4 mr-2"}),D.customerPhone]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(sl,{className:"h-4 w-4 mr-2"}),D.customerEmail]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(es,{className:"h-4 w-4 mr-2"}),"Added: ",new Date(D.createdAt).toLocaleDateString()]})]}),r.jsx("div",{className:"border-t pt-4",children:r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center text-gray-600",children:[r.jsx(ct,{className:"h-4 w-4 mr-1"}),V.length," completed jobs"]}),V.length>0&&r.jsxs("div",{className:"flex items-center text-blue-600 font-medium",children:[r.jsx(es,{className:"h-4 w-4 mr-1"}),"Last: ",new Date(V.sort((le,M)=>new Date(M.createdAt)-new Date(le.createdAt))[0].createdAt).toLocaleDateString()]})]})})]},D.id)})}),d&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>h(!1)}),r.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:r.jsxs("form",{onSubmit:J,children:[r.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:f?"Edit Car Profile":"Add New Car Profile"}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"License Plate *"}),r.jsx("input",{type:"text",name:"licensePlate",value:O.licensePlate,onChange:T,required:!0,className:"input-field",placeholder:"e.g. ABC-123"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"VIN"}),r.jsx("input",{type:"text",name:"vin",value:O.vin,onChange:T,className:"input-field",placeholder:"17-character VIN"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer Name *"}),r.jsx("input",{type:"text",name:"customerName",value:O.customerName,onChange:T,required:!0,className:"input-field",placeholder:"Full customer name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer Phone *"}),r.jsx("input",{type:"tel",name:"customerPhone",value:O.customerPhone,onChange:T,required:!0,className:"input-field",placeholder:"Phone number"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer Email"}),r.jsx("input",{type:"email",name:"customerEmail",value:O.customerEmail,onChange:T,className:"input-field",placeholder:"customer@email.com"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Make *"}),r.jsx("input",{type:"text",name:"make",value:O.make,onChange:T,required:!0,className:"input-field",placeholder:"e.g. Toyota, Ford, Honda"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Model *"}),r.jsx("input",{type:"text",name:"model",value:O.model,onChange:T,required:!0,className:"input-field",placeholder:"e.g. Camry, F-150, Civic"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Year *"}),r.jsx("input",{type:"number",name:"year",value:O.year,onChange:T,required:!0,min:"1900",max:"2024",className:"input-field",placeholder:"Manufacturing year"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),r.jsx("input",{type:"text",name:"color",value:O.color,onChange:T,className:"input-field",placeholder:"Vehicle color"})]})]})]}),r.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[r.jsxs("button",{type:"submit",className:"btn-primary sm:ml-3 sm:w-auto w-full",children:[f?"Update":"Create"," Car Profile"]}),r.jsx("button",{type:"button",onClick:()=>{h(!1),g(null),U({licensePlate:"",customerName:"",customerPhone:"",customerEmail:"",make:"",model:"",year:"",color:"",vin:""})},className:"btn-secondary mt-3 sm:mt-0 sm:w-auto w-full",children:"Cancel"})]})]})})]})}),_&&y&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>B(!1)}),r.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:r.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Repair History - ",y.licensePlate]}),r.jsx("button",{onClick:()=>B(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(Tt,{className:"h-6 w-6"})})]}),r.jsx("div",{className:"space-y-4",children:ue(y.id).length>0?ue(y.id).sort((D,V)=>new Date(V.createdAt)-new Date(D.createdAt)).map(D=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("h4",{className:"font-medium text-gray-900",children:["Service Job #",D.id.slice(-6)]}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${D.status==="completed"?"bg-green-100 text-green-800":D.status==="in_progress"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:D.status.replace("_"," ").toUpperCase()})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm text-gray-600",children:[r.jsxs("div",{children:["Date: ",new Date(D.createdAt).toLocaleDateString()]}),r.jsxs("div",{children:["Mechanic: ",D.assignedMechanic||"Not assigned"]}),D.estimatedCompletion&&r.jsxs("div",{children:["Estimated Completion: ",new Date(D.estimatedCompletion).toLocaleDateString()]}),r.jsxs("div",{children:["Tasks: ",D.tasks?D.tasks.length:0," tasks"]})]}),D.tasks&&D.tasks.length>0&&r.jsxs("div",{className:"mt-2",children:[r.jsx("strong",{className:"text-sm text-gray-700",children:"Tasks:"}),r.jsx("ul",{className:"mt-1 text-sm text-gray-600 space-y-1",children:D.tasks.map((V,le)=>r.jsxs("li",{className:"flex items-center",children:[r.jsx("span",{className:`mr-2 ${V.completed?"text-green-600":"text-gray-400"}`,children:V.completed?"":""}),V.description]},le))})]})]},D.id)):r.jsx("div",{className:"text-center py-8 text-gray-500",children:"No repair history found for this vehicle."})})]})})]})})]})},Z0=()=>{const{state:i,dispatch:l}=ss(),{user:a}=zt(),u=Zt(),d=a?.role==="owner",[h,f]=k.useState(!1),[g,v]=k.useState(null),[E,y]=k.useState(""),[j,_]=k.useState("all"),[B,O]=k.useState("all"),[U,L]=k.useState(null),[T,J]=k.useState(!1),[q,K]=k.useState({carId:"",assignedMechanic:"",tasks:[{description:"",completed:!1}],estimatedCompletion:""}),[te,ue]=k.useState(""),[$,D]=k.useState(""),[V,le]=k.useState([]),[M,ie]=k.useState(null),ce=async()=>{try{const S=await ge("/cars?limit=1000"),se=(Array.isArray(S?.data)?S.data:[]).map(W=>({...W,createdAt:W.createdAt||new Date().toISOString(),updatedAt:W.updatedAt||W.createdAt||new Date().toISOString()}));l({type:"SET_CARS",payload:se})}catch{}};k.useEffect(()=>{(async()=>{try{(!i.cars||i.cars.length===0)&&await ce();const S=await ge("/jobs"),se=(Array.isArray(S?.data)?S.data:[]).map(W=>({id:W.id,carId:W.car&&(W.car.id||W.car._id)?W.car.id||W.car._id:W.carId||W.car,assignedMechanic:W.assignedMechanic,tasks:Array.isArray(W.tasks)?W.tasks:[],status:W.status,createdAt:W.createdAt,estimatedCompletion:W.estimatedCompletion||"",appointmentCustomerName:W.appointment?.customerName,appointmentVehicle:W.appointment?.vehicle,appointmentServiceType:W.appointment?.serviceType,appointmentDate:W.appointment?.preferredDate}));l({type:"SET_JOB_SHEETS",payload:se})}catch{}})()},[l,i.cars?.length]),k.useEffect(()=>{h&&ce()},[h]),k.useEffect(()=>{h&&ce()},[$]),k.useEffect(()=>{(async()=>{try{const S=await ge("/users?limit=1000"),se=(Array.isArray(S?.data)?S.data:[]).filter(W=>W.role==="customer");le(se)}catch{}})()},[]),k.useEffect(()=>{const S=u.state?.prefillFromAppointment;S&&(ie(S),ue(S.customerName||""),K(H=>({...H,tasks:[{description:`Service: ${S.serviceType}`,completed:!1},{description:`Vehicle: ${S.vehicle}`,completed:!1}]})),f(!0),window.history.replaceState({},document.title))},[u.state]),k.useEffect(()=>{if(!M||!i.cars||i.cars.length===0)return;const S=String(M.vehicle||"").toLowerCase(),H=i.cars.find(W=>W.licensePlate&&S.includes(String(W.licensePlate).toLowerCase()));if(H){K(W=>({...W,carId:H.id}));return}const se=i.cars.find(W=>{const ke=`${W.make} ${W.model}`.toLowerCase();return ke&&S.includes(ke)});se&&K(W=>({...W,carId:se.id}))},[M,i.cars]),k.useEffect(()=>{if(!M||!i.cars||i.cars.length===0)return;const S=V.find(ke=>(ke.id||ke._id)===$),H=i.cars.filter(ke=>S?ke.customerEmail&&S.email?ke.customerEmail===S.email:ke.customerName===S.name:!0),se=String(M.vehicle||"").toLowerCase(),W=H.find(ke=>{const Le=`${ke.make} ${ke.model}`.toLowerCase();return Le&&se.includes(Le)});W&&!q.carId&&K(ke=>({...ke,carId:W.id}))},[M,i.cars,V,$]),k.useEffect(()=>{if(M&&V.length>0){const S=V.find(H=>M.customerEmail&&H.email===M.customerEmail||H.name===M.customerName);S&&(ue(S.name),D(S.id||S._id||""))}},[M,V]),k.useEffect(()=>{if(!q.carId)return;const S=i.cars.find(se=>se.id===q.carId);if(!S)return;const H=V.find(se=>S.customerEmail&&se.email&&S.customerEmail===se.email||se.name===S.customerName);if(H){const se=H.id||H._id||"";se!==$&&(D(se),ue(H.name))}},[q.carId,V,i.cars,$]),k.useEffect(()=>{(async()=>{try{const S=await ge("/mechanics"),se=(Array.isArray(S?.data)?S.data:[]).map(W=>({...W,id:W.id||W._id}));l({type:"SET_MECHANICS",payload:se})}catch{}})()},[l]);const de=i.jobSheets.filter(S=>{const H=i.cars.find(Dt=>Dt.id===S.carId),se=(E||"").trim().toLowerCase(),W=!se||H&&((H.licensePlate||"").toLowerCase().includes(se)||(H.customerName||"").toLowerCase().includes(se)||(`${H.make} ${H.model}`||"").toLowerCase().includes(se))||S.appointmentCustomerName&&S.appointmentCustomerName.toLowerCase().includes(se)||S.appointmentVehicle&&S.appointmentVehicle.toLowerCase().includes(se),ke=j==="all"||S.status===j,Le=B==="all"||S.assignedMechanic===B;return W&&ke&&Le}),Se=S=>{const{name:H,value:se}=S.target;K(W=>({...W,[H]:se}))},Te=(S,H,se)=>{const W=[...q.tasks];W[S]={...W[S],[H]:se},K(ke=>({...ke,tasks:W}))},I=()=>{K(S=>({...S,tasks:[...S.tasks,{description:"",completed:!1}]}))},G=S=>{const H=q.tasks.filter((se,W)=>W!==S);K(se=>({...se,tasks:H}))},ne=async S=>{S.preventDefault();try{const H={tasks:q.tasks,status:g?.status||"pending",appointment:M?.id};if(q.estimatedCompletion&&(H.estimatedCompletion=q.estimatedCompletion),q.carId&&(H.car=String(q.carId)),q.assignedMechanic&&(H.assignedMechanic=q.assignedMechanic),g){const W=(await ge(`/jobs/${g.id}`,{method:"PUT",body:H})).data,ke={id:W.id,carId:W.car&&(W.car.id||W.car._id)?W.car.id||W.car._id:W.car,assignedMechanic:W.assignedMechanic,tasks:W.tasks,status:W.status,createdAt:W.createdAt,estimatedCompletion:W.estimatedCompletion||"",appointmentCustomerName:W.appointment?.customerName,appointmentVehicle:W.appointment?.vehicle,appointmentServiceType:W.appointment?.serviceType,appointmentDate:W.appointment?.preferredDate};l({type:"UPDATE_JOB_SHEET",payload:ke})}else{const W=(await ge("/jobs",{method:"POST",body:H})).data,ke={id:W.id,carId:W.car&&(W.car.id||W.car._id)?W.car.id||W.car._id:W.car,assignedMechanic:W.assignedMechanic,tasks:W.tasks,status:W.status,createdAt:W.createdAt,estimatedCompletion:W.estimatedCompletion||"",appointmentCustomerName:W.appointment?.customerName,appointmentVehicle:W.appointment?.vehicle,appointmentServiceType:W.appointment?.serviceType,appointmentDate:W.appointment?.preferredDate};l({type:"ADD_JOB_SHEET",payload:ke})}}catch{}f(!1),v(null),K({carId:"",assignedMechanic:"",tasks:[{description:"",completed:!1}],estimatedCompletion:""}),ue(""),ie(null)},x=S=>{v(S),K(S);const H=i.cars.find(se=>se.id===S.carId);ue(H?.customerName||""),f(!0)},p=async S=>{if(window.confirm("Are you sure you want to delete this job sheet?"))try{await ge(`/jobs/${S}`,{method:"DELETE"}),l({type:"DELETE_JOB_SHEET",payload:S})}catch{}},b=S=>{L(S),J(!0)},z=async(S,H,se)=>{const W=i.jobSheets.find(dt=>dt.id===S);if(!W)return;const ke=[...W.tasks];ke[H]={...ke[H],completed:se};const Dt=ke.every(dt=>dt.completed)?"completed":"in_progress";try{const dt={tasks:ke,status:Dt};W.carId&&(dt.car=String(W.carId)),W.assignedMechanic&&(dt.assignedMechanic=W.assignedMechanic),W.estimatedCompletion&&(dt.estimatedCompletion=W.estimatedCompletion);const Xe=(await ge(`/jobs/${S}`,{method:"PUT",body:dt})).data;l({type:"UPDATE_JOB_SHEET",payload:{id:Xe.id,carId:Xe.car&&Xe.car.id?Xe.car.id:Xe.car,assignedMechanic:Xe.assignedMechanic,tasks:Xe.tasks,status:Xe.status,createdAt:Xe.createdAt,estimatedCompletion:Xe.estimatedCompletion||""}})}catch{}},ee=S=>{switch(S){case"completed":return r.jsx(ut,{className:"h-5 w-5 text-green-500"});case"in_progress":return r.jsx(Jt,{className:"h-5 w-5 text-yellow-500"});case"pending":return r.jsx(Mn,{className:"h-5 w-5 text-gray-500"});default:return r.jsx(Jt,{className:"h-5 w-5 text-gray-500"})}},ae=S=>{switch(S){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},re=a?.role==="owner",je=a?.role==="owner";return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Job Sheets"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage repair jobs and track progress"})]}),d&&r.jsxs("button",{onClick:()=>f(!0),className:"mt-4 sm:mt-0 btn-primary flex items-center ",children:[r.jsx(rs,{className:"h-4 w-4 mr-2 "}),"Create Job Sheet"]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search by car or customer...",value:E,onChange:S=>y(S.target.value),className:"input-field pl-10"})]}),r.jsxs("select",{value:j,onChange:S=>_(S.target.value),className:"input-field",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"in_progress",children:"In Progress"}),r.jsx("option",{value:"completed",children:"Completed"})]}),r.jsxs("select",{value:B,onChange:S=>O(S.target.value),className:"input-field",children:[r.jsx("option",{value:"all",children:"All Mechanics"}),i.mechanics.map(S=>r.jsx("option",{value:S.name,children:S.name},S.id))]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(jo,{className:"h-4 w-4 mr-2"}),de.length," jobs found"]})]}),r.jsx("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:de.map(S=>{const H=i.cars.find(Le=>Le.id===S.carId),se=S.tasks.filter(Le=>Le.completed).length,W=S.tasks.length,ke=W>0?se/W*100:0;return r.jsxs("div",{className:"card hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(ct,{className:"h-8 w-8 text-primary-600 mr-3"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:H?`${H.make} ${H.model}`:S.appointmentVehicle||"Unknown Car"}),r.jsx("p",{className:"text-sm text-gray-500",children:H?H.licensePlate:S.appointmentCustomerName?`Owner: ${S.appointmentCustomerName}`:"No License Plate"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[ee(S.status),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ae(S.status)}`,children:S.status.replace("_"," ")})]})]}),r.jsxs("div",{className:"space-y-3 mb-4",children:[r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(Rs,{className:"h-4 w-4 mr-2"}),S.assignedMechanic]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(es,{className:"h-4 w-4 mr-2"}),"Created: ",new Date(S.createdAt).toLocaleDateString()]}),S.estimatedCompletion&&r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(Jt,{className:"h-4 w-4 mr-2"}),"Due: ",new Date(S.estimatedCompletion).toLocaleDateString()]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-1",children:[r.jsx("span",{children:"Progress"}),r.jsxs("span",{children:[se,"/",W," tasks"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:`${ke}%`}})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("button",{onClick:()=>b(S),className:"text-primary-600 hover:text-primary-500 text-sm font-medium",children:"View Details"}),r.jsxs("div",{className:"flex space-x-2",children:[je&&r.jsx("button",{onClick:()=>x(S),className:"text-gray-400 hover:text-blue-600",title:"Edit",children:r.jsx(ur,{className:"h-4 w-4"})}),re&&r.jsx("button",{onClick:()=>p(S.id),className:"text-gray-400 hover:text-red-600",title:"Delete",children:r.jsx(Kt,{className:"h-4 w-4"})})]})]})]},S.id)})}),h&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>f(!1)}),r.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full",children:r.jsxs("form",{onSubmit:ne,children:[r.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:g?"Edit Job Sheet":"Create New Job Sheet"}),r.jsxs("div",{className:"space-y-4",children:[M&&r.jsxs("div",{className:"p-3 bg-blue-50 rounded border border-blue-100 text-sm text-blue-800",children:[r.jsx("div",{className:"font-medium mb-1",children:"Appointment"}),r.jsxs("div",{children:["Customer: ",M.customerName]}),r.jsxs("div",{children:["Vehicle: ",M.vehicle]}),r.jsxs("div",{children:["Service: ",M.serviceType]}),r.jsxs("div",{children:["Date: ",new Date(M.preferredDate).toLocaleDateString()]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Owner"}),r.jsxs("select",{value:$,onChange:S=>{const H=S.target.value;D(H);const se=V.find(W=>(W.id||W._id)===H);if(ue(se?se.name:""),q.carId){const W=i.cars.find(ke=>ke.id===q.carId);W&&se&&(W.customerEmail&&se.email&&W.customerEmail.toLowerCase()===se.email.toLowerCase()||W.customerName&&se.name&&W.customerName.toLowerCase()===se.name.toLowerCase()||K(Le=>({...Le,carId:""})))}},className:"input-field",children:[r.jsx("option",{value:"",children:"All owners"}),V.length===0?r.jsx("option",{value:"",disabled:!0,children:"No customers found"}):V.map(S=>r.jsxs("option",{value:S.id||S._id,children:[S.name," (",S.email,")"]},S.id||S._id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:M?"Select Car (optional for appointment jobs)":"Select Car *"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("select",{name:"carId",value:q.carId,onChange:Se,required:!M,className:"input-field flex-1",children:[r.jsx("option",{value:"",children:"Choose a car..."}),i.cars.filter(S=>{if(!$)return!0;const H=V.find(se=>(se.id||se._id)===$);return H?S.customerEmail&&H.email?S.customerEmail.toLowerCase()===H.email.toLowerCase():S.customerName&&H.name?S.customerName.toLowerCase()===H.name.toLowerCase():!1:!0}).map(S=>r.jsxs("option",{value:S.id,children:[S.licensePlate," - ",S.make," ",S.model," (",S.customerName||"Unknown Owner",")"]},S.id))]}),r.jsx("button",{type:"button",onClick:ce,className:"px-2 py-2 text-xs border rounded hover:bg-gray-50",children:"Refresh"})]}),i.cars.length===0&&r.jsx("p",{className:"mt-1 text-xs text-red-500",children:"No cars found. Please add cars first."}),$&&i.cars.filter(S=>{const H=V.find(se=>(se.id||se._id)===$);return H?S.customerEmail&&H.email?S.customerEmail.toLowerCase()===H.email.toLowerCase():S.customerName&&H.name?S.customerName.toLowerCase()===H.name.toLowerCase():!1:!0}).length===0&&r.jsx("p",{className:"mt-1 text-xs text-yellow-600",children:"No cars found for selected owner."}),M&&r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"You can create the job now and link a car later."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assign to Mechanic *"}),r.jsxs("select",{name:"assignedMechanic",value:q.assignedMechanic,onChange:Se,required:!0,className:"input-field",children:[r.jsx("option",{value:"",children:"Choose a mechanic..."}),i.mechanics.length===0?r.jsx("option",{value:"",disabled:!0,children:"No mechanics found"}):i.mechanics.map(S=>r.jsx("option",{value:S.name,children:S.name},S.id))]}),i.mechanics.length===0&&r.jsx("p",{className:"mt-1 text-xs text-red-500",children:"No mechanics found. Please add mechanics first."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estimated Completion"}),r.jsx("input",{type:"date",name:"estimatedCompletion",value:q.estimatedCompletion,onChange:Se,className:"input-field"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tasks"}),r.jsxs("div",{className:"space-y-2",children:[q.tasks.map((S,H)=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"text",value:S.description,onChange:se=>Te(H,"description",se.target.value),placeholder:"Task description...",className:"flex-1 input-field"}),r.jsx("button",{type:"button",onClick:()=>G(H),className:"text-red-500 hover:text-red-700",children:r.jsx(Kt,{className:"h-4 w-4"})})]},H)),r.jsx("button",{type:"button",onClick:I,className:"text-primary-600 hover:text-primary-500 text-sm font-medium",children:"+ Add Task"})]})]})]})]}),r.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[r.jsxs("button",{type:"submit",className:"btn-primary sm:ml-3 sm:w-auto w-full",children:[g?"Update":"Create"," Job Sheet"]}),r.jsx("button",{type:"button",onClick:()=>{f(!1),v(null),K({carId:"",assignedMechanic:"",tasks:[{description:"",completed:!1}],estimatedCompletion:""})},className:"btn-secondary mt-3 sm:mt-0 sm:w-auto w-full",children:"Cancel"})]})]})})]})}),T&&U&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>J(!1)}),r.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full",children:r.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Job Details"}),r.jsx("button",{onClick:()=>J(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(Tt,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Status:"}),r.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs ${ae(U.status)}`,children:U.status.replace("_"," ")})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Mechanic:"}),r.jsx("span",{className:"ml-2 text-gray-900",children:U.assignedMechanic})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Tasks"}),r.jsx("div",{className:"space-y-2",children:U.tasks.map((S,H)=>r.jsxs("div",{className:"flex items-center space-x-3 p-2 bg-gray-50 rounded",children:[r.jsx("input",{type:"checkbox",checked:S.completed,onChange:se=>z(U.id,H,se.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),r.jsx("span",{className:`flex-1 ${S.completed?"line-through text-gray-500":"text-gray-900"}`,children:S.description})]},H))})]})]})]})})]})})]})},X0=()=>{const{state:i,dispatch:l}=ss(),{user:a}=zt(),u=a?.role==="owner"||a?.role==="receptionist",[d,h]=k.useState(!1),[f,g]=k.useState(null),[v,E]=k.useState(""),[y,j]=k.useState("all"),[_,B]=k.useState("all"),[O,U]=k.useState({name:"",category:"",supplier:"",quantity:"",price:"",minThreshold:""}),[L,T]=k.useState({}),[J,q]=k.useState(!1);k.useEffect(()=>{(async()=>{try{const x=await ge("/inventory"),b=(Array.isArray(x?.data)?x.data:[]).map(z=>({...z,minThreshold:Number(z.minThreshold??0),price:Number(z.price??0),quantity:Number(z.quantity??0),lastUpdated:z.lastUpdated||z.updatedAt||z.createdAt||new Date().toISOString()}));l({type:"SET_INVENTORY",payload:b})}catch{}})()},[l]);const K=(x,p)=>{switch(x){case"name":return!p||p.trim().length===0?"Item name is required":p.trim().length<2?"Item name must be at least 2 characters":p.trim().length>100?"Item name must be less than 100 characters":i.inventory.find(je=>je.name.toLowerCase()===p.trim().toLowerCase()&&je.id!==f?.id)?"An item with this name already exists":null;case"category":return!p||p.trim().length===0?"Category is required":p.trim().length<2?"Category must be at least 2 characters":p.trim().length>50?"Category must be less than 50 characters":null;case"supplier":return!p||p.trim().length===0?"Supplier is required":p.trim().length<2?"Supplier must be at least 2 characters":p.trim().length>100?"Supplier must be less than 100 characters":null;case"quantity":if(!p&&p!=="0")return"Quantity is required";const z=Number(p);return isNaN(z)?"Quantity must be a valid number":z<0?"Quantity cannot be negative":z>999999?"Quantity cannot exceed 999,999":Number.isInteger(z)?null:"Quantity must be a whole number";case"price":if(!p&&p!=="0")return"Price is required";const ee=Number(p);return isNaN(ee)?"Price must be a valid number":ee<0?"Price cannot be negative":ee>999999?"Price cannot exceed $999,999":p.includes(".")&&p.split(".")[1]?.length>2?"Price can have maximum 2 decimal places":null;case"minThreshold":if(!p&&p!=="0")return"Minimum threshold is required";const ae=Number(p);if(isNaN(ae))return"Minimum threshold must be a valid number";if(ae<0)return"Minimum threshold cannot be negative";if(ae>999999)return"Minimum threshold cannot exceed 999,999";if(!Number.isInteger(ae))return"Minimum threshold must be a whole number";const re=Number(O.quantity||0);return re>0&&ae>re?"Minimum threshold is higher than current quantity":null;default:return null}},te=()=>{const x={};return Object.keys(O).forEach(p=>{const b=K(p,O[p]);b&&(x[p]=b)}),x},ue=()=>{const x=te();return Object.keys(x).length===0},$=[...new Set(i.inventory.map(x=>x.category||""))],D=i.inventory.filter(x=>{const p=!v||x.name.toLowerCase().includes(v.toLowerCase())||x.supplier.toLowerCase().includes(v.toLowerCase()),b=y==="all"||x.category===y,z=_==="all"||_==="low"&&x.quantity>0&&x.quantity<=x.minThreshold||_==="out"&&x.quantity===0||_==="in_stock"&&x.quantity>x.minThreshold;return p&&b&&z}),V=i.inventory.filter(x=>Number(x.quantity)>0&&Number(x.quantity)<=Number(x.minThreshold)),le=i.inventory.filter(x=>Number(x.quantity)===0),M=i.inventory.reduce((x,p)=>x+p.quantity*p.price,0),ie=x=>{const{name:p,value:b}=x.target;if(U(z=>({...z,[p]:b})),J||L[p]){const z=K(p,b);T(ee=>({...ee,[p]:z}))}},ce=x=>{const{name:p,value:b}=x.target;q(!0);const z=K(p,b);T(ee=>({...ee,[p]:z}))},de=async x=>{x.preventDefault(),q(!0);const p=te();if(T(p),!ue()){const b=Object.keys(p)[0],z=document.querySelector(`[name="${b}"]`);z&&(z.focus(),z.scrollIntoView({behavior:"smooth",block:"center"}));return}try{const b={...O,name:O.name.trim(),category:O.category.trim(),supplier:O.supplier.trim(),quantity:Number(O.quantity||0),price:Number(O.price||0),minThreshold:Number(O.minThreshold||0)};if(f){console.log("Updating item with ID:",f.id,"Payload:",b);const z=await ge(`/inventory/${f.id}`,{method:"PUT",body:b});console.log("Update response:",z),l({type:"UPDATE_INVENTORY_ITEM",payload:z.data})}else{const z=await ge("/inventory",{method:"POST",body:b});l({type:"ADD_INVENTORY_ITEM",payload:z.data})}h(!1),g(null),U({name:"",category:"",supplier:"",quantity:"",price:"",minThreshold:""}),T({}),q(!1)}catch(b){console.error("Error saving item:",b),console.error("Error response:",b.response),b.response?.data?.errors?T(b.response.data.errors):b.response?.data?.message?T({general:b.response.data.message}):T({general:"Failed to save item. Please try again."})}},Se=x=>{console.log("Edit button clicked for item:",x),g(x);const p={name:x.name||"",category:x.category||"",supplier:x.supplier||"",quantity:String(x.quantity||""),price:String(x.price||""),minThreshold:String(x.minThreshold||"")};console.log("Setting form data for edit:",p),U(p),T({}),q(!1),h(!0)},Te=async x=>{if(window.confirm("Are you sure you want to delete this inventory item?"))try{await ge(`/inventory/${x}`,{method:"DELETE"}),l({type:"DELETE_INVENTORY_ITEM",payload:x})}catch{}},I=x=>x.quantity===0?{status:"out",color:"text-red-600",bg:"bg-red-100"}:x.quantity<=x.minThreshold?{status:"low",color:"text-yellow-600",bg:"bg-yellow-100"}:{status:"good",color:"text-green-600",bg:"bg-green-100"},G=a?.role==="owner",ne=a?.role==="owner"||a?.role==="receptionist";return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Inventory Management"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage spare parts and track stock levels"})]}),u&&r.jsxs("button",{onClick:()=>{g(null),U({name:"",category:"",supplier:"",quantity:"",price:"",minThreshold:""}),T({}),q(!1),h(!0)},className:"mt-4 sm:mt-0 flex items-center bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",children:[r.jsx(rs,{className:"h-4 w-4 mr-2"}),"Add New Item"]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[r.jsx("div",{className:"card",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 p-3 rounded-lg bg-blue-100",children:r.jsx(An,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Items"}),r.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:i.inventory.length})]})]})}),r.jsx("div",{className:"card",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 p-3 rounded-lg bg-yellow-100",children:r.jsx(Tn,{className:"h-6 w-6 text-yellow-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Low Stock"}),r.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:V.length})]})]})}),r.jsx("div",{className:"card",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 p-3 rounded-lg bg-red-100",children:r.jsx(Tt,{className:"h-6 w-6 text-red-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Out of Stock"}),r.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:le.length})]})]})}),r.jsx("div",{className:"card",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 p-3 rounded-lg bg-green-100",children:r.jsx(cr,{className:"h-6 w-6 text-green-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Value"}),r.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",M.toFixed(2)]})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search items...",value:v,onChange:x=>E(x.target.value),className:"input-field pl-10"})]}),r.jsxs("select",{value:y,onChange:x=>j(x.target.value),className:"input-field",children:[r.jsx("option",{value:"all",children:"All Categories"}),$.map(x=>r.jsx("option",{value:x,children:x},x))]}),r.jsxs("select",{value:_,onChange:x=>B(x.target.value),className:"input-field",children:[r.jsx("option",{value:"all",children:"All Stock Levels"}),r.jsx("option",{value:"in_stock",children:"In Stock"}),r.jsx("option",{value:"low",children:"Low Stock"}),r.jsx("option",{value:"out",children:"Out of Stock"})]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(jo,{className:"h-4 w-4 mr-2"}),D.length," items found"]})]}),V.length>0&&r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Tn,{className:"h-5 w-5 text-yellow-600 mr-2"}),r.jsxs("h3",{className:"text-sm font-medium text-yellow-800",children:["Low Stock Alert: ",V.length," items need attention"]})]}),r.jsxs("div",{className:"mt-2 text-sm text-yellow-700",children:[V.slice(0,3).map(x=>x.name).join(", "),V.length>3&&` and ${V.length-3} more...`]})]}),r.jsx("div",{className:"card overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"table-header",children:"Item"}),r.jsx("th",{className:"table-header",children:"Category"}),r.jsx("th",{className:"table-header",children:"Supplier"}),r.jsx("th",{className:"table-header",children:"Quantity"}),r.jsx("th",{className:"table-header",children:"Price"}),r.jsx("th",{className:"table-header",children:"Status"}),r.jsx("th",{className:"table-header",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:D.map(x=>{const p=I(x);return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"table-cell",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(An,{className:"h-5 w-5 text-gray-400 mr-3"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.name}),r.jsxs("div",{className:"text-sm text-gray-500",children:["Min: ",x.minThreshold]})]})]})}),r.jsx("td",{className:"table-cell",children:r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:x.category})}),r.jsx("td",{className:"table-cell text-sm text-gray-900",children:x.supplier}),r.jsx("td",{className:"table-cell",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Zp,{className:"h-4 w-4 text-gray-400 mr-1"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:x.quantity})]})}),r.jsx("td",{className:"table-cell",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(cr,{className:"h-4 w-4 text-gray-400 mr-1"}),r.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["$",x.price.toFixed(2)]})]})}),r.jsx("td",{className:"table-cell",children:r.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${p.bg} ${p.color}`,children:[p.status==="out"?"Out of Stock":p.status==="low"?"Low Stock":"In Stock","                                         "]})}),r.jsx("td",{className:"table-cell",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[ne&&r.jsx("button",{onClick:()=>Se(x),className:"text-gray-400 hover:text-blue-600",title:"Edit",children:r.jsx(ur,{className:"h-4 w-4"})}),G&&r.jsx("button",{onClick:()=>Te(x.id),className:"text-gray-400 hover:text-red-600",title:"Delete",children:r.jsx(Kt,{className:"h-4 w-4"})})]})})]},x.id)})})]})})}),d&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>h(!1)}),r.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:r.jsxs("form",{onSubmit:de,children:[r.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:f?"Edit Inventory Item":"Add New Inventory Item"}),r.jsxs("div",{className:"space-y-4",children:[L.general&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:r.jsx("p",{className:"text-sm text-red-600",children:L.general})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item Name *"}),r.jsx("input",{type:"text",name:"name",value:O.name,onChange:ie,onBlur:ce,required:!0,className:`input-field ${L.name?"border-red-300 ring-red-500 focus:ring-red-500 focus:border-red-500":""}`}),L.name&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:L.name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),r.jsx("input",{type:"text",name:"category",value:O.category,onChange:ie,onBlur:ce,required:!0,className:`input-field ${L.category?"border-red-300 ring-red-500 focus:ring-red-500 focus:border-red-500":""}`,placeholder:"e.g., Engine, Brake System, Electrical"}),L.category&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:L.category})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supplier *"}),r.jsx("input",{type:"text",name:"supplier",value:O.supplier,onChange:ie,onBlur:ce,required:!0,className:`input-field ${L.supplier?"border-red-300 ring-red-500 focus:ring-red-500 focus:border-red-500":""}`}),L.supplier&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:L.supplier})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity *"}),r.jsx("input",{type:"number",name:"quantity",value:O.quantity,onChange:ie,onBlur:ce,required:!0,min:"0",className:`input-field ${L.quantity?"border-red-300 ring-red-500 focus:ring-red-500 focus:border-red-500":""}`}),L.quantity&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:L.quantity})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price *"}),r.jsx("input",{type:"number",name:"price",value:O.price,onChange:ie,onBlur:ce,required:!0,min:"0",step:"0.01",className:`input-field ${L.price?"border-red-300 ring-red-500 focus:ring-red-500 focus:border-red-500":""}`}),L.price&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:L.price})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Threshold *"}),r.jsx("input",{type:"number",name:"minThreshold",value:O.minThreshold,onChange:ie,onBlur:ce,required:!0,min:"0",className:`input-field ${L.minThreshold?"border-red-300 ring-red-500 focus:ring-red-500 focus:border-red-500":""}`,placeholder:"Alert when stock falls below this number"}),L.minThreshold&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:L.minThreshold})]})]})]}),r.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[r.jsxs("button",{type:"submit",className:"btn-primary sm:ml-3 sm:w-auto w-full",children:[f?"Update":"Add"," Item"]}),r.jsx("button",{type:"button",onClick:()=>{h(!1),g(null),U({name:"",category:"",supplier:"",quantity:"",price:"",minThreshold:""}),T({}),q(!1)},className:"btn-secondary mt-3 sm:mt-0 sm:w-auto w-full",children:"Cancel"})]})]})})]})})]})},ex=()=>{const{state:i,dispatch:l}=ss(),[a,u]=k.useState(!1),[d,h]=k.useState(!1),[f,g]=k.useState(!1),[v,E]=k.useState(null),[y,j]=k.useState({name:"",email:"",phone:"",skills:[],availability:"available",experience:""}),[_,B]=k.useState("");k.useEffect(()=>{(async()=>{try{const $=await ge("/mechanics"),V=(Array.isArray($?.data)?$.data:[]).map(le=>({...le,id:le.id||le._id}));l({type:"SET_MECHANICS",payload:V})}catch{}})()},[l]);const O=async()=>{if(!y.name||!y.email){alert("Please fill in required fields (Name and Email)");return}try{const $=await ge("/mechanics",{method:"POST",body:y});l({type:"ADD_MECHANIC",payload:$.data})}catch{}T(),u(!1)},U=async()=>{if(!y.name||!y.email){alert("Please fill in required fields (Name and Email)");return}try{const $=await ge(`/mechanics/${v.id}`,{method:"PUT",body:y});l({type:"UPDATE_MECHANIC",payload:$.data})}catch{}T(),h(!1),E(null)},L=async()=>{try{await ge(`/mechanics/${v.id}`,{method:"DELETE"}),l({type:"DELETE_MECHANIC",payload:v.id})}catch{}g(!1),E(null)},T=()=>{j({name:"",email:"",phone:"",skills:[],availability:"available",experience:""}),B("")},J=$=>{E($),j({name:$.name,email:$.email,phone:$.phone||"",skills:$.skills||[],availability:$.availability,experience:$.experience||""}),h(!0)},q=$=>{E($),g(!0)},K=()=>{_.trim()&&!y.skills.includes(_.trim())&&(j({...y,skills:[...y.skills,_.trim()]}),B(""))},te=$=>{j({...y,skills:y.skills.filter(D=>D!==$)})},ue=$=>{switch($){case"available":return"bg-green-100 text-green-800";case"busy":return"bg-yellow-100 text-yellow-800";case"unavailable":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mechanic Management"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Add, edit and manage mechanics"})]}),r.jsxs("button",{onClick:()=>u(!0),className:"mt-4 sm:mt-0 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[r.jsx(rs,{className:"h-5 w-5 mr-2"}),"Add Mechanic"]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i?.mechanics?.map($=>r.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden hover:shadow-xl transition-all duration-300",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-full flex items-center justify-center mr-4",children:r.jsx(Fs,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:$.name}),r.jsx("p",{className:"text-sm text-gray-600",children:$.experience})]})]}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${ue($.availability)}`,children:$.availability})]})}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"space-y-3 mb-4",children:[r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(sl,{className:"h-4 w-4 mr-3 text-gray-400"}),r.jsx("span",{children:$.email})]}),$.phone&&r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(um,{className:"h-4 w-4 mr-3 text-gray-400"}),r.jsx("span",{children:$.phone})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Skills"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:$.skills?.map((D,V)=>r.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[r.jsx(ct,{className:"h-3 w-3 mr-1"}),D]},V))})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>J($),className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[r.jsx(ur,{className:"h-4 w-4 mr-2"}),"Edit"]}),r.jsx("button",{onClick:()=>q($),className:"px-4 py-2 border border-red-300 text-red-700 rounded-lg hover:bg-red-50 transition-colors",children:r.jsx(Kt,{className:"h-4 w-4"})})]})]})]},$.id))||r.jsxs("div",{className:"col-span-full text-center py-16",children:[r.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(Fs,{className:"h-12 w-12 text-gray-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Mechanics Found"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Get started by adding your first mechanic."}),r.jsxs("button",{onClick:()=>u(!0),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center mx-auto",children:[r.jsx(rs,{className:"h-5 w-5 mr-2"}),"Add Mechanic"]})]})}),a&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>u(!1)}),r.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[r.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Add New Mechanic"}),r.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(Tt,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),r.jsx("input",{type:"text",value:y.name,onChange:$=>j({...y,name:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter mechanic name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),r.jsx("input",{type:"email",value:y.email,onChange:$=>j({...y,email:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter email address"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),r.jsx("input",{type:"tel",value:y.phone,onChange:$=>j({...y,phone:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter phone number"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Experience"}),r.jsx("input",{type:"text",value:y.experience,onChange:$=>j({...y,experience:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., 5 years"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Availability"}),r.jsxs("select",{value:y.availability,onChange:$=>j({...y,availability:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"available",children:"Available"}),r.jsx("option",{value:"busy",children:"Busy"}),r.jsx("option",{value:"unavailable",children:"Unavailable"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Skills"}),r.jsxs("div",{className:"flex space-x-2 mb-2",children:[r.jsx("input",{type:"text",value:_,onChange:$=>B($.target.value),onKeyPress:$=>$.key==="Enter"&&K(),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Add skill"}),r.jsx("button",{onClick:K,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Add"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:y.skills.map(($,D)=>r.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[$,r.jsx("button",{onClick:()=>te($),className:"ml-1 text-blue-600 hover:text-blue-800",children:r.jsx(Tt,{className:"h-3 w-3"})})]},D))})]})]})]}),r.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[r.jsxs("button",{onClick:O,className:"w-full inline-flex justify-center rounded-lg border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm",children:[r.jsx(Dd,{className:"h-4 w-4 mr-2"}),"Add Mechanic"]}),r.jsx("button",{onClick:()=>u(!1),className:"mt-3 w-full inline-flex justify-center rounded-lg border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})]})}),d&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>h(!1)}),r.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[r.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Edit Mechanic"}),r.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(Tt,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),r.jsx("input",{type:"text",value:y.name,onChange:$=>j({...y,name:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter mechanic name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),r.jsx("input",{type:"email",value:y.email,onChange:$=>j({...y,email:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter email address"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),r.jsx("input",{type:"tel",value:y.phone,onChange:$=>j({...y,phone:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter phone number"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Experience"}),r.jsx("input",{type:"text",value:y.experience,onChange:$=>j({...y,experience:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., 5 years"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Availability"}),r.jsxs("select",{value:y.availability,onChange:$=>j({...y,availability:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"available",children:"Available"}),r.jsx("option",{value:"busy",children:"Busy"}),r.jsx("option",{value:"unavailable",children:"Unavailable"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Skills"}),r.jsxs("div",{className:"flex space-x-2 mb-2",children:[r.jsx("input",{type:"text",value:_,onChange:$=>B($.target.value),onKeyPress:$=>$.key==="Enter"&&K(),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Add skill"}),r.jsx("button",{onClick:K,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Add"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:y.skills.map(($,D)=>r.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[$,r.jsx("button",{onClick:()=>te($),className:"ml-1 text-blue-600 hover:text-blue-800",children:r.jsx(Tt,{className:"h-3 w-3"})})]},D))})]})]})]}),r.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[r.jsxs("button",{onClick:U,className:"w-full inline-flex justify-center rounded-lg border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm",children:[r.jsx(Dd,{className:"h-4 w-4 mr-2"}),"Save Changes"]}),r.jsx("button",{onClick:()=>h(!1),className:"mt-3 w-full inline-flex justify-center rounded-lg border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})]})}),f&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>g(!1)}),r.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[r.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:r.jsxs("div",{className:"sm:flex sm:items-start",children:[r.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:r.jsx(Tn,{className:"h-6 w-6 text-red-600"})}),r.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[r.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Delete Mechanic"}),r.jsx("div",{className:"mt-2",children:r.jsxs("p",{className:"text-sm text-gray-500",children:["Are you sure you want to delete ",r.jsx("strong",{children:v?.name}),"? This action cannot be undone."]})})]})]})}),r.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[r.jsxs("button",{onClick:L,className:"w-full inline-flex justify-center rounded-lg border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm",children:[r.jsx(Kt,{className:"h-4 w-4 mr-2"}),"Delete"]}),r.jsx("button",{onClick:()=>g(!1),className:"mt-3 w-full inline-flex justify-center rounded-lg border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})]})})]})},tx=()=>{const{state:i,dispatch:l}=ss(),[a,u]=k.useState("overview"),[d,h]=k.useState("month"),[f,g]=k.useState("all"),[v,E]=k.useState(!1),[y,j]=k.useState(null),[_,B]=k.useState({jobSheetId:"",amount:"",date:"",status:"paid",method:"cash"}),{show:O}=nl(),U=async()=>{try{await Yt("/reports/cars","car-profiles-report.pdf")}catch(I){O(I?.message||"Failed to download car profiles PDF","error")}},L=async()=>{try{await Yt("/reports/jobs","job-sheet-report.pdf")}catch(I){O(I?.message||"Failed to download job sheet PDF","error")}},T=async()=>{try{await Yt("/reports/inventory","inventory-report.pdf")}catch(I){O(I?.message||"Failed to download inventory PDF","error")}},J=async()=>{try{await Yt("/reports/mechanics","mechanics-report.pdf")}catch(I){O(I?.message||"Failed to download mechanics PDF","error")}},q=async()=>{try{await Yt("/reports/payments","payments-report.pdf")}catch(I){O(I?.message||"Failed to download payments PDF","error")}},K=async()=>{try{const I=await ge("/cars"),G=Array.isArray(I?.data)?I.data:[],ne=["License Plate","Customer","Phone","Email","Make","Model","Year","Created"],x=G.map(b=>[b.licensePlate,b.customerName,b.customerPhone,b.customerEmail||"-",b.make,b.model,String(b.year||""),new Date(b.createdAt||Date.now()).toLocaleDateString()]),p=Gt({title:"Car Profiles Report",columns:ne,rows:x});Qt(p,"car-profiles-report.pdf")}catch(I){O(I?.message||"Failed to generate car profiles report","error")}},te=async()=>{try{const I=await ge("/jobs"),G=Array.isArray(I?.data)?I.data:[],ne=["Job ID","Car ID","Assigned Mechanic","Status","Estimated Completion"],x=G.map(b=>[b.id||b._id||"-",(typeof b.car=="object"?b.car?.id||b.car?._id:b.car)||"-",b.assignedMechanic||"-",b.status,b.estimatedCompletion?new Date(b.estimatedCompletion).toLocaleString():"-"]),p=Gt({title:"Job Sheet Report",columns:ne,rows:x});Qt(p,"job-sheet-report.pdf")}catch(I){O(I?.message||"Failed to generate job sheet report","error")}},ue=async()=>{try{const I=await ge("/inventory"),G=Array.isArray(I?.data)?I.data:[],ne=["Item","SKU","Quantity","Unit Price","Category","Updated"],x=G.map(b=>[b.name||"-",b.sku||"-",String(b.quantity??""),typeof b.price=="number"?b.price.toFixed(2):"-",b.category||"-",new Date(b.updatedAt||b.createdAt||Date.now()).toLocaleDateString()]),p=Gt({title:"Inventory Report",columns:ne,rows:x});Qt(p,"inventory-report.pdf")}catch(I){O(I?.message||"Failed to generate inventory report","error")}},$=async()=>{try{const I=await ge("/mechanics"),G=Array.isArray(I?.data)?I.data:[],ne=["Name","Email","Phone","Availability","Experience"],x=G.map(b=>[b.name,b.email,b.phone||"-",b.availability||"-",b.experience||"-"]),p=Gt({title:"Mechanics Report",columns:ne,rows:x});Qt(p,"mechanics-report.pdf")}catch(I){O(I?.message||"Failed to generate mechanics report","error")}},D=async()=>{try{const I=await ge("/payments"),G=Array.isArray(I?.data)?I.data:[],ne=["Payment ID","Customer","Amount","Method","Status","Date"],x=G.map(b=>[b.id||b._id||"-",b.customerName||b.customer||"-",typeof b.amount=="number"?b.amount.toFixed(2):"-",b.method||"-",b.status||"-",new Date(b.createdAt||Date.now()).toLocaleString()]),p=Gt({title:"Payments Report",columns:ne,rows:x});Qt(p,"payments-report.pdf")}catch(I){O(I?.message||"Failed to generate payments report","error")}},le=(()=>{const I=new Date,G=I.getMonth(),ne=I.getFullYear();let x=i.jobSheets,p=i.payments;d==="month"?(x=i.jobSheets.filter(S=>{const H=new Date(S.createdAt);return H.getMonth()===G&&H.getFullYear()===ne}),p=i.payments.filter(S=>{const H=new Date(S.date);return H.getMonth()===G&&H.getFullYear()===ne})):d==="year"&&(x=i.jobSheets.filter(S=>new Date(S.createdAt).getFullYear()===ne),p=i.payments.filter(S=>new Date(S.date).getFullYear()===ne)),f!=="all"&&(x=x.filter(S=>S.assignedMechanic===f));const b=p.reduce((S,H)=>S+H.amount,0),z=x.filter(S=>S.status==="completed").length,ee=x.length,ae=ee>0?b/ee:0,re=i.mechanics.map(S=>{const H=x.filter(ke=>ke.assignedMechanic===S.name),se=H.filter(ke=>ke.status==="completed").length,W=p.filter(ke=>{const Le=i.jobSheets.find(Dt=>Dt.id===ke.jobSheetId);return Le&&Le.assignedMechanic===S.name}).reduce((ke,Le)=>ke+Le.amount,0);return{name:S.name,totalJobs:H.length,completedJobs:se,revenue:W,efficiency:H.length>0?se/H.length*100:0}}),je=i.inventory.map(S=>{const H=i.repairHistory.filter(se=>se.parts.includes(S.name)).length;return{name:S.name,category:S.category,quantity:S.quantity,used:H,value:S.quantity*S.price}});return{totalRevenue:b,completedJobs:z,totalJobs:ee,averageJobValue:ae,mechanicStats:re,partsUsage:je,filteredPayments:p}})(),M=I=>{const{name:G,value:ne}=I.target;B(x=>({...x,[G]:ne}))},ie=I=>{I.preventDefault(),l(y?{type:"UPDATE_PAYMENT",payload:{..._,id:y.id}}:{type:"ADD_PAYMENT",payload:_}),E(!1),j(null),B({jobSheetId:"",amount:"",date:"",status:"paid",method:"cash"})},ce=I=>{j(I),B(I),E(!0)},de=I=>{window.confirm("Are you sure you want to delete this payment record?")&&l({type:"DELETE_PAYMENT",payload:I})},Se=i.user.role==="owner",Te=[{id:"overview",name:"Overview",icon:Wa},{id:"payments",name:"Payments",icon:cr},{id:"mechanics",name:"Mechanic Performance",icon:Fs},{id:"inventory",name:"Parts Usage",icon:An}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reports & Analytics"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Financial insights and performance analytics"})]}),r.jsxs("div",{className:"mt-4 sm:mt-0 flex space-x-2",children:[r.jsxs("button",{className:"btn-secondary flex items-center",children:[r.jsx(Ka,{className:"h-4 w-4 mr-2"}),"Export PDF"]}),r.jsxs("button",{className:"btn-primary flex items-center",children:[r.jsx(Ka,{className:"h-4 w-4 mr-2"}),"Export Excel"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[r.jsxs("select",{value:d,onChange:I=>h(I.target.value),className:"input-field",children:[r.jsx("option",{value:"month",children:"This Month"}),r.jsx("option",{value:"year",children:"This Year"}),r.jsx("option",{value:"all",children:"All Time"})]}),r.jsxs("select",{value:f,onChange:I=>g(I.target.value),className:"input-field",children:[r.jsx("option",{value:"all",children:"All Mechanics"}),i.mechanics.map(I=>r.jsx("option",{value:I.name,children:I.name},I.id))]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(jo,{className:"h-4 w-4 mr-2"}),le.filteredPayments.length," payments found"]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Generate PDF Reports"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[r.jsxs("div",{className:"flex gap-2 flex-wrap",children:[r.jsx("button",{onClick:K,className:"btn-secondary",children:"Generate Car Profiles PDF"}),r.jsx("button",{onClick:U,className:"btn-secondary",children:"Download Car Profiles PDF"})]}),r.jsxs("div",{className:"flex gap-2 flex-wrap",children:[r.jsx("button",{onClick:te,className:"btn-secondary",children:"Generate Job Sheet PDF"}),r.jsx("button",{onClick:L,className:"btn-secondary",children:"Download Job Sheet PDF"})]}),r.jsxs("div",{className:"flex gap-2 flex-wrap",children:[r.jsx("button",{onClick:ue,className:"btn-secondary",children:"Generate Inventory PDF"}),r.jsx("button",{onClick:T,className:"btn-secondary",children:"Download Inventory PDF"})]}),r.jsxs("div",{className:"flex gap-2 flex-wrap",children:[r.jsx("button",{onClick:$,className:"btn-secondary",children:"Generate Mechanics PDF"}),r.jsx("button",{onClick:J,className:"btn-secondary",children:"Download Mechanics PDF"})]}),r.jsxs("div",{className:"flex gap-2 flex-wrap",children:[r.jsx("button",{onClick:D,className:"btn-secondary",children:"Generate Payments PDF"}),r.jsx("button",{onClick:q,className:"btn-secondary",children:"Download Payments PDF"})]})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Generate reports open in a new tab and can be saved as PDF via the browser's print dialog. Download reports are generated server-side."})]}),r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("nav",{className:"-mb-px flex space-x-8",children:Te.map(I=>{const G=I.icon;return r.jsxs("button",{onClick:()=>u(I.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${a===I.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(G,{className:"h-4 w-4 mr-2"}),I.name]},I.id)})})}),a==="overview"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[r.jsx("div",{className:"card",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 p-3 rounded-lg bg-green-100",children:r.jsx(cr,{className:"h-6 w-6 text-green-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Revenue"}),r.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",le.totalRevenue.toFixed(2)]})]})]})}),r.jsx("div",{className:"card",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 p-3 rounded-lg bg-blue-100",children:r.jsx(ct,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Jobs Completed"}),r.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:le.completedJobs})]})]})}),r.jsx("div",{className:"card",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 p-3 rounded-lg bg-yellow-100",children:r.jsx(Xa,{className:"h-6 w-6 text-yellow-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Average Job Value"}),r.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",le.averageJobValue.toFixed(2)]})]})]})}),r.jsx("div",{className:"card",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 p-3 rounded-lg bg-purple-100",children:r.jsx(Wa,{className:"h-6 w-6 text-purple-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Completion Rate"}),r.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[le.totalJobs>0?Math.round(le.completedJobs/le.totalJobs*100):0,"%"]})]})]})})]}),r.jsxs("div",{className:"card",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue Trend"}),r.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Wa,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500",children:"Revenue chart would be displayed here"})]})})]})]}),a==="payments"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Payment Records"}),r.jsxs("button",{onClick:()=>E(!0),className:"btn-primary flex items-center",children:[r.jsx(cr,{className:"h-4 w-4 mr-2"}),"Add Payment"]})]}),r.jsx("div",{className:"card overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"table-header",children:"Job"}),r.jsx("th",{className:"table-header",children:"Amount"}),r.jsx("th",{className:"table-header",children:"Date"}),r.jsx("th",{className:"table-header",children:"Status"}),r.jsx("th",{className:"table-header",children:"Method"}),r.jsx("th",{className:"table-header",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:le.filteredPayments.map(I=>{const G=i.jobSheets.find(x=>x.id===I.jobSheetId),ne=G?i.cars.find(x=>x.id===G.carId):null;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"table-cell",children:ne?`${ne.make} ${ne.model}`:"Unknown Job"}),r.jsxs("td",{className:"table-cell font-medium text-green-600",children:["$",I.amount.toFixed(2)]}),r.jsx("td",{className:"table-cell",children:new Date(I.date).toLocaleDateString()}),r.jsx("td",{className:"table-cell",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${I.status==="paid"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:I.status})}),r.jsx("td",{className:"table-cell capitalize",children:I.method.replace("_"," ")}),r.jsx("td",{className:"table-cell",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>ce(I),className:"text-gray-400 hover:text-blue-600",title:"Edit",children:r.jsx(ur,{className:"h-4 w-4"})}),Se&&r.jsx("button",{onClick:()=>de(I.id),className:"text-gray-400 hover:text-red-600",title:"Delete",children:r.jsx(Kt,{className:"h-4 w-4"})})]})})]},I.id)})})]})})})]}),a==="mechanics"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Mechanic Performance"}),r.jsx("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:le.mechanicStats.map(I=>r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900",children:I.name}),r.jsxs("span",{className:"text-sm text-gray-500",children:[I.efficiency.toFixed(1),"% efficiency"]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Total Jobs:"}),r.jsx("span",{className:"font-medium",children:I.totalJobs})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Completed:"}),r.jsx("span",{className:"font-medium text-green-600",children:I.completedJobs})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Revenue Generated:"}),r.jsxs("span",{className:"font-medium text-green-600",children:["$",I.revenue.toFixed(2)]})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-1",children:[r.jsx("span",{children:"Efficiency"}),r.jsxs("span",{children:[I.efficiency.toFixed(1),"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:`${I.efficiency}%`}})})]})]},I.name))})]}),a==="inventory"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Parts Usage Analysis"}),r.jsx("div",{className:"card overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"table-header",children:"Part Name"}),r.jsx("th",{className:"table-header",children:"Category"}),r.jsx("th",{className:"table-header",children:"Current Stock"}),r.jsx("th",{className:"table-header",children:"Times Used"}),r.jsx("th",{className:"table-header",children:"Value"}),r.jsx("th",{className:"table-header",children:"Status"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:le.partsUsage.map(I=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"table-cell font-medium",children:I.name}),r.jsx("td",{className:"table-cell",children:r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:I.category})}),r.jsx("td",{className:"table-cell",children:I.quantity}),r.jsx("td",{className:"table-cell",children:I.used}),r.jsxs("td",{className:"table-cell font-medium",children:["$",I.value.toFixed(2)]}),r.jsx("td",{className:"table-cell",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${I.quantity===0?"bg-red-100 text-red-800":I.quantity<=5?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:I.quantity===0?"Out of Stock":I.quantity<=5?"Low Stock":"In Stock"})})]},I.name))})]})})})]}),v&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>E(!1)}),r.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:r.jsxs("form",{onSubmit:ie,children:[r.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:y?"Edit Payment Record":"Add New Payment"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Sheet *"}),r.jsxs("select",{name:"jobSheetId",value:_.jobSheetId,onChange:M,required:!0,className:"input-field",children:[r.jsx("option",{value:"",children:"Choose a job..."}),i.jobSheets.map(I=>{const G=i.cars.find(ne=>ne.id===I.carId);return r.jsx("option",{value:I.id,children:G?`${G.make} ${G.model} - ${I.assignedMechanic}`:`Job ${I.id}`},I.id)})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount *"}),r.jsx("input",{type:"number",name:"amount",value:_.amount,onChange:M,required:!0,min:"0",step:"0.01",className:"input-field"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date *"}),r.jsx("input",{type:"date",name:"date",value:_.date,onChange:M,required:!0,className:"input-field"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status *"}),r.jsxs("select",{name:"status",value:_.status,onChange:M,required:!0,className:"input-field",children:[r.jsx("option",{value:"paid",children:"Paid"}),r.jsx("option",{value:"pending",children:"Pending"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method *"}),r.jsxs("select",{name:"method",value:_.method,onChange:M,required:!0,className:"input-field",children:[r.jsx("option",{value:"cash",children:"Cash"}),r.jsx("option",{value:"credit_card",children:"Credit Card"}),r.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),r.jsx("option",{value:"check",children:"Check"})]})]})]})]})]}),r.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[r.jsxs("button",{type:"submit",className:"btn-primary sm:ml-3 sm:w-auto w-full",children:[y?"Update":"Add"," Payment"]}),r.jsx("button",{type:"button",onClick:()=>{E(!1),j(null),B({jobSheetId:"",amount:"",date:"",status:"paid",method:"cash"})},className:"btn-secondary mt-3 sm:mt-0 sm:w-auto w-full",children:"Cancel"})]})]})})]})})]})},rx=()=>{const{state:i,dispatch:l}=ss(),{logout:a,user:u}=zt(),d=mr(),[h,f]=k.useState(""),[g,v]=k.useState(!1),[E,y]=k.useState(!1),[j,_]=k.useState(null),[B,O]=k.useState(!1),[U,L]=k.useState(""),[T,J]=k.useState("all"),[q,K]=k.useState("created"),[te,ue]=k.useState(""),$=()=>{a(),d("/")};k.useEffect(()=>{(async()=>{if(!i.mechanics||i.mechanics.length===0)try{v(!0);const x=await ge("/mechanics"),b=(Array.isArray(x?.data)?x.data:[]).map(z=>({...z,id:z.id||z._id}));l({type:"SET_MECHANICS",payload:b})}catch{}finally{v(!1)}if(!i.cars||i.cars.length===0)try{const x=await ge("/cars"),b=(Array.isArray(x?.data)?x.data:[]).map(z=>({...z,createdAt:z.createdAt||new Date().toISOString(),updatedAt:z.updatedAt||z.createdAt||new Date().toISOString()}));l({type:"SET_CARS",payload:b})}catch{}if(!i.jobSheets||i.jobSheets.length===0)try{const x=await ge("/jobs"),b=(Array.isArray(x?.data)?x.data:[]).map(z=>({id:z.id,carId:z.car&&(z.car.id||z.car._id)?z.car.id||z.car._id:z.carId||z.car,assignedMechanic:z.assignedMechanic,tasks:Array.isArray(z.tasks)?z.tasks:[],status:z.status,createdAt:z.createdAt,estimatedCompletion:z.estimatedCompletion||"",appointmentCustomerName:z.appointment?.customerName,appointmentVehicle:z.appointment?.vehicle,appointmentServiceType:z.appointment?.serviceType,appointmentDate:z.appointment?.preferredDate}));l({type:"SET_JOB_SHEETS",payload:b})}catch{}})()},[l,i.mechanics,i.jobSheets,i.cars]),k.useEffect(()=>{const p=new URLSearchParams(window.location.search).get("mechanic");if(p){f(p);return}if(u?.role==="mechanic"&&u?.name){f(u.name);return}i.mechanics.length>0&&f(i.mechanics[0].name)},[i.mechanics,u]);const D=u?.role==="mechanic"?{id:u.id||"self",name:u.name||"Me",experience:"",availability:"available",skills:[]}:void 0,V=i.mechanics.find(x=>x.name===h)||(D&&D.name===h?D:void 0),le=i.mechanics.length>0?i.mechanics:u?.role==="mechanic"?[D]:[],M=i.jobSheets.filter(x=>{const p=x.assignedMechanic===h;return!p&&x.assignedMechanic&&console.log(`Job ${x.id}: assignedMechanic="${x.assignedMechanic}", selectedMechanic="${h}"`),p}).filter(x=>{let p=i.cars.find(ee=>ee.id===x.carId);p||(p=i.cars.find(ee=>ee._id===x.carId)),p||(p=i.cars.find(ee=>String(ee.id)===String(x.carId))),p||(p=i.cars.find(ee=>String(ee._id)===String(x.carId)));const b=!U||p&&(p.licensePlate.toLowerCase().includes(U.toLowerCase())||p.make.toLowerCase().includes(U.toLowerCase())||p.model.toLowerCase().includes(U.toLowerCase())),z=T==="all"||x.status===T;return b&&z}).sort((x,p)=>{switch(q){case"created":return new Date(p.createdAt)-new Date(x.createdAt);case"progress":return I(p)-I(x);case"status":return x.status.localeCompare(p.status);default:return 0}}),ie=async(x,p,b)=>{try{await ge(`/jobs/${x}`,{method:"PUT",body:{tasks:p,status:b}})}catch(z){console.error("Failed to persist tasks",z)}},ce=(x,p,b)=>{const z=i.jobSheets.find(je=>je.id===x);if(!z)return;const ee=[...z.tasks];ee[p]={...ee[p],completed:b};const re=ee.every(je=>je.completed)?"completed":"in_progress";l({type:"UPDATE_JOB_SHEET",payload:{id:x,tasks:ee,status:re}}),ie(x,ee,re)},de=x=>{const p=te.trim();if(!p)return;const b=i.jobSheets.find(ae=>ae.id===x);if(!b)return;const z=[...b.tasks,{description:p,completed:!1}],ee="in_progress";l({type:"UPDATE_JOB_SHEET",payload:{id:x,tasks:z,status:ee}}),ue(""),ie(x,z,ee)},Se=(x,p,b)=>{const z=i.jobSheets.find(je=>je.id===x);if(!z)return;const ee=[...z.tasks];ee[p]={...ee[p],description:b};const re=ee.every(je=>je.completed)?"completed":"in_progress";l({type:"UPDATE_JOB_SHEET",payload:{id:x,tasks:ee,status:re}}),ie(x,ee,re)},Te=(x,p)=>{const b=i.jobSheets.find(re=>re.id===x);if(!b)return;const z=b.tasks.filter((re,je)=>je!==p),ee=z.every(re=>re.completed),ae=z.length===0?"pending":ee?"completed":"in_progress";l({type:"UPDATE_JOB_SHEET",payload:{id:x,tasks:z,status:ae}}),ie(x,z,ae)},I=x=>{const p=x.tasks.filter(z=>z.completed).length,b=x.tasks.length;return b>0?p/b*100:0},G=x=>{switch(x){case"completed":return r.jsx(ut,{className:"h-5 w-5 text-green-500"});case"in_progress":return r.jsx(Jt,{className:"h-5 w-5 text-yellow-500"});case"pending":return r.jsx(Mn,{className:"h-5 w-5 text-gray-500"});default:return r.jsx(Jt,{className:"h-5 w-5 text-gray-500"})}},ne=x=>{switch(x){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return g||!V&&i.mechanics.length===0&&u?.role!=="mechanic"?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mx-auto mb-4 w-12 h-12 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Loading mechanics"}),r.jsx("p",{className:"text-gray-600",children:"Please wait while we load your data."})]})}):V?r.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[r.jsx("div",{className:"lg:hidden bg-white shadow-sm border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[r.jsx("button",{onClick:()=>y(!0),className:"text-gray-500 hover:text-gray-700",children:r.jsx(cm,{className:"h-6 w-6"})}),r.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Mechanic Dashboard"}),r.jsx("button",{onClick:$,className:"text-gray-500 hover:text-red-600 transition-colors",title:"Logout",children:r.jsx(co,{className:"h-6 w-6"})})]})}),r.jsxs("div",{className:`fixed inset-0 z-50 lg:relative lg:inset-0 ${E?"block":"hidden lg:block"}`,children:[r.jsx("div",{className:"lg:hidden fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>y(!1)}),r.jsxs("div",{className:"relative flex flex-col w-72 h-full bg-gradient-to-b from-gray-50 to-white border-r border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-white",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg flex items-center justify-center mr-3",children:r.jsx(ct,{className:"h-6 w-6 text-white"})}),r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Mechanic Dashboard"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:$,className:"text-gray-500 hover:text-red-600 transition-colors",title:"Logout",children:r.jsx(co,{className:"h-5 w-5"})}),r.jsx("button",{onClick:()=>y(!1),className:"lg:hidden text-gray-500 hover:text-gray-700",children:r.jsx(Tt,{className:"h-5 w-5"})})]})]}),r.jsxs("div",{className:"p-3 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-full flex items-center justify-center mr-3",children:r.jsx(Rs,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-base font-semibold text-gray-900",children:V.name}),r.jsxs("p",{className:"text-xs text-gray-600",children:[V.experience," experience"]})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${ne(V.availability)}`,children:[r.jsx("div",{className:"w-2 h-2 bg-current rounded-full mr-1"}),V.availability]}),r.jsxs("div",{className:"flex items-center text-yellow-500",children:[r.jsx(No,{className:"h-3 w-3 mr-1"}),r.jsx("span",{className:"text-xs font-medium",children:"4.8"})]})]})]}),r.jsxs("div",{className:"p-3 border-b border-gray-200",children:[r.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-3",children:"Today's Performance"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:r.jsx(ct,{className:"h-4 w-4 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Total Jobs"}),r.jsx("p",{className:"text-xl font-bold text-gray-900",children:M.length})]})]})}),r.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center mr-3",children:r.jsx(ut,{className:"h-4 w-4 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Completed"}),r.jsx("p",{className:"text-xl font-bold text-gray-900",children:M.filter(x=>x.status==="completed").length})]})]})}),r.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-lg flex items-center justify-center mr-3",children:r.jsx(Jt,{className:"h-4 w-4 text-yellow-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:"In Progress"}),r.jsx("p",{className:"text-xl font-bold text-gray-900",children:M.filter(x=>x.status==="in_progress").length})]})]})}),r.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center mr-3",children:r.jsx(Xa,{className:"h-4 w-4 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Efficiency"}),r.jsxs("p",{className:"text-xl font-bold text-gray-900",children:[M.length>0?Math.round(M.filter(x=>x.status==="completed").length/M.length*100):0,"%"]})]})]})})]})]}),r.jsxs("div",{className:"p-3 border-b border-gray-200",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Switch Mechanic"}),r.jsx("select",{value:h,onChange:x=>f(x.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:le.map(x=>r.jsx("option",{value:x.name,children:x.name},x.id))})]}),r.jsxs("div",{className:"p-3",children:[r.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-3",children:"Specializations"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:V.skills.map((x,p)=>r.jsx("span",{className:"inline-flex items-center px-3 py-2 rounded-full text-sm font-medium bg-gradient-to-r from-blue-100 to-indigo-100 text-blue-800 border border-blue-200",children:x},p))})]})]})]}),r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"p-4 lg:p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Jobs"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Track and update your assigned repair tasks"})]}),r.jsxs("div",{className:"mt-4 sm:mt-0 flex items-center space-x-2",children:[r.jsxs("div",{className:"text-sm text-gray-500",children:[M.length," job",M.length!==1?"s":""," found"]}),r.jsx("button",{onClick:async()=>{try{const[x,p]=await Promise.all([ge("/jobs"),ge("/cars")]),b=Array.isArray(x?.data)?x.data:[],z=Array.isArray(p?.data)?p.data:[],ee=b.map(re=>({id:re.id,carId:re.car&&(re.car.id||re.car._id)?re.car.id||re.car._id:re.carId||re.car,assignedMechanic:re.assignedMechanic,tasks:Array.isArray(re.tasks)?re.tasks:[],status:re.status,createdAt:re.createdAt,estimatedCompletion:re.estimatedCompletion||"",appointmentCustomerName:re.appointment?.customerName,appointmentVehicle:re.appointment?.vehicle,appointmentServiceType:re.appointment?.serviceType,appointmentDate:re.appointment?.preferredDate})),ae=z.map(re=>({...re,createdAt:re.createdAt||new Date().toISOString(),updatedAt:re.updatedAt||re.createdAt||new Date().toISOString()}));l({type:"SET_JOB_SHEETS",payload:ee}),l({type:"SET_CARS",payload:ae})}catch(x){console.error("Failed to refresh data:",x)}},className:"px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors",children:"Refresh"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4 mb-6",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg p-4 text-white",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ct,{className:"h-8 w-8 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-blue-100 text-sm",children:"Total Jobs"}),r.jsx("p",{className:"text-2xl font-bold",children:M.length})]})]})}),r.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-lg p-4 text-white",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ut,{className:"h-8 w-8 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-green-100 text-sm",children:"Completed"}),r.jsx("p",{className:"text-2xl font-bold",children:M.filter(x=>x.status==="completed").length})]})]})}),r.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-yellow-600 rounded-lg p-4 text-white",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Jt,{className:"h-8 w-8 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-yellow-100 text-sm",children:"In Progress"}),r.jsx("p",{className:"text-2xl font-bold",children:M.filter(x=>x.status==="in_progress").length})]})]})}),r.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg p-4 text-white",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Xa,{className:"h-8 w-8 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-purple-100 text-sm",children:"Efficiency"}),r.jsxs("p",{className:"text-2xl font-bold",children:[M.length>0?Math.round(M.filter(x=>x.status==="completed").length/M.length*100):0,"%"]})]})]})})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search by car make, model, or license plate...",value:U,onChange:x=>L(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("select",{value:T,onChange:x=>J(x.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"in_progress",children:"In Progress"}),r.jsx("option",{value:"completed",children:"Completed"})]}),r.jsxs("select",{value:q,onChange:x=>K(x.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"created",children:"Sort by Created Date"}),r.jsx("option",{value:"progress",children:"Sort by Progress"}),r.jsx("option",{value:"status",children:"Sort by Status"})]})]})})]}),r.jsx("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4",children:M.map(x=>{let p=i.cars.find(ae=>ae.id===x.carId);if(p||(p=i.cars.find(ae=>ae._id===x.carId)),p||(p=i.cars.find(ae=>String(ae.id)===String(x.carId))),p||(p=i.cars.find(ae=>String(ae._id)===String(x.carId))),!p&&x.appointmentVehicle){const ae=x.appointmentVehicle.toLowerCase();p=i.cars.find(re=>{const je=`${re.make} ${re.model}`.toLowerCase();return ae.includes(je)||je.includes(ae)})}!p&&x.carId&&(console.log(`Job ${x.id}: carId="${x.carId}" (type: ${typeof x.carId})`),console.log("Available cars:",i.cars.map(ae=>({id:ae.id,_id:ae._id,make:ae.make,model:ae.model,idType:typeof ae.id,_idType:typeof ae._id}))),console.log("Job details:",x));const b=I(x),z=x.tasks.filter(ae=>ae.completed).length,ee=x.tasks.length;return r.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 h-fit",children:[r.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-4 py-3 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mr-4",children:r.jsx(As,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:p?`${p.make} ${p.model}`:x.appointmentVehicle||"Unknown Car"}),r.jsx("p",{className:"text-sm text-gray-500",children:p?p.licensePlate:x.appointmentCustomerName?`Customer: ${x.appointmentCustomerName}`:"No License Plate"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[G(x.status),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${ne(x.status)}`,children:x.status.replace("_"," ")})]})]})}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-2",children:[r.jsx("span",{className:"font-medium",children:"Progress"}),r.jsxs("span",{className:"font-semibold",children:[Math.round(b),"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:r.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-3 rounded-full transition-all duration-500",style:{width:`${b}%`}})}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[r.jsxs("span",{children:[z," completed"]}),r.jsxs("span",{children:[ee-z," remaining"]})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Tasks"}),r.jsxs("div",{className:"space-y-2",children:[x.tasks.slice(0,3).map((ae,re)=>r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx("button",{onClick:()=>ce(x.id,re,!ae.completed),className:"mr-3 p-1 hover:bg-gray-100 rounded",children:ae.completed?r.jsx(Kp,{className:"h-4 w-4 text-green-600"}):r.jsx(t0,{className:"h-4 w-4 text-gray-400"})}),r.jsx("span",{className:`flex-1 ${ae.completed?"line-through text-gray-500":"text-gray-700"}`,children:ae.description})]},re)),x.tasks.length>3&&r.jsxs("p",{className:"text-xs text-gray-500 ml-7",children:["+",x.tasks.length-3," more tasks"]})]})]}),r.jsxs("div",{className:"space-y-2 mb-4 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(es,{className:"h-4 w-4 mr-2"}),r.jsxs("span",{children:["Created: ",new Date(x.createdAt).toLocaleDateString()]})]}),x.estimatedCompletion&&r.jsxs("div",{className:"flex items-center",children:[r.jsx(Jt,{className:"h-4 w-4 mr-2"}),r.jsxs("span",{children:["Due: ",new Date(x.estimatedCompletion).toLocaleDateString()]})]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>{_(x),O(!0)},className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[r.jsx(ts,{className:"h-4 w-4 mr-2"}),"View Details"]}),r.jsx("button",{onClick:()=>{_(x),O(!0)},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:r.jsx(ur,{className:"h-4 w-4"})})]})]})]},x.id)})}),M.length===0&&r.jsxs("div",{className:"text-center py-16",children:[r.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(ct,{className:"h-12 w-12 text-gray-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Jobs Found"}),r.jsx("p",{className:"text-gray-600 mb-6",children:U||T!=="all"?"Try adjusting your search or filter criteria.":"You don't have any jobs assigned at the moment."}),(U||T!=="all")&&r.jsx("button",{onClick:()=>{L(""),J("all")},className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Clear Filters"})]})]})}),B&&j&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>O(!1)}),r.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full",children:r.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Job Details"}),r.jsx("button",{onClick:()=>O(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(Tt,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Status:"}),r.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs ${ne(j.status)}`,children:j.status.replace("_"," ")})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Progress:"}),r.jsxs("span",{className:"ml-2 text-gray-900",children:[Math.round(I(j)),"%"]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Tasks"}),r.jsx("div",{className:"space-y-2",children:j.tasks.map((x,p)=>r.jsxs("div",{className:"flex items-center space-x-3 p-2 bg-gray-50 rounded",children:[r.jsx("input",{type:"checkbox",checked:x.completed,onChange:b=>ce(j.id,p,b.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),r.jsx("input",{type:"text",value:x.description,onChange:b=>Se(j.id,p,b.target.value),className:`flex-1 bg-white border border-gray-200 rounded px-2 py-1 text-sm ${x.completed?"line-through text-gray-500":"text-gray-900"}`}),r.jsx("button",{onClick:()=>Te(j.id,p),className:"text-red-600 hover:text-red-700 text-sm px-2 py-1",title:"Delete task",children:"Delete"})]},p))}),r.jsxs("div",{className:"mt-3 flex space-x-2",children:[r.jsx("input",{type:"text",value:te,onChange:x=>ue(x.target.value),placeholder:"Add new task description",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx("button",{onClick:()=>de(j.id),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Add Task"})]})]})]})]})})]})})]}):r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Rs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Mechanic Selected"}),r.jsx("p",{className:"text-gray-600",children:"Please select a mechanic from the sidebar."})]})})},sx=()=>{const{user:i,logout:l}=zt(),a=mr(),[u,d]=k.useState("overview"),[h,f]=k.useState([]),[g,v]=k.useState([]),[E,y]=k.useState([]),[j,_]=k.useState(null),[B,O]=k.useState(!1),[U,L]=k.useState(null),[T,J]=k.useState("Oil Change");k.useEffect(()=>{(async()=>{try{const D=await ge("/jobs"),le=(Array.isArray(D?.data)?D.data:[]).map(M=>({id:M.id,date:new Date(M.createdAt).toLocaleDateString(),service:M.appointment?.serviceType||M.tasks?.[0]?.description||"Service",vehicle:M.car?`${M.car.make} ${M.car.model}`:M.appointment?.vehicle||"Unknown Vehicle",cost:0,status:M.status||"pending",mechanic:M.assignedMechanic||""}));v(le)}catch{}try{const D=await ge("/appointments"),le=(Array.isArray(D?.data)?D.data:[]).filter(M=>new Date(M.preferredDate)>=new Date).map(M=>({id:M.id,date:new Date(M.preferredDate).toLocaleDateString(),time:new Date(M.preferredDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),service:M.serviceType,status:"scheduled",vehicle:M.vehicle}));f(le)}catch{}})(),y([{id:1,date:"2024-01-26",time:"9:00 AM",available:!0},{id:2,date:"2024-01-26",time:"11:00 AM",available:!0},{id:3,date:"2024-01-26",time:"2:00 PM",available:!1},{id:4,date:"2024-01-27",time:"10:00 AM",available:!0},{id:5,date:"2024-01-27",time:"3:00 PM",available:!0}])},[]);const q=D=>{_(D),O(!0)},K=async D=>{try{const V={amount:150,paymentMethod:D.method==="credit"?"card":D.method,description:`Service booking for ${j?.service||"General Service"}`,date:new Date().toISOString(),status:"completed",transactionId:`TXN${Date.now()}`,...D.method==="credit"&&{cardLastFour:D.cardNumber?.slice(-4)||"****"}},le=await ge("/payments",{method:"POST",body:V});L({...D,slot:j,amount:150,transactionId:V.transactionId,id:le.data?.id}),O(!1),setTimeout(()=>{alert("Payment successful! Your appointment has been confirmed.")},1e3)}catch(V){console.error("Payment failed:",V),alert("Payment failed. Please try again.")}},te=()=>{if(!U)return;const D=`
AUTO WORKSHOP RECEIPT
========================

Customer: ${i.name}
Email: ${i.email}
Date: ${new Date().toLocaleDateString()}
Transaction ID: ${U.transactionId}

Service Details:
- Service: ${j.service||"General Service"}
- Date: ${j.date}
- Time: ${j.time}
- Amount: $${U.amount}

Payment Method: ${U.method}
Card Ending: ****${U.cardNumber.slice(-4)}

Thank you for choosing our workshop!
    `,V=new Blob([D],{type:"text/plain"}),le=URL.createObjectURL(V),M=document.createElement("a");M.href=le,M.download=`receipt-${U.transactionId}.txt`,document.body.appendChild(M),M.click(),document.body.removeChild(M),URL.revokeObjectURL(le)},ue=[{id:"overview",name:"Overview",icon:Rs},{id:"history",name:"Repair History",icon:Za},{id:"book",name:"Book Appointment",icon:es},{id:"slots",name:"Available Slots",icon:Jt},{id:"payments",name:"Payments",icon:En}],$=async D=>{D.preventDefault();try{const V=D.target.vehicle?.value||"",le=D.target.serviceType?.value||"",M=D.target.otherType?.value||"",ie=le==="other"?M||"Other":le,ce=D.target.preferredDate?.value,de=D.target.notes?.value||"";await(await Cm(async()=>{const{apiRequest:Se}=await Promise.resolve().then(()=>nm);return{apiRequest:Se}},void 0)).apiRequest("/appointments",{method:"POST",body:{customerName:i?.name||"Customer",customerEmail:i?.email||"",vehicle:V,serviceType:ie,preferredDate:ce,notes:de}}),alert("Appointment submitted")}catch(V){console.error(V)}};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[r.jsx("div",{className:"bg-white shadow-sm border-b",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center py-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Customer Dashboard"}),r.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Welcome back, ",i.name,"! Manage your vehicle services."]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 bg-green-100 px-3 py-1 rounded-full",children:[r.jsx(ut,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"text-sm font-medium text-green-800",children:"Active Customer"})]}),r.jsx("button",{onClick:()=>{l(),a("/")},className:"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-lg",children:"Logout"})]})]})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:r.jsx("nav",{className:"space-y-2",children:ue.map(D=>{const V=D.icon;return r.jsxs("button",{onClick:()=>d(D.id),className:`w-full flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors ${u===D.id?"bg-blue-100 text-blue-700 border-r-2 border-blue-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[r.jsx(V,{className:"h-5 w-5 mr-3"}),D.name]},D.id)})})})}),r.jsxs("div",{className:"lg:col-span-3",children:[u==="overview"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:r.jsx(As,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Services"}),r.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:g.length})]})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:r.jsx(es,{className:"h-6 w-6 text-green-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Upcoming Appointments"}),r.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:h.length})]})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:r.jsx(En,{className:"h-6 w-6 text-purple-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Spent"}),r.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",g.reduce((D,V)=>D+V.cost,0).toFixed(2)]})]})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Activity"}),r.jsx("div",{className:"space-y-4",children:g.slice(0,3).map(D=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(ut,{className:"h-5 w-5 text-green-600"})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:D.service}),r.jsxs("p",{className:"text-xs text-gray-500",children:[D.date,"  ",D.vehicle]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["$",D.cost]}),r.jsx("p",{className:"text-xs text-gray-500",children:D.status})]})]},D.id))})]})]}),u==="history"&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Vehicle Repair History"}),r.jsx("div",{className:"space-y-4",children:g.map(D=>r.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900",children:D.service}),r.jsx("p",{className:"text-sm text-gray-500",children:D.vehicle}),r.jsxs("p",{className:"text-xs text-gray-400",children:["Mechanic: ",D.mechanic]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["$",D.cost]}),r.jsx("p",{className:"text-xs text-gray-500",children:D.date}),r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${D.status==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:D.status})]})]})},D.id))})]}),u==="book"&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Book New Appointment"}),r.jsxs("form",{className:"space-y-6",onSubmit:$,children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle"}),r.jsx("input",{name:"vehicle",type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Toyota Camry 2020",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Type"}),r.jsxs("select",{name:"serviceType",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",onChange:D=>J(D.target.value),value:T,children:[r.jsx("option",{value:"Oil Change",children:"Oil Change"}),r.jsx("option",{value:"Brake Service",children:"Brake Service"}),r.jsx("option",{value:"Engine Diagnostic",children:"Engine Diagnostic"}),r.jsx("option",{value:"Annual Inspection",children:"Annual Inspection"}),r.jsx("option",{value:"other",children:"Other"})]}),T==="other"&&r.jsx("input",{name:"otherType",type:"text",className:"mt-2 w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"If Other, specify",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Date"}),r.jsx("input",{name:"preferredDate",type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:new Date().toISOString().split("T")[0],required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes"}),r.jsx("textarea",{name:"notes",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Any specific issues or requests..."})]}),r.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Check Available Slots"})]})]}),u==="slots"&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Available Time Slots"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:E.map(D=>r.jsx("div",{className:`border rounded-lg p-4 ${D.available?"border-green-200 bg-green-50 hover:bg-green-100 cursor-pointer":"border-red-200 bg-red-50 cursor-not-allowed opacity-60"}`,onClick:()=>D.available&&q(D),children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:D.date}),r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:D.time})]}),r.jsx("div",{className:"flex items-center",children:D.available?r.jsxs(r.Fragment,{children:[r.jsx(ut,{className:"h-5 w-5 text-green-600 mr-2"}),r.jsx("span",{className:"text-sm text-green-600 font-medium",children:"Available"})]}):r.jsxs(r.Fragment,{children:[r.jsx(Mn,{className:"h-5 w-5 text-red-600 mr-2"}),r.jsx("span",{className:"text-sm text-red-600 font-medium",children:"Booked"})]})})]})},D.id))})]}),u==="payments"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Payment Management"}),r.jsxs(Me,{to:"/customer/payments",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[r.jsx(En,{className:"h-5 w-5"}),r.jsx("span",{children:"Manage Payments"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Quick Payment"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Make a payment for services or add payment records to your history."}),r.jsxs(Me,{to:"/customer/payments",className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(rs,{className:"h-4 w-4 mr-2"}),"Add Payment"]})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Payment History"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"View all your payment records, download receipts, and manage transactions."}),r.jsxs(Me,{to:"/customer/payments",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Za,{className:"h-4 w-4 mr-2"}),"View History"]})]})]})]}),U&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Payment"}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Transaction #",U.transactionId]}),r.jsxs("p",{className:"text-sm text-gray-500",children:[U.slot.date," at ",U.slot.time]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["$",U.amount]}),r.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Completed"})]})]}),r.jsxs("button",{onClick:te,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Ka,{className:"h-4 w-4 mr-2"}),"Download Receipt"]})]})]})]})]})]})}),B&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Complete Payment"}),r.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Appointment Details:"}),r.jsxs("p",{className:"font-medium",children:[j.date," at ",j.time]}),r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"Amount: $150.00"})]}),r.jsxs("form",{onSubmit:D=>{D.preventDefault();const V=new FormData(D.target);K({method:V.get("method"),cardNumber:V.get("cardNumber"),expiryDate:V.get("expiryDate"),cvv:V.get("cvv")})},className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method"}),r.jsxs("select",{name:"method",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{children:"Credit Card"}),r.jsx("option",{children:"Debit Card"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Card Number"}),r.jsx("input",{type:"text",name:"cardNumber",placeholder:"1234 5678 9012 3456",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Date"}),r.jsx("input",{type:"text",name:"expiryDate",placeholder:"MM/YY",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CVV"}),r.jsx("input",{type:"text",name:"cvv",placeholder:"123",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]}),r.jsxs("div",{className:"flex space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>O(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Pay $150.00"})]})]})]})})]})},nx=()=>{const{user:i}=zt(),[l,a]=k.useState([]),[u,d]=k.useState(!1),[h,f]=k.useState(null),[g,v]=k.useState({amount:"",paymentMethod:"card",cardNumber:"",expiryDate:"",cvv:"",description:"",date:new Date().toISOString().split("T")[0]});k.useEffect(()=>{(async()=>{try{const T=await ge("/payments"),q=(Array.isArray(T?.data)?T.data:[]).map(K=>({...K,amount:Number(K.amount||0),date:K.date?K.date.substring(0,10):new Date().toISOString().substring(0,10)}));a(q)}catch{}})()},[i.id]);const E=T=>{const{name:J,value:q}=T.target;v(K=>({...K,[J]:q}))},y=async T=>{T.preventDefault();try{const J={amount:parseFloat(g.amount),paymentMethod:g.paymentMethod,description:g.description,date:g.date,status:"completed",transactionId:h?.transactionId||`TXN${Date.now()}`,...g.paymentMethod==="card"&&{cardLastFour:g.cardNumber.slice(-4)}};if(h){const q=await ge(`/payments/${h.id}`,{method:"PUT",body:J});a(K=>K.map(te=>te.id===h.id?q.data:te)),f(null),alert("Payment updated successfully!")}else{const q=await ge("/payments",{method:"POST",body:J});a(K=>[q.data,...K]),alert("Payment created successfully!")}v({amount:"",paymentMethod:"card",cardNumber:"",expiryDate:"",cvv:"",description:"",date:new Date().toISOString().split("T")[0]}),d(!1)}catch(J){console.error("Payment operation failed:",J),alert(`Failed to ${h?"update":"create"} payment. Please try again.`)}},j=T=>{f(T),v({amount:T.amount.toString(),paymentMethod:T.paymentMethod,cardNumber:T.cardLastFour?`****${T.cardLastFour}`:"",expiryDate:"",cvv:"",description:T.description,date:T.date}),d(!0)},_=async T=>{if(window.confirm("Are you sure you want to delete this payment record?"))try{console.log("Attempting to delete payment with ID:",T);const J=await ge(`/payments/${T}`,{method:"DELETE"});console.log("Delete response:",J),a(q=>q.filter(K=>K.id!==T)),alert("Payment deleted successfully!")}catch(J){console.error("Failed to delete payment:",J),console.error("Error status:",J.status),console.error("Error data:",J.data);let q="Failed to delete payment. Please try again.";J.status===403?q="You do not have permission to delete this payment.":J.status===404?q="Payment not found. It may have already been deleted.":J.status===401?q="You are not logged in. Please login and try again.":J.status===400&&(q="Invalid payment ID format."),alert(q)}},B=T=>{const J=`
AUTO WORKSHOP PAYMENT RECEIPT
=============================

Customer: ${i.name}
Email: ${i.email}
Date: ${T.date}
Transaction ID: ${T.transactionId}

Payment Details:
- Amount: $${T.amount}
- Method: ${T.paymentMethod==="card"?"Credit Card":"Cash"}
- Description: ${T.description}
${T.cardLastFour?`- Card Ending: ****${T.cardLastFour}`:""}

Status: ${T.status.toUpperCase()}

Thank you for your payment!
    `,q=new Blob([J],{type:"text/plain"}),K=URL.createObjectURL(q),te=document.createElement("a");te.href=K,te.download=`payment-receipt-${T.transactionId}.txt`,document.body.appendChild(te),te.click(),document.body.removeChild(te),URL.revokeObjectURL(K)},O=l.reduce((T,J)=>T+J.amount,0),U=l.filter(T=>T.paymentMethod==="card").length,L=l.filter(T=>T.paymentMethod==="cash").length;return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[r.jsx("div",{className:"bg-white shadow-sm border-b",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center py-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Payment History"}),r.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage your payments and view transaction history"})]}),r.jsxs("button",{onClick:()=>d(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[r.jsx(rs,{className:"h-5 w-5"}),r.jsx("span",{children:"Add Payment"})]})]})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:r.jsx(cr,{className:"h-6 w-6 text-green-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Paid"}),r.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",O.toFixed(2)]})]})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:r.jsx(Za,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Payments"}),r.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:l.length})]})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:r.jsx(En,{className:"h-6 w-6 text-purple-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Card Payments"}),r.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:U})]})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:r.jsx(cr,{className:"h-6 w-6 text-orange-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Cash Payments"}),r.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:L})]})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Payment History"})}),l.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Za,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No payments yet"}),r.jsx("p",{className:"text-gray-500 mb-6",children:"Start by adding your first payment record."}),r.jsx("button",{onClick:()=>d(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Add Payment"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Transaction"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Method"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(T=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:T.transactionId}),r.jsx("div",{className:"text-sm text-gray-500",children:T.description})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["$",T.amount.toFixed(2)]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"flex items-center",children:T.paymentMethod==="card"?r.jsxs(r.Fragment,{children:[r.jsx(En,{className:"h-4 w-4 text-blue-600 mr-2"}),r.jsxs("span",{className:"text-sm text-gray-900",children:["Card ****",T.cardLastFour]})]}):r.jsxs(r.Fragment,{children:[r.jsx(cr,{className:"h-4 w-4 text-green-600 mr-2"}),r.jsx("span",{className:"text-sm text-gray-900",children:"Cash"})]})})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(es,{className:"h-4 w-4 text-gray-400 mr-2"}),r.jsx("span",{className:"text-sm text-gray-900",children:new Date(T.date).toLocaleDateString()})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${T.status==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:[r.jsx(ut,{className:"h-3 w-3 mr-1"}),T.status]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>B(T),className:"text-blue-600 hover:text-blue-900 flex items-center",title:"Download Receipt",children:r.jsx(Ka,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>j(T),className:"text-indigo-600 hover:text-indigo-900 flex items-center",title:"Edit Payment",children:r.jsx(ur,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>_(T.id),className:"text-red-600 hover:text-red-900 flex items-center",title:"Delete Payment",children:r.jsx(Kt,{className:"h-4 w-4"})})]})})]},T.id))})]})})]})]}),u&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:h?"Edit Payment":"Add New Payment"}),r.jsxs("form",{onSubmit:y,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount ($)"}),r.jsx("input",{type:"number",name:"amount",value:g.amount,onChange:E,step:"0.01",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method"}),r.jsxs("select",{name:"paymentMethod",value:g.paymentMethod,onChange:E,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"card",children:"Credit/Debit Card"}),r.jsx("option",{value:"cash",children:"Cash"})]})]}),g.paymentMethod==="card"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Card Number"}),r.jsx("input",{type:"text",name:"cardNumber",value:g.cardNumber,onChange:E,placeholder:"1234 5678 9012 3456",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:g.paymentMethod==="card"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Date"}),r.jsx("input",{type:"text",name:"expiryDate",value:g.expiryDate,onChange:E,placeholder:"MM/YY",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:g.paymentMethod==="card"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CVV"}),r.jsx("input",{type:"text",name:"cvv",value:g.cvv,onChange:E,placeholder:"123",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:g.paymentMethod==="card"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("input",{type:"text",name:"description",value:g.description,onChange:E,placeholder:"e.g., Oil Change Service",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Date"}),r.jsx("input",{type:"date",name:"date",value:g.date,onChange:E,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{className:"flex space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>{d(!1),f(null),v({amount:"",paymentMethod:"card",cardNumber:"",expiryDate:"",cvv:"",description:"",date:new Date().toISOString().split("T")[0]})},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:h?"Update Payment":"Add Payment"})]})]})]})})]})};function ax(){return r.jsx(Wp,{children:r.jsx(Vp,{children:r.jsx(hm,{children:r.jsx(Op,{children:r.jsx("div",{className:"App",children:r.jsxs(_p,{children:[r.jsx(nt,{path:"/",element:r.jsx(a0,{})}),r.jsx(nt,{path:"/login",element:r.jsx(V0,{})}),r.jsx(nt,{path:"/register",element:r.jsx(q0,{})}),r.jsx(nt,{path:"/forgot-password",element:r.jsx(W0,{})}),r.jsx(nt,{path:"/reset-password",element:r.jsx(J0,{})}),r.jsxs(nt,{path:"/dashboard",element:r.jsx(Ba,{allowedRoles:["owner","receptionist"],children:r.jsx(s0,{})}),children:[r.jsx(nt,{index:!0,element:r.jsx(Y0,{})}),r.jsx(nt,{path:"cars",element:r.jsx(K0,{})}),r.jsx(nt,{path:"jobs",element:r.jsx(Z0,{})}),r.jsx(nt,{path:"inventory",element:r.jsx(X0,{})}),r.jsx(nt,{path:"mechanics",element:r.jsx(ex,{})}),r.jsx(nt,{path:"reports",element:r.jsx(tx,{})})]}),r.jsx(nt,{path:"/mechanic",element:r.jsx(Ba,{allowedRoles:["mechanic","owner"],children:r.jsx(rx,{})})}),r.jsx(nt,{path:"/customer",element:r.jsx(Ba,{allowedRoles:["customer"],children:r.jsx(sx,{})})}),r.jsx(nt,{path:"/customer/payments",element:r.jsx(Ba,{allowedRoles:["customer"],children:r.jsx(nx,{})})})]})})})})})})}function lx(){const{show:i}=nl();return k.useEffect(()=>{sm(l=>{i(l.message||"Request failed")})},[i]),r.jsx(ax,{})}const ix=Rf.createRoot(document.getElementById("root"));ix.render(r.jsx(Hd.StrictMode,{children:r.jsx(hm,{children:r.jsx(lx,{})})}));
